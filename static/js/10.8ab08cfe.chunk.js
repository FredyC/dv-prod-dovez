(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{740:function(e,a,t){},742:function(e,a,t){},744:function(e,a,t){},746:function(e,a,t){},748:function(e,a,t){},750:function(e,a,t){},752:function(e,a,t){},754:function(e,a,t){},756:function(e,a,t){},758:function(e,a,t){},760:function(e,a,t){},769:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(6),c=t(394),o=(t(740),t(70)),i=t(31),s=t(507),m=t(518);class d extends n.PureComponent{componentDidMount(){window.scrollTo(0,0)}render(){return null}}var u=t(401),p=t(525),b=t(524),h=t(526),_=t(505),E=(t(742),t(399));var v=({text:e,buttonText:a,buttonRight:t=!1,onButtonClick:n})=>{const l=!1===t?r.a.createElement(E.a,{className:"mobile__header__button","data-testid":"MobileHeaderButton__Left",onClick:n},a):null,c=!0===t?r.a.createElement(E.a,{className:"mobile__header__button","data-testid":"MobileHeaderButton__Right",onClick:n,isConfirm:!0},a):null;return r.a.createElement("div",{className:"mobile__header"},l,r.a.createElement("div",{className:"mobile__header__text"},e),c)},f=(t(744),t(33)),y=t(406),g=t(517);function C(){return(C=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}).apply(this,arguments)}var N=function(e,a){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&a.indexOf(n)<0&&(t[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)a.indexOf(n[r])<0&&(t[n[r]]=e[n[r]])}return t};const k=e=>{var{method:a,disabled:t,onClick:n,children:l}=e,c=N(e,["method","disabled","onClick","children"]);return r.a.createElement(u.a,{observe:!0,render:e=>r.a.createElement(y.Field,{field:"payment",render:o=>r.a.createElement(E.e,C({selected:o.value===a,disabled:t||e.isSubmitting,onClick:()=>{o.setValue(a),n()}},c),e.isSubmitting&&o.value===a?r.a.createElement(g.a,null):l)})})},S=({orderModel:e,onConfirm:a})=>r.a.createElement("div",{className:"mobile__confirm__payment__method"},r.a.createElement(k,{method:f.d.GOPAY,onClick:a,"data-testid":"mobilePaymentMethodGoPay"},r.a.createElement("span",{className:"flaticon-credit-card"},i.b._("Pay by card").toLocaleUpperCase())),r.a.createElement(k,{method:f.d.CASH,onClick:a,"data-testid":"mobilePaymentMethodCash"},r.a.createElement("span",{className:"flaticon-money"},i.b._("Pay by cash").toLocaleUpperCase()))),w=({history:e})=>r.a.createElement("div",{className:"mobile__confirm__view"},r.a.createElement(v,{text:i.b._("Order confirmation"),buttonText:i.b._("Cancel"),onButtonClick:()=>e.goBack()}),r.a.createElement(u.a,{render:e=>r.a.createElement(h.a,{order:e,render:a=>r.a.createElement(r.a.Fragment,null,r.a.createElement(d,null),r.a.createElement(_.a,null),r.a.createElement(m.a,{order:e}),r.a.createElement(s.a,null),r.a.createElement("div",{className:"mobile__confirm__view__form"},r.a.createElement("h3",null,r.a.createElement(o.Trans,{id:"Where and to whom we deliver?"})),r.a.createElement(b.a,null),r.a.createElement(p.a,null)),r.a.createElement("div",{className:"mobile__confirm__view__submit"},r.a.createElement("h4",null,r.a.createElement(o.Trans,{id:"Place order"})),r.a.createElement(S,{orderModel:e,onConfirm:a.submitForm})))})}));t(746);var I=t(430),O=t(32),B=t(522);const M=()=>r.a.createElement("i",null,i.b._("Finding location...")),P=({history:e})=>r.a.createElement("div",null,r.a.createElement(v,{text:i.b._("Enter the address"),buttonText:i.b._("Back"),onButtonClick:()=>e.goBack()}),r.a.createElement("div",{className:"mobile__map__view"},r.a.createElement(O.b,{render:a=>a.location.hasLocation?r.a.createElement(I.a,{model:a.map,render:()=>r.a.createElement(B.a,{onConfirm:()=>e.push("/order"),rootModel:a})}):r.a.createElement(M,null)})));t(748);var x=t(444),L=t(453),T=t(497);const j=({render:e,observe:a})=>r.a.createElement(O.b,{observe:a,render:({business:a})=>a.isValid?e(a):null});var D=t(126),F=t.n(D),$=t(38);const A=F.a`
  query GMobileShopIntro($branchId: ID!) {
    companyBranch(id: $branchId) {
      id
      headerText
    }
  }
`,G=Object($.a)(A),H=e=>r.a.createElement(j,{observe:!0,render:e=>r.a.createElement(G,{variables:{branchId:e.branchId},renderLoading:()=>null,render:({companyBranch:{headerText:e}})=>r.a.createElement("div",{"data-testid":"MobileShopIntro"},e)})}),U=()=>r.a.createElement("div",{className:"mobile__intro"},r.a.createElement(x.b,{className:"mobile__intro__logo","data-testid":"MobileIntroView__BackgroundThemed",imageName:"storeLogoMobile",size:"cover",fixed:!1},r.a.createElement(T.a,null)),r.a.createElement("div",{className:"mobile__intro__info"},r.a.createElement(H,null),r.a.createElement(l.b,null,({history:e})=>r.a.createElement(L.a,{onChange:a=>{a.usingDeliveryOrderMethod?e.push("/delivery"):a.usingPickupOrderMethod&&e.push("/pickup")}}))));t(750);var V=t(504),q=t(521),z=(t(752),t(754),t(201)),R=t.n(z),J=t(520),Q=t(516),W=t(84),Y=(t(756),t(39));const K=Object(Y.b)("div").withConfig({displayName:"MobileCartSummaryCountThemed"})`
  background-color: ${({theme:e})=>e.secondary};
`,X=Object(Y.b)("span").withConfig({displayName:"MobileCartSummaryPriceThemed"})`
  color: ${({theme:e})=>e.primary};
`,Z=({count:e,price:a,isLoading:t,onClick:n})=>{const l=e>0||!0===t;return r.a.createElement("div",{className:"mobile__cart__summary","data-testid":"mobileCartSummary",onClick:n},l?r.a.createElement("div",{className:"mobile__cart__summary__toggle"},r.a.createElement("span",{className:"flaticon-chevron-up"})):null,r.a.createElement("div",{className:"mobile__cart__summary__info"},r.a.createElement("span",{className:"flaticon-cart"}),l?r.a.createElement(K,{className:"mobile__cart__summary__count","data-testid":"mobileCartSummary__Count"},e||"?"):null,l?r.a.createElement("div",{className:"mobile__cart__summary__cart__with__price","data-testid":"mobileCartSummary__Price"},r.a.createElement(o.Trans,{id:"In the cart you have goods for<0>{price}</0>",values:{price:a},components:[r.a.createElement(X,{className:"mobile__cart__summary__price"})]})):r.a.createElement("span",{"data-testid":"cartIsEmpty"},i.b._("Cart is empty"))))};class ee extends n.Component{constructor(){super(...arguments),this.state={isOpen:!1,goConfirm:!1},this.setOpen=(e=>{this.setState({isOpen:e})}),this.onToggle=(()=>{this.isEmpty?this.setOpen(!1):this.setState(e=>({isOpen:!e.isOpen}))}),this.onSubmit=(()=>{this.setState({goConfirm:!0})})}static getDerivedStateFromProps({count:e},{isOpen:a}){return 0===e&&!0===a?{isOpen:!1}:null}get isEmpty(){return 0===this.props.count}render(){const{count:e,price:a,isLoading:t}=this.props,{isOpen:n,goConfirm:c}=this.state;return c?r.a.createElement(l.a,{to:"/confirm",push:!0}):r.a.createElement("div",{className:R()("mobile__sliding__cart",{mobile__sliding__cart__open:n})},r.a.createElement("div",{className:"mobile__cart__view"},r.a.createElement(Z,{count:e,price:a,isLoading:t,onClick:this.onToggle}),n?r.a.createElement(r.a.Fragment,null,r.a.createElement(J.a,null),r.a.createElement(Q.a,{canSubmit:!this.isEmpty,onClick:this.onSubmit})):null))}}const ae=({orderId:e})=>r.a.createElement(W.b,{variables:{orderId:e},renderLoading:!1,render:({order:e},{loading:a})=>r.a.createElement(ee,{count:e?e.countWares:0,price:e?e.totalSum.formattedValue:"???",isLoading:a||!e})});var te=t(495),ne=t(3),re=t(12);const le=ne.b`
  query GMobileShopStatus($branchId: ID!) {
    branch: companyBranch(id: $branchId) {
      id
      ...GCompanyBranchStatus
    }
  }
  ${re.c}
`,ce=Object(ne.a)(le),oe=({branchId:e})=>r.a.createElement(ce,{variables:{branchId:e},render:({branch:e})=>r.a.createElement(te.a,{status:e})}),ie=e=>r.a.createElement(u.a,{redirect:!0,render:e=>r.a.createElement("div",{className:"mobile__order__view"},r.a.createElement(q.a,null),r.a.createElement(ae,{orderId:e.orderId}),r.a.createElement(V.a,{order:e}),r.a.createElement(oe,{branchId:e.branchId}))});var se=t(46),me=t(111),de=(t(758),t(60)),ue=t(441),pe=t(498);const be=de.c.div.withConfig({displayName:"StatusDisplayPosition"})``;var he=({branches:e,onSelect:a,onShowMap:t,onPrefetch:n})=>{return r.a.createElement("div",{className:"mobile__pickup__list"},e.map(e=>r.a.createElement("div",{className:"mobile__pickup__list__item","data-testid":"MobilePickupList",key:e.id},r.a.createElement("div",{className:"mobile__pickup__list__header"},e.name),r.a.createElement(ue.a,{address:e.address}),r.a.createElement(be,null,r.a.createElement(pe.a,{status:e})),r.a.createElement("div",{className:"mobile__pickup__list__buttons"},r.a.createElement(E.d,{onClick:()=>t(e)},r.a.createElement("span",{className:"flaticon-signs"},i.b._("Show on map").toLocaleUpperCase())),e.pickupEnabled?r.a.createElement(E.b,{onClick:()=>a(e),onMouseEnter:()=>n(e.id)},r.a.createElement("span",{className:"flaticon-mark"},i.b._("Choose").toLocaleUpperCase())):r.a.createElement(E.b,{disabled:!0},r.a.createElement("span",{className:"flaticon-mark"},i.b._("Delivery only").toLocaleLowerCase()))))))},_e=t(412),Ee=t(494),ve=t(57);const fe=de.c.div.withConfig({displayName:"ButtonStripeContainerStyled"})`
  margin-top: 2rem;
  z-index: 10;
`;var ye=class extends n.PureComponent{componentDidMount(){this.panToBranch()}componentDidUpdate(){this.panToBranch()}panToBranch(){const{model:e,branch:a}=this.props;a&&e.panToLocation(a.gps)}render(){const{model:e,branch:a,onSelect:t}=this.props,n=a?Object(ve.a)({latitude:Number(a.gps.latitude),longitude:Number(a.gps.longitude)}):void 0;return r.a.createElement("div",null,r.a.createElement("div",{className:"mobile__map__view"},r.a.createElement(I.a,{model:e,render:()=>r.a.createElement(_e.Marker,{position:n})})),a&&a.pickupEnabled&&r.a.createElement(fe,null,r.a.createElement(Ee.a,null,r.a.createElement(E.b,{onClick:t,"data-testid":"mobilePickupMap__SubmitButton"},i.b._("Choose branch").toLocaleUpperCase()))),a&&!a.pickupEnabled&&r.a.createElement(fe,null,r.a.createElement(Ee.a,null,r.a.createElement(E.b,{disabled:!0,"data-testid":"mobilePickupMap__SubmitButton"},i.b._("Delivery only").toLocaleLowerCase()))))}};class ge extends n.Component{constructor(){super(...arguments),this.renderQuery=(e=>{const{branchId:a}=this.props.match.params;return e.business.isBrand?r.a.createElement(me.d,{variables:{brandId:e.business.brandId},renderLoading:!a,render:({branches:t})=>{const n=t&&t.find(se.a.propEq("id",a))||null;return r.a.createElement(r.a.Fragment,null,this.renderHeader(n),n?this.renderMap(n,e):this.renderList(t,e))}}):r.a.createElement(me.c,{variables:{branchId:e.business.branchId},renderLoading:!1,render:({branch:a},{loading:t})=>r.a.createElement(r.a.Fragment,null,this.renderHeader(a),this.renderMap(a,e))})})}onSelectBranch(e,a){a.order.createPickupOrder(e,()=>this.props.history.push("/order"))}renderHeader(e){return r.a.createElement(v,{text:e?e.name:i.b._("Choose branch"),buttonText:i.b._("Back"),onButtonClick:()=>this.props.history.goBack()})}renderMap(e,a){return r.a.createElement(ye,{model:a.map,branch:e,onSelect:()=>e&&this.onSelectBranch(e.id,a)})}renderList(e,a){return r.a.createElement(he,{branches:e,onShowMap:({id:e})=>this.props.history.push(`/pickup/${e}`),onSelect:({id:e})=>this.onSelectBranch(e,a),onPrefetch:e=>a.order.prefetchFoodMenu(e)})}render(){return r.a.createElement(O.b,{render:this.renderQuery})}}t(760);var Ce=t(762),Ne=t.n(Ce);const ke=ne.b`
  query GSmartBanner($branchId: ID!, $platform: MobilePlatformEnum!) {
    app: mobileApplicationSettings(
      companyBranch: $branchId
      platform: $platform
    ) {
      title
      url
      icon
    }
  }
`,Se=Object(ne.a)(ke),we=Object(de.c)("div").withConfig({displayName:"SmartBannerContainer"})`
  border-bottom: 1px solid #8f8f8f;
  height: 81px;
  position: absolute;
  z-index: 1;
  top: 3rem;
  width: 100%;
`,Ie=e=>r.a.createElement(O.b,{observe:!0,render:({business:e})=>{const a=function(){const e=new Ne.a(window.navigator.userAgent).getOS();if("iOS"===e.name)return f.b.IOS;if("Android"===e.name)return f.b.ANDROID;return null}();if(!e.isValid||null===a)return null;const t=e.ensureBannerForCurrentBranch();if(!t.shouldBeVisible)return null;return r.a.createElement(Se,{variables:{branchId:t.branchId,platform:a},render:({app:e})=>e?r.a.createElement(we,null,r.a.createElement("div",{className:"smartbanner smartbanner-ios smartbanner-top"},r.a.createElement("div",{className:"smartbanner-container"},r.a.createElement("a",{className:"smartbanner-close",onClick:t.setClosedNow},"\xd7"),r.a.createElement("span",{className:"smartbanner-icon",style:{backgroundImage:`url(${e.icon})`}}),r.a.createElement("div",{className:"smartbanner-info"},r.a.createElement("div",{className:"smartbanner-title"},e.title),r.a.createElement("div",{className:"smartbanner-description"},r.a.createElement(o.Trans,{id:"Free"}))),r.a.createElement("div",{className:"smartbanner-wrapper"},r.a.createElement("a",{href:e.url,onClick:t.setInstalledNow,className:"smartbanner-button"},r.a.createElement("span",{className:"smartbanner-button-text"},r.a.createElement(o.Trans,{id:"Show app"}))))))):null})}});t(449);var Oe=t(404),Be=t(450),Me=t(527),Pe=t(451),xe=t(452);const Le=({})=>r.a.createElement(c.p,{className:"justify-content-md-center"},r.a.createElement(Oe.a,null,r.a.createElement("div",{className:"finish__view__mobile"},r.a.createElement(Me.a,{render:e=>r.a.createElement(r.a.Fragment,null,r.a.createElement(Pe.a,{order:e.order}),r.a.createElement(xe.a,{branch:e.companyBranch}),r.a.createElement(Be.a,{finish:e}))}))));a.default=(()=>r.a.createElement(r.a.Fragment,null,r.a.createElement(l.b,{path:"/",component:Ie}),r.a.createElement(c.e,{fluid:!0},r.a.createElement(l.b,{exact:!0,path:"/",component:U}),r.a.createElement(l.b,{path:"/pickup/:branchId?",component:ge}),r.a.createElement(l.b,{path:"/delivery",component:P}),r.a.createElement(l.b,{path:"/order",component:ie}),r.a.createElement(l.b,{path:"/confirm",component:w}),r.a.createElement(l.b,{path:"/finish",component:Le}))))}}]);
//# sourceMappingURL=10.8ab08cfe.chunk.js.map