(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{1017:function(e,n,a){},1023:function(e,n,a){},1170:function(e,n,a){},1171:function(e,n,a){},1184:function(e,n,a){},1214:function(e,n,a){"use strict";a.r(n);var t=a(215),r=a(1),c=a.n(r),l=a(54),o=a(55),i=a(211),m=a(932),d=(a(933),a(884)),s=a(32),u=a(101),p=a(42),h=a(100),E=a(24),f=a(913),b=a(17),_=a(44),g=function(e){var n=e.address,a=Object(p.c)(),t=a.order,r=a.location;return Object(u.b)(function(){switch(t.orderMethod){case b.a.Messenger:return c.a.createElement("span",null,_.b._("Order to address"),": ",c.a.createElement("b",null,r.address));case b.a.Pickup:return c.a.createElement("span",null,_.b._("Pickup at address"),":"," ",c.a.createElement("b",null,c.a.createElement(f.a,{address:n})));default:return null}})},v=(a(1017),a(890)),y=function(e){var n=e.status,a=Object(v.a)({status:n}),t=a.decision;a.closingIn;return"ClosingSoon"===t?c.a.createElement(o.a,{className:"shop__header__alert"},c.a.createElement(h.Trans,{id:"Beware! We are . Finish your order quickly."})):null},O=a(934),I=a(935),j=E.c.div.withConfig({displayName:"ShopIntro__ShopIntroStyled",componentId:"sc-1y9oodo-0"})(["margin:0.8rem 1rem 1rem 1.3rem;"]),k=function(e){var n=e.intro;return c.a.createElement(j,{"data-testid":"headerText"},n?n.headerText:"")},w=a(102),C=a(915),N=function(e){var n=e.url,a=e.children;return n?c.a.createElement("a",{href:n},a):c.a.createElement(w.b,{to:"/"},a)},S=E.c.div.withConfig({displayName:"ShopLogo__LogoContainerStyled",componentId:"sc-1w8zqwj-0"})(["height:200px;width:400px;flex:0 0 400px;& .shop__header__logo{height:100%;}"]),x=function(e){return c.a.createElement(S,null,c.a.createElement(N,e,c.a.createElement(C.a,{className:"shop__header__logo",imageName:"storeLogo",size:"cover"})))},F=a(67),H=a(936),T=Object(E.c)(o.e).withConfig({displayName:"ShopOpeningHours__ShopOpeningHoursContainer",componentId:"sc-12n5y3v-0"})(["margin:0.4rem 0 0 0.1rem;display:flex;"]),P=E.c.div.withConfig({displayName:"ShopOpeningHours__ShopOpeningHoursTimes",componentId:"sc-12n5y3v-1"})(["padding-left:2rem;"]),L=E.c.div.withConfig({displayName:"ShopOpeningHours__ShopOpeningHoursStatus",componentId:"sc-12n5y3v-2"})(["padding-left:2rem;"]),B=E.c.div.withConfig({displayName:"ShopOpeningHours__ShopOpeningHoursIcon",componentId:"sc-12n5y3v-3"})(["margin:-0.2rem 0 0 -1rem;position:absolute;"]),M=function(e){var n=e.branch,a=n.businessHours.filter(F.a.propEq("closed",!1));return c.a.createElement(T,{fluid:!0},c.a.createElement(B,{className:"flaticon-clock"}),a.length>0&&c.a.createElement(P,null,a.map(function(e,n){return c.a.createElement("div",{"data-testid":"openingHours",key:n},"".concat(Object(i.c)(e.openAt)," - ").concat(Object(i.c)(e.closeAt)))})),c.a.createElement(L,null,c.a.createElement(H.a,{status:n,deliveryTime:n.defaultDeliveryTime,pickupTime:n.defaultPickupTime})))},R=a(4),q=a.n(R),z=E.c.div.withConfig({displayName:"Sticker__StickerThemed",componentId:"sc-13gdre2-0"})(["background:",";color:white;margin-top:1rem;padding:0;border-radius:0 0.7rem 0.7rem 0;white-space:nowrap;flex:none;& p{display:inline-block;margin:0.6rem 1rem 0 0;vertical-align:top;white-space:nowrap;}"],function(e){return e.theme.primary}),U=E.c.span.withConfig({displayName:"Sticker__IconStyled",componentId:"sc-13gdre2-1"})(["margin:0.5rem 1rem 0 0.1rem;&:before,:after{font-size:1.8rem;margin:0 0 0 1rem;}"]),$=function(e){var n=e.success,a=void 0!==n&&n,t=e.children;return c.a.createElement(z,{className:q()("right__sticker",{"order-method-unselected":!a,"order-method-selected":a})},c.a.createElement(U,{className:"flaticon-transport"}),c.a.createElement("p",null,t))},A=E.c.div.withConfig({displayName:"ShopHeader__ShopHeaderStyled",componentId:"sc-16i2701-0"})(["display:flex;min-height:200px;"]),D=E.c.div.withConfig({displayName:"ShopHeader__ShopHeaderInfoStyled",componentId:"sc-16i2701-1"})(["display:flex;flex-direction:column;align-items:flex-start;"]),V=function(e){var n=e.branch,a=e.intro,t=e.isLoading;return c.a.createElement("div",null,c.a.createElement(o.p,{className:"justify-content-md-center"},c.a.createElement(I.a,null)),c.a.createElement(o.p,{className:"row-white justify-content-md-center"},c.a.createElement(d.a,null,c.a.createElement(A,{"data-testid":"shopHeader"},t||!n?null:c.a.createElement(c.a.Fragment,null,c.a.createElement(x,{url:a?a.homepageUrl:null}),c.a.createElement(D,null,c.a.createElement(l.Route,{exact:!0,path:"/",render:function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement($,null,c.a.createElement(h.Trans,{id:"Choose your delivery option below"})),c.a.createElement(k,{intro:a}))}}),c.a.createElement(l.Route,{path:"/order",render:function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement(O.a,{status:n}),c.a.createElement($,{success:!0},c.a.createElement(g,{address:n.address})),c.a.createElement(M,{branch:n}),c.a.createElement(k,{intro:a}))}}),c.a.createElement(l.Route,{path:"/finish",render:function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement($,{success:!0},c.a.createElement(h.Trans,{id:"Order was send"})),c.a.createElement(M,{branch:n}),c.a.createElement(k,{intro:a}))}})),c.a.createElement(y,{status:n}))))))},W=a(6),G=a(8),J=a.n(G),Y=a(206);function K(){var e=Object(W.a)(["\n  query GShopHeader($brandId: ID, $branchId: ID!) {\n    branch: companyBranch(id: $branchId) {\n      id\n      address {\n        ...FAddress\n      }\n      ...FShopOpeningHours\n      ...FCompanyBranchStatus\n    }\n    intro: applicationSettings(brand: $brandId, companyBranch: $branchId) {\n      headerText\n      homepageUrl\n    }\n  }\n  ","\n  ","\n  ","\n"]);return K=function(){return e},e}var Q=J()(K(),b.b,b.d,b.j),X=Object(Y.a)(Q),Z=function(){var e=Object(p.c)(),n=e.order,a=e.business;return Object(u.b)(function(){return c.a.createElement(X,{variables:Object(s.a)({},a.brandOrBranch,{branchId:n.branchId||a.branchId}),skip:!a.isValid,renderLoading:!1,render:function(e,n){var a=e.branch,t=e.intro,r=n.loading;return c.a.createElement(V,{branch:a,intro:t,isLoading:r})}})})},ee=a(937),ne=a(1016),ae=a(938),te=a(939),re=function(e){return Object(m.a)(e),c.a.createElement(c.a.Fragment,null,c.a.createElement(Z,null),c.a.createElement(o.p,{className:"justify-content-md-center"},c.a.createElement(d.a,null,c.a.createElement("div",{className:"finish__view"},c.a.createElement(ne.a,{render:function(e){return c.a.createElement(c.a.Fragment,null,c.a.createElement(ae.a,{order:e.order}),c.a.createElement(te.a,{branch:e.companyBranch}),c.a.createElement(ee.a,{finish:e}))}})))))},ce=(a(1023),a(205)),le=a(940),oe=a(117),ie=a(917),me=a(1012),de=a(11),se=a.n(de),ue=a(18),pe=a(84),he=(a(1170),a(9)),Ee=a(892),fe=a(79),be=a(981),_e=a(188),ge=a(204),ve=E.c.div.withConfig({displayName:"PickupMapBranch__PickupMapHeaderStyled",componentId:"sc-1kkamvy-0"})(["background-color:",";color:",";text-align:center;padding:0.4rem 0.2rem 0.2rem 0.2rem;height:2rem;vertical-align:middle;"],function(e){return e.theme.primary},function(e){return e.theme.tertiaryText}),ye=function(e){var n=e.branch,a=e.onConfirm,t=Object(v.a)({status:n});return c.a.createElement("div",{className:"pickup__map"},c.a.createElement(ve,{className:"pickup__map__header"},n.name),c.a.createElement("div",{className:"pickup__map__info"},c.a.createElement(f.a,{address:n.address})),c.a.createElement(ge.b,{color:"primary","data-testid":"submitPickupBranch",disabled:!n.pickupEnabled,onClick:a},n.pickupEnabled?function(e){var n=e.decision,a=e.openingIn,t=e.closingIn;switch(n){case"Closed":return c.a.createElement(h.Trans,{id:"Closed"});case"ClosingSoon":return c.a.createElement(h.Trans,{id:"{closingIn, plural, one {Closing in 1 minute} other {Closing in # minutes}}",values:{closingIn:t}});case"OpeningSoon":return c.a.createElement(h.Trans,{id:"{openingIn, plural, one {Opening in 1 minute} other {Opening in # minutes}}",values:{openingIn:a}});default:return _.b._("Pickup here").toLocaleUpperCase()}}(t):c.a.createElement(h.Trans,{id:"Delivery only"})))};var Oe,Ie=(Oe={},Object(oe.a)(Oe,b.a.Messenger,Object(r.createFactory)(me.a)),Object(oe.a)(Oe,b.a.Pickup,Object(r.createFactory)(function(e){var n=e.onConfirm,a=Object(p.c)(),t=a.order,l=a.business,o=a.map,i=Object(r.useState)(null),m=Object(pe.a)(i,2),d=m[0],s=m[1];Object(u.a)(function(){return Object(he.when)(function(){return null!==l.branchId&&null===d},function(){s(l.branchId)})}),Object(r.useEffect)(function(){d&&t.prefetchFoodMenu(d)},[d]);var h=Object(r.useCallback)(function(){var e=Object(ue.a)(se.a.mark(function e(a){return se.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.setBranch(a),e.next=3,t.createPickupOrder(a);case 3:n();case 4:case"end":return e.stop()}},e,this)}));return function(n){return e.apply(this,arguments)}}(),[n]),E=function(e){return c.a.createElement(Ee.Marker,{key:e.id,position:Object(fe.a)(e.gps),onClick:function(){return s(e.id)}},d===e.id?c.a.createElement(Ee.InfoWindow,{onCloseClick:function(){return s(null)},defaultOptions:{maxWidth:200}},c.a.createElement(ye,{branch:e,onConfirm:function(){h(e.id)}})):null)};return Object(u.b)(function(){return l.isBrand?c.a.createElement(_e.d,{variables:{brandId:l.brandId},renderLoading:!1,render:function(e){var n=e.branches,a=n&&n.find(F.a.propEq("id",l.branchId));return c.a.createElement(c.a.Fragment,null,c.a.createElement(be.a,{map:o,gps:a&&a.gps}),n&&n.map(E))}}):c.a.createElement(_e.c,{variables:{branchId:l.branchId},renderLoading:!1,render:function(e){var n=e.branch;return c.a.createElement(c.a.Fragment,null,c.a.createElement(be.a,{map:o,gps:n&&n.gps}),n&&E(n))}})})})),Oe),je=function(e){var n=e.onConfirm,a=Object(p.c)(),t=a.order,r=a.map;return Object(u.b)(function(){return c.a.createElement(ie.a,{model:r},Ie[t.orderMethod]({onConfirm:n}))})},ke=function(){var e=Object(ce.useRouterContext)().history;return c.a.createElement(c.a.Fragment,null,c.a.createElement(Z,null),c.a.createElement(o.p,{className:"justify-content-md-center"},c.a.createElement(d.a,null,c.a.createElement("div",{className:"map__view"},c.a.createElement("div",{className:"map__view__header"},c.a.createElement(le.a,null)),c.a.createElement(je,{onConfirm:function(){return e.push("/order")}})))))},we=(a(1171),a(244)),Ce=a(1009),Ne=a(1011),Se=a(990),xe=(a(1184),a(355)),Fe=a(992),He=a(1015),Te=a(1e3),Pe=a(1010),Le=a(1004),Be=(a(1003),a(36)),Me=a(885),Re=function(e){var n=e.children,a=e.disabled,t=e.method,r=Object(Be.a)(e,["children","disabled","method"]);return c.a.createElement(Me.Field,{field:"payment",render:function(e){return c.a.createElement(ge.e,Object.assign({disabled:a,selected:e.value===t,onClick:function(){e.setValue(t)}},r),c.a.createElement(qe,{show:e.value===t}),n)}})};function qe(e){return e.show?c.a.createElement("span",{className:"flaticon-mark order__payment__method__button__checked"}):c.a.createElement("div",{className:"order__payment__method__button__unchecked"})}var ze=function(){return c.a.createElement("div",{className:"order__payment__method"},c.a.createElement(Re,{method:b.n.Gopay,"data-testid":"orderPaymentMethod__GoPay"},_.b._("Pay by card").toLocaleUpperCase()),c.a.createElement(Re,{method:b.n.Cash,"data-testid":"orderPaymentMethod__Cash"},_.b._("Pay by cash").toLocaleUpperCase()))},Ue=a(1005),$e=function(){var e=Object(p.c)().order;return c.a.createElement(Le.a,{render:function(n){return c.a.createElement("div",{className:"order__form"},c.a.createElement("div",{className:"order__form__inner"},c.a.createElement(Te.a,{onFill:function(e){return n.setAllValues(e)}}),c.a.createElement(Pe.a,null),c.a.createElement(ze,null),c.a.createElement(He.a,null)),c.a.createElement(Ue.a,{onClick:n.submitForm,canSubmit:e.isVamInitialized}))}})},Ae=a(991),De=a(1007),Ve=a(1013),We=function(e){var n=e.orderId,a=Object(xe.a)(Ae.a,{suspend:!1,skip:!n,variables:{orderId:n}}).data;return a&&a.order&&0!==a.order.countWares?c.a.createElement(c.a.Fragment,null,c.a.createElement($e,null),c.a.createElement(De.a,null),c.a.createElement(Fe.a,null),c.a.createElement(Ve.a,null)):null},Ge=function(){var e=Object(p.c)().order;return e.hasOrder?c.a.createElement(we.a,{branchId:e.branchId},c.a.createElement(c.a.Fragment,null,c.a.createElement(Z,null),c.a.createElement(o.p,{className:"justify-content-md-center"},c.a.createElement(d.b,null,c.a.createElement("div",{className:"shop__overview__column"},c.a.createElement(Ne.a,null))),c.a.createElement(d.c,null,c.a.createElement("div",{className:"shop__overview__column cart__column"},c.a.createElement("div",{className:"cart__column__header"},c.a.createElement("span",{className:"flaticon-cart cart__column__header__icon"}),c.a.createElement("h4",null,_.b._("Your order"))),c.a.createElement(C.b,{className:"cart__column__cart",imageName:"backgroundCart"},c.a.createElement(Ce.a,{orderId:e.orderId})),c.a.createElement(We,{orderId:e.orderId}))),c.a.createElement(Se.a,null)))):c.a.createElement(l.Redirect,{to:"/"})};n.default=function(){return Object(t.useReleaseCabinet)(function(e){var n=e.version,a=e.date;alert("verze: ".concat(n,", datum: ").concat(Object(i.b)(a)))}),c.a.createElement(o.e,{fluid:!0},c.a.createElement(l.Route,{exact:!0,path:"/",component:ke}),c.a.createElement(l.Route,{path:"/order",component:Ge}),c.a.createElement(l.Route,{path:"/finish",component:re}))}}}]);
//# sourceMappingURL=12.d5d79fce.chunk.js.map