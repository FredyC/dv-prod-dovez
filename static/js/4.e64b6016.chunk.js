(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{1282:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MobileConfirmView=void 0,a(1283);var n=a(153),r=h(a(1)),l=a(1285),o=a(83),i=a(1006),u=a(1005),d=a(1014),c=a(1016),s=a(1019),m=a(1003),f=a(1022),p=a(1023),_=h(a(937)),b=a(1288);function h(e){return e&&e.__esModule?e:{default:e}}t.MobileConfirmView=(({history:e})=>r.default.createElement("div",{className:"mobile__confirm__view"},r.default.createElement(_.default,{text:o.i18n._("Order confirmation"),buttonText:o.i18n._("Cancel"),onButtonClick:()=>e.goBack()}),r.default.createElement(s.OrderFormSetup,{render:e=>r.default.createElement(r.default.Fragment,null,r.default.createElement(l.ScrollToTop,null),r.default.createElement(m.OrderFormStorageNotice,null),r.default.createElement(f.OrderGoPayModal,null),r.default.createElement(u.OrderErrorModal,null),r.default.createElement(p.OrderTimePicker,null),r.default.createElement(d.OrderFormAutoFill,{onFill:t=>e.setAllValues(t)}),r.default.createElement("div",{className:"mobile__confirm__view__form"},r.default.createElement("h3",null,r.default.createElement(n.Trans,{id:"Where and to whom we deliver?"})),r.default.createElement(c.OrderFormInputs,null),r.default.createElement(i.OrderAgreements,null)),r.default.createElement("div",{className:"mobile__confirm__view__submit"},r.default.createElement("h4",null,r.default.createElement(n.Trans,{id:"Place order"})),r.default.createElement(b.MobilePaymentMethod,{onConfirm:e.submitForm})))})))},1283:function(e,t,a){},1285:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ScrollToTop=void 0;var n=a(1);t.ScrollToTop=class extends n.PureComponent{componentDidMount(){window.scrollTo(0,0)}render(){return null}}},1286:function(e,t,a){},1288:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MobilePaymentMethod=void 0,a(1289);var n,r=(n=a(1))&&n.__esModule?n:{default:n},l=a(159),o=a(83),i=a(1291);t.MobilePaymentMethod=(({onConfirm:e})=>r.default.createElement("div",{className:"mobile__confirm__payment__method"},r.default.createElement(i.MobilePaymentButton,{method:l.PaymentGateEnum.Gopay,onClick:e,"data-testid":"mobilePaymentMethodGoPay"},r.default.createElement("span",{className:"flaticon-credit-card"},o.i18n._("Pay by card").toLocaleUpperCase())),r.default.createElement(i.MobilePaymentButton,{method:l.PaymentGateEnum.Cash,onClick:e,"data-testid":"mobilePaymentMethodCash"},r.default.createElement("span",{className:"flaticon-money"},o.i18n._("Pay by cash").toLocaleUpperCase()))))},1289:function(e,t,a){},1291:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MobilePaymentButton=void 0;var n=u(a(1)),r=a(894),l=a(335),o=u(a(1021)),i=a(920);function u(e){return e&&e.__esModule?e:{default:e}}function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var c=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&(a[n[r]]=e[n[r]])}return a};t.MobilePaymentButton=(e=>{var{method:t,disabled:a,onClick:u,children:s}=e,m=c(e,["method","disabled","onClick","children"]);return n.default.createElement(i.WithOrder,{observe:!0,render:e=>n.default.createElement(r.Field,{field:"payment",render:r=>n.default.createElement(l.SelectButtonThemed,d({selected:r.value===t,disabled:a||e.isSubmitting,onClick:()=>{r.setValue(t),u()}},m),e.isSubmitting&&r.value===t?n.default.createElement(o.default,null):s)})})})},1292:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MobileDeliveryView=void 0,a(1293);var n=d(a(1)),r=a(921),l=a(52),o=a(83),i=a(988),u=d(a(937));function d(e){return e&&e.__esModule?e:{default:e}}t.MobileDeliveryView=(({history:e})=>{const{map:t}=(0,l.useRoot)();return n.default.createElement("div",null,n.default.createElement(u.default,{text:o.i18n._("Enter the address"),buttonText:o.i18n._("Back"),onButtonClick:()=>e.goBack()}),n.default.createElement("div",{className:"mobile__map__view"},n.default.createElement(r.BaseMap,{model:t},n.default.createElement(i.DeliveryMap,{onConfirm:()=>e.push("/order")}))))})},1293:function(e,t,a){},1295:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MobileFinishView=void 0,a(938);var n,r=(n=a(1))&&n.__esModule?n:{default:n},l=a(152),o=a(893),i=a(944),u=a(945),d=a(946),c=a(947);t.MobileFinishView=(({})=>r.default.createElement(l.Row,{className:"justify-content-md-center"},r.default.createElement(o.ColStyle,null,r.default.createElement("div",{className:"finish__view__mobile"},r.default.createElement(u.FinishViewLoader,{render:e=>r.default.createElement(r.default.Fragment,null,r.default.createElement(d.FinishViewOrder,{order:e.order}),r.default.createElement(c.FinishViewSupport,{branch:e.companyBranch}),r.default.createElement(i.FinishViewFooter,{finish:e}))})))))},1296:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MobileIntroView=void 0,a(1297);var n=d(a(1)),r=a(160),l=d(a(919)),o=a(948),i=a(941),u=a(1299);function d(e){return e&&e.__esModule?e:{default:e}}t.MobileIntroView=(()=>n.default.createElement("div",{className:"mobile__intro"},n.default.createElement(l.default,{className:"mobile__intro__logo","data-testid":"MobileIntroView__BackgroundThemed",imageName:"storeLogoMobile",size:"cover",fixed:!1},n.default.createElement(i.ShopHeaderIcons,null)),n.default.createElement("div",{className:"mobile__intro__info"},n.default.createElement(u.MobileShopIntro,null),n.default.createElement(r.Route,null,({history:e})=>n.default.createElement(o.OrderMethod,{onChange:t=>{t.usingDeliveryOrderMethod?e.push("/delivery"):t.usingPickupOrderMethod&&e.push("/pickup")}})))))},1297:function(e,t,a){},1299:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MobileShopIntro=void 0;var n,r=a(154),l=(n=a(1))&&n.__esModule?n:{default:n},o=a(52),i=a(1300);t.MobileShopIntro=(()=>{const{business:e}=(0,o.useRoot)();return(0,r.useObserver)(()=>l.default.createElement(i.QueryMobileShopIntro,{variables:e.brandOrBranch,skip:!e.isValid,renderLoading:()=>null,render:({intro:{headerText:e}})=>l.default.createElement("div",{"data-testid":"MobileShopIntro"},e)}))})},1300:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QueryMobileShopIntro=t.MobileShopIntroQuery=void 0;var n,r=(n=a(21))&&n.__esModule?n:{default:n},l=a(86);const o=r.default`
  query GMobileShopIntro($brandId: ID!, $branchId: ID) {
    intro: applicationSettings(brand: $brandId, companyBranch: $branchId) {
      headerText
      homepageUrl
    }
  }
`;t.MobileShopIntroQuery=o;const i=(0,l.buildQuery)(o);t.QueryMobileShopIntro=i},1301:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MobileOrderView=void 0,a(1302);var n,r=a(154),l=(n=a(1))&&n.__esModule?n:{default:n},o=a(30),i=a(52),u=a(992),d=a(997),c=a(1304),s=a(1312);t.MobileOrderView=(()=>{const{order:e}=(0,i.useRoot)();return e.hasOrder?(0,r.useObserver)(()=>l.default.createElement("div",{className:"mobile__order__view"},l.default.createElement(d.FoodMenuView,null),l.default.createElement(c.MobileCart,{orderId:e.orderId}),l.default.createElement(u.AddToCartModal,null),l.default.createElement(s.MobileClosingTimeModal,{branchId:e.branchId}))):l.default.createElement(o.Redirect,{to:"/"})})},1302:function(e,t,a){},1304:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MobileCart=void 0,a(1305),a(1307);var n,r=a(337),l=(n=a(4))&&n.__esModule?n:{default:n},o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,a):{};n.get||n.set?Object.defineProperty(t,a,n):t[a]=e[a]}return t.default=e,t}(a(1)),i=a(162),u=a(991),d=a(996),c=a(1020),s=a(173),m=a(1309);t.MobileCart=(({orderId:e})=>{const{history:t}=(0,r.useRouterContext)(),{data:a,loading:n,refetch:f}=(0,i.useQuery)(s.MobileCartQuery,{suspend:!1,variables:{orderId:e}});(0,d.useCartRefresh)(f);const[p,_]=(0,o.useState)(!1);let b=0,h="???",v=!0;if(a&&a.order){const{countWares:e,totalSum:t}=a.order;b=e,v=0===e,h=t.formattedValue}(0,o.useEffect)(()=>{0===b&&!0===p&&_(!1)},[b,p]);return o.default.createElement("div",{className:(0,l.default)("mobile__sliding__cart",{mobile__sliding__cart__open:p})},o.default.createElement("div",{className:"mobile__cart__view"},o.default.createElement(m.MobileCartSummary,{count:b,price:h,isLoading:n||!(a&&a.order),onClick:()=>{_(e=>!(e||0===b))}}),p?o.default.createElement(o.default.Fragment,null,o.default.createElement(u.CartView,{orderId:e}),o.default.createElement(c.OrderSubmitLine,{canSubmit:!v,onClick:()=>t.push("/confirm")})):null))})},1305:function(e,t,a){},1307:function(e,t,a){},1309:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MobileCartSummary=void 0,a(1310);var n=a(153),r=u(a(1)),l=u(a(65)),o=a(19),i=a(83);function u(e){return e&&e.__esModule?e:{default:e}}const d=l.default.div.withConfig({displayName:"MobileCartSummaryCountThemed"})`
  background-color: ${({theme:e})=>e.secondary};
`,c=l.default.span.withConfig({displayName:"MobileCartSummaryPriceThemed"})`
  color: ${({theme:e})=>e.primary};
`;t.MobileCartSummary=(({count:e,price:t,isLoading:a,onClick:l})=>{(0,o.logDebug)(e,a);const u=e>0||!0===a;return r.default.createElement("div",{className:"mobile__cart__summary","data-testid":"mobileCartSummary",onClick:l},u?r.default.createElement("div",{className:"mobile__cart__summary__toggle"},r.default.createElement("span",{className:"flaticon-chevron-up"})):null,r.default.createElement("div",{className:"mobile__cart__summary__info"},r.default.createElement("span",{className:"flaticon-cart"}),u?r.default.createElement(d,{className:"mobile__cart__summary__count","data-testid":"mobileCartSummary__Count"},e||"?"):null,u?r.default.createElement("div",{className:"mobile__cart__summary__cart__with__price","data-testid":"mobileCartSummary__Price"},r.default.createElement(n.Trans,{id:"In the cart you have goods for<0>{price}</0>",values:{price:t},components:[r.default.createElement(c,{className:"mobile__cart__summary__price"})]})):r.default.createElement("span",{"data-testid":"cartIsEmpty"},i.i18n._("Cart is empty"))))})},1310:function(e,t,a){},1312:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MobileClosingTimeModal=void 0;var n,r=(n=a(1))&&n.__esModule?n:{default:n},l=a(940),o=a(1313);t.MobileClosingTimeModal=(({branchId:e})=>r.default.createElement(o.QueryMobileShopStatus,{variables:{branchId:e},render:({branch:e})=>r.default.createElement(l.ShopClosingTimeModal,{status:e})}))},1313:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QueryMobileShopStatus=t.MobileShopStatusQuery=void 0;var n,r=(n=a(21))&&n.__esModule?n:{default:n},l=a(161),o=a(31);const i=r.default`
  query GMobileShopStatus($branchId: ID!) {
    branch: companyBranch(id: $branchId) {
      id
      ...GCompanyBranchStatus
    }
  }
  ${o.CompanyBranchStatusFragment}
`;t.MobileShopStatusQuery=i;const u=(0,l.buildQuery)(i);t.QueryMobileShopStatus=u},1314:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MobilePickupView=void 0;var n=s(a(1)),r=a(52),l=a(158),o=a(83),i=a(343),u=s(a(937)),d=s(a(1315)),c=s(a(1318));function s(e){return e&&e.__esModule?e:{default:e}}var m=function(e,t,a,n){return new(a||(a=Promise))(function(r,l){function o(e){try{u(n.next(e))}catch(t){l(t)}}function i(e){try{u(n.throw(e))}catch(t){l(t)}}function u(e){e.done?r(e.value):new a(function(t){t(e.value)}).then(o,i)}u((n=n.apply(e,t||[])).next())})};t.MobilePickupView=(({history:e,match:t})=>{const{order:a,map:s,business:f}=(0,r.useRoot)(),p=t=>m(void 0,void 0,void 0,function*(){yield a.createPickupOrder(t),e.push("/order")}),_=t=>n.default.createElement(u.default,{text:t?t.name:o.i18n._("Choose branch"),buttonText:o.i18n._("Back"),onButtonClick:()=>e.goBack()}),b=e=>n.default.createElement(c.default,{model:s,branch:e,onSelect:()=>e&&p(e.id)}),{branchId:h}=t.params;return f.isBrand?n.default.createElement(i.QueryPickupMapBrand,{variables:{brandId:f.brandId},renderLoading:!h,render:({branches:t})=>{const r=t&&t.find(l.RM.propEq("id",h))||null;return n.default.createElement(n.default.Fragment,null,_(r),r?b(r):(t=>n.default.createElement(d.default,{branches:t,onShowMap:({id:t})=>e.push(`/pickup/${t}`),onSelect:({id:e})=>p(e),onPrefetch:e=>a.prefetchFoodMenu(e)}))(t))}}):n.default.createElement(i.QueryPickupMapBranch,{variables:{branchId:f.branchId},renderLoading:!1,render:({branch:e},{loading:t})=>n.default.createElement(n.default.Fragment,null,_(e),b(e))})})},1315:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(1316);var n=d(a(1)),r=d(a(65)),l=a(335),o=a(917),i=a(83),u=a(942);function d(e){return e&&e.__esModule?e:{default:e}}const c=r.default.div.withConfig({displayName:"StatusDisplayPosition"})``;var s=({branches:e,onSelect:t,onShowMap:a,onPrefetch:r})=>{return n.default.createElement("div",{className:"mobile__pickup__list"},e&&e.map(e=>n.default.createElement("div",{className:"mobile__pickup__list__item","data-testid":"MobilePickupList",key:e.id},n.default.createElement("div",{className:"mobile__pickup__list__header"},e.name),n.default.createElement(o.ShopAddress,{address:e.address}),n.default.createElement(c,null,n.default.createElement(u.ShopStatusDisplay,{status:e,deliveryTime:e.defaultDeliveryTime,pickupTime:e.defaultPickupTime})),n.default.createElement("div",{className:"mobile__pickup__list__buttons"},n.default.createElement(l.SecondaryButton,{onClick:()=>a(e)},n.default.createElement("span",{className:"flaticon-signs"},i.i18n._("Show on map").toLocaleUpperCase())),e.pickupEnabled?n.default.createElement(l.PrimaryButton,{onClick:()=>t(e),onMouseEnter:()=>r(e.id)},n.default.createElement("span",{className:"flaticon-mark"},i.i18n._("Choose").toLocaleUpperCase())):n.default.createElement(l.PrimaryButton,{disabled:!0},n.default.createElement("span",{className:"flaticon-mark"},i.i18n._("Delivery only").toLocaleLowerCase()))))))};t.default=s},1316:function(e,t,a){},1318:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,a):{};n.get||n.set?Object.defineProperty(t,a,n):t[a]=e[a]}return t.default=e,t}(a(1)),r=a(900),l=s(a(65)),o=a(921),i=a(335),u=s(a(989)),d=a(163),c=a(83);function s(e){return e&&e.__esModule?e:{default:e}}const m=l.default.div.withConfig({displayName:"ButtonStripeContainerStyled"})`
  margin-top: 2rem;
  z-index: 10;
`;var f=class extends n.PureComponent{componentDidMount(){this.panToBranch()}componentDidUpdate(){this.panToBranch()}panToBranch(){const{model:e,branch:t}=this.props;t&&e.panToLocation(t.gps)}render(){const{model:e,branch:t,onSelect:a}=this.props,l=t?(0,d.gpsToLatLng)({latitude:Number(t.gps.latitude),longitude:Number(t.gps.longitude)}):void 0;return n.default.createElement("div",null,n.default.createElement("div",{className:"mobile__map__view"},n.default.createElement(o.BaseMap,{model:e},n.default.createElement(r.Marker,{position:l}))),t&&t.pickupEnabled&&n.default.createElement(m,null,n.default.createElement(u.default,null,n.default.createElement(i.PrimaryButton,{onClick:a,"data-testid":"mobilePickupMap__SubmitButton"},c.i18n._("Choose branch").toLocaleUpperCase()))),t&&!t.pickupEnabled&&n.default.createElement(m,null,n.default.createElement(u.default,null,n.default.createElement(i.PrimaryButton,{disabled:!0,"data-testid":"mobilePickupMap__SubmitButton"},c.i18n._("Delivery only").toLocaleLowerCase()))))}};t.default=f},1319:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getPlatformType=m,t.MobileSmartBanner=void 0,a(1320);var n=a(153),r=c(a(1)),l=c(a(65)),o=c(a(1322)),i=a(52),u=a(159),d=a(1324);function c(e){return e&&e.__esModule?e:{default:e}}const s=l.default.div.withConfig({displayName:"SmartBannerContainer"})`
  border-bottom: 1px solid #8f8f8f;
  height: 81px;
  position: absolute;
  z-index: 1;
  top: 3rem;
  width: 100%;
`;function m(){const e=new o.default(window.navigator.userAgent).getOS();return"iOS"===e.name?u.MobilePlatformEnum.Ios:"Android"===e.name?u.MobilePlatformEnum.Android:null}t.MobileSmartBanner=(e=>r.default.createElement(i.WithRoot,{observe:!0,render:({business:e})=>{const t=m();if(!e.isValid||null===t)return null;const a=e.ensureBannerForCurrentBranch();return a.shouldBeVisible?r.default.createElement(d.QueryBanner,{variables:{branchId:a.branchId,platform:t},render:({app:e})=>e?r.default.createElement(s,null,r.default.createElement("div",{className:"smartbanner smartbanner-ios smartbanner-top"},r.default.createElement("div",{className:"smartbanner-container"},r.default.createElement("a",{className:"smartbanner-close",onClick:a.setClosedNow},"\xd7"),r.default.createElement("span",{className:"smartbanner-icon",style:{backgroundImage:`url(${e.icon})`}}),r.default.createElement("div",{className:"smartbanner-info"},r.default.createElement("div",{className:"smartbanner-title"},e.title),r.default.createElement("div",{className:"smartbanner-description"},r.default.createElement(n.Trans,{id:"Free"}))),r.default.createElement("div",{className:"smartbanner-wrapper"},r.default.createElement("a",{href:e.url,onClick:a.setInstalledNow,className:"smartbanner-button"},r.default.createElement("span",{className:"smartbanner-button-text"},r.default.createElement(n.Trans,{id:"Show app"}))))))):null}):null}}))},1320:function(e,t,a){},1324:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QueryBanner=void 0;var n,r=(n=a(21))&&n.__esModule?n:{default:n},l=a(161);const o=r.default`
  query GSmartBanner($branchId: ID!, $platform: MobilePlatformEnum!) {
    app: mobileApplicationSettings(
      companyBranch: $branchId
      platform: $platform
    ) {
      title
      url
      icon
    }
  }
`,i=(0,l.buildQuery)(o);t.QueryBanner=i},879:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,r=(n=a(1))&&n.__esModule?n:{default:n},l=a(160),o=a(152),i=a(1282),u=a(1292),d=a(1295),c=a(1296),s=a(1301),m=a(1314),f=a(1319);var p=()=>r.default.createElement(r.default.Fragment,null,r.default.createElement(l.Route,{path:"/",component:f.MobileSmartBanner}),r.default.createElement(o.Container,{fluid:!0},r.default.createElement(l.Route,{exact:!0,path:"/",component:c.MobileIntroView}),r.default.createElement(l.Route,{path:"/pickup/:branchId?",component:m.MobilePickupView}),r.default.createElement(l.Route,{path:"/delivery",component:u.MobileDeliveryView}),r.default.createElement(l.Route,{path:"/order",component:s.MobileOrderView}),r.default.createElement(l.Route,{path:"/confirm",component:i.MobileConfirmView}),r.default.createElement(l.Route,{path:"/finish",component:d.MobileFinishView})));t.default=p},937:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(1286);var n,r=(n=a(1))&&n.__esModule?n:{default:n},l=a(335);var o=({text:e,buttonText:t,buttonRight:a=!1,onButtonClick:n})=>{const o=!1===a?r.default.createElement(l.MobileHeaderButton,{className:"mobile__header__button","data-testid":"MobileHeaderButton__Left",onClick:n},t):null,i=!0===a?r.default.createElement(l.MobileHeaderButton,{className:"mobile__header__button","data-testid":"MobileHeaderButton__Right",onClick:n,isConfirm:!0},t):null;return r.default.createElement("div",{className:"mobile__header"},o,r.default.createElement("div",{className:"mobile__header__text"},e),i)};t.default=o}}]);
//# sourceMappingURL=4.e64b6016.chunk.js.map