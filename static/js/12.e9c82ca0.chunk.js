(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{1017:function(e,a,n){},1018:function(e,a,n){},1030:function(e,a,n){},1260:function(e,a,n){"use strict";n.r(a);var t=n(63),r=n(1),c=n.n(r),l=n(74),i=n(47),o=n(931),m=(n(932),n(911)),u=n(61),s=n(24),d=n(28),p=n(27),f=n(62),E=n(933),h=n(920),b=n(31),g=function(e){var a=e.address,n=Object(s.b)(),t=n.order,r=n.location;return Object(u.useObserver)(function(){switch(t.orderMethod){case d.a.Messenger:return c.a.createElement("span",null,b.b._("Order to address"),": ",c.a.createElement("b",null,r.address));case d.a.Pickup:return c.a.createElement("span",null,b.b._("Pickup at address"),":"," ",c.a.createElement("b",null,c.a.createElement(h.a,{address:a})));default:return null}})},v=n(13),_=n(916);function y(){var e=Object(v.a)(["\n  background: ",";\n  color: white;\n  text-align: center;\n  border-radius: 0.7rem;\n  position: fixed;\n  top: 0.1rem;\n  z-index: 3;\n  padding: 0.4rem 1rem;\n"]);return y=function(){return e},e}var O=Object(p.default)(i.a)(y(),function(e){return e.theme.primary}),j=function(e){var a=e.status,n=Object(_.a)({status:a}),t=n.decision,r=n.closingIn;if("ClosingSoon"===t){var l=b.b._("{closingIn, plural, one {closing in 1 minute} few {closing in # minutes} other {closing in # minutes}}",{closingIn:r});return c.a.createElement(O,null,b.b._("Beware! We are {closingInPlural}. Finish your order quickly.",{closingInPlural:l}))}return null},w=n(934),k=n(935),I=p.default.div.withConfig({displayName:"ShopIntro__ShopIntroStyled",componentId:"sc-1y9oodo-0"})(["margin:0.8rem 1rem 1rem 1.3rem;"]),C=function(e){var a=e.intro;return c.a.createElement(I,{"data-testid":"headerText"},a?a.headerText:"")},x=n(132),N=n(921),S=function(e){var a=e.url,n=e.children;return a?c.a.createElement("a",{href:a},n):c.a.createElement(x.b,{to:"/"},n)},P=p.default.div.withConfig({displayName:"ShopLogo__LogoContainerStyled",componentId:"sc-1w8zqwj-0"})(["height:200px;width:400px;flex:0 0 400px;& .shop__header__logo{height:100%;}"]),F=function(e){return c.a.createElement(P,null,c.a.createElement(S,e,c.a.createElement(N.a,{className:"shop__header__logo",imageName:"storeLogo",size:"cover"})))},T=n(227),R=n(936),M=Object(p.default)(i.e).withConfig({displayName:"ShopOpeningHours__StyledShopOpeningHours",componentId:"sc-12n5y3v-0"})(["margin:0.4rem 0 0 0.1rem;display:flex;& div.times,& div.status{padding-left:2rem;}& div.icon{margin:-0.2rem 0 0 -1rem;position:absolute;}"]),B=function(e){var a=e.branch;if(!a)return null;var n=a.businessHours.filter(t.RM.propEq("closed",!1));return c.a.createElement(M,{fluid:!0},c.a.createElement("div",{className:"icon flaticon-clock"}),n.length>0&&c.a.createElement("div",{className:"times"},n.map(function(e,a){return c.a.createElement("div",{"data-testid":"openingHours",key:a},"".concat(Object(T.b)(e.openAt)," - ").concat(Object(T.b)(e.closeAt)))})),c.a.createElement("div",{className:"status"},a&&c.a.createElement(R.a,{status:a,deliveryTime:a.defaultDeliveryTime,pickupTime:a.defaultPickupTime})))},L=n(224),H=p.default.div.withConfig({displayName:"Sticker__StickerThemed",componentId:"sc-13gdre2-0"})(["background:",";color:white;margin-top:1rem;padding:0;border-radius:0 0.7rem 0.7rem 0;white-space:nowrap;flex:none;& p{display:inline-block;margin:0.6rem 1rem 0 0;vertical-align:top;white-space:nowrap;}"],function(e){return e.theme.primary}),z=p.default.span.withConfig({displayName:"Sticker__IconStyled",componentId:"sc-13gdre2-1"})(["margin:0.5rem 1rem 0 0.1rem;&:before,:after{font-size:1.8rem;margin:0 0 0 1rem;}"]),V=function(e){var a=e.success,n=void 0!==a&&a,t=e.children;return c.a.createElement(H,{className:Object(L.cn)("right__sticker",{"order-method-unselected":!n,"order-method-selected":n})},c.a.createElement(z,{className:"flaticon-transport"}),c.a.createElement("p",null,t))},q=p.default.div.withConfig({displayName:"ShopHeader__StyledShopHeader",componentId:"sc-16i2701-0"})(["display:flex;min-height:200px;& div.info{display:flex;flex-direction:column;align-items:flex-start;}"]),A=Object(p.default)(E.a).withConfig({displayName:"ShopHeader__StyledLanguagePicker",componentId:"sc-16i2701-1"})(["position:absolute;left:3rem;"]),U=function(e){var a=e.branch,n=e.intro;return c.a.createElement("div",null,c.a.createElement(i.p,{className:"justify-content-md-center"},c.a.createElement(m.a,null,c.a.createElement(k.a,null),c.a.createElement(A,null)),a&&c.a.createElement(j,{status:a})),c.a.createElement(i.p,{className:"row-white justify-content-md-center"},c.a.createElement(m.a,null,c.a.createElement(q,{"data-testid":"shopHeader"},c.a.createElement(c.a.Fragment,null,c.a.createElement(F,{url:n?n.homepageUrl:null}),c.a.createElement("div",{className:"info"},c.a.createElement(l.Route,{exact:!0,path:"/",render:function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement(V,null,c.a.createElement(f.Trans,{id:"Choose your delivery option below"})),c.a.createElement(C,{intro:n}))}}),c.a.createElement(l.Route,{path:"/order",render:function(){return c.a.createElement(c.a.Fragment,null,a&&c.a.createElement(w.a,{status:a}),c.a.createElement(V,{success:!0},c.a.createElement(g,{address:a?a.address:null})),c.a.createElement(B,{branch:a}),c.a.createElement(C,{intro:n}))}}),c.a.createElement(l.Route,{path:"/finish",render:function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement(V,{success:!0},c.a.createElement(f.Trans,{id:"Order was send"})),c.a.createElement(B,{branch:a}),c.a.createElement(C,{intro:n}))}})))))))},D=Object(u.observer)(function(){var e=Object(s.b)(),a=e.order,n=e.business,t=Object(d.J)({brandId:n.isBrand&&!a.hasOrder?n.brandId:void 0,branchId:n.isBrand&&!a.hasOrder?void 0:a.branchId||n.branchId},{skip:!n.isValid,context:{noBatch:!0},fetchPolicy:"cache-first"}),r=t.data,l=t.loading,i=Object(d.I)({branchId:a.branchId},{skip:!a.branchId,fetchPolicy:"cache-first"}),o=i.data,m=i.loading;return c.a.createElement(U,{branch:m?null:o.branch,intro:l?null:r.intro})}),J=n(937),G=n(938),W=n(939),Y=n(940),K=function(e){return Object(o.a)(e),c.a.createElement(c.a.Fragment,null,c.a.createElement(D,null),c.a.createElement(i.p,{className:"justify-content-md-center"},c.a.createElement(m.a,null,c.a.createElement("div",{className:"finish__view"},c.a.createElement(G.a,{render:function(e){return c.a.createElement(c.a.Fragment,null,c.a.createElement(W.a,{order:e.order}),c.a.createElement(Y.a,{branch:e.companyBranch}),c.a.createElement(J.a,{finish:e}))}})))))},Q=(n(981),n(115)),X=n(941),Z=n(153),$=n(922),ee=n(974),ae=n(22),ne=n.n(ae),te=n(36),re=n(49),ce=(n(1017),n(917)),le=n(12),ie=n(113),oe=n(923),me=n(210),ue=n(226),se=n.n(ue),de=n(99),pe=p.default.div.withConfig({displayName:"PickupMapBranch__StyledPickupMapBranch",componentId:"sc-1kkamvy-0"})(["font-size:1rem;display:flex;flex-direction:column;background-color:white;max-width:18rem;min-width:13rem;border-radius:8px;box-shadow:0 2px 7px 1px rgba(0,0,0,0.3);> header{flex:0 0 auto;background-color:",";color:",";padding:0.4rem;padding-right:1.3rem;border-radius:8px 8px 0 0;}> p{flex:1 1 0;margin:0.5rem;}> button{flex:1 0 auto;margin:0 0.3rem 0.3rem 0.3rem;}> .close{position:absolute;right:0;top:0;padding:0.5rem;font-size:0.9rem;cursor:pointer;&:hover{border-radius:0 8px 0 0;background-color:",";}}"],function(e){return e.theme.primary},function(e){return e.theme.tertiaryText},function(e){var a=e.theme;return se()(a.primary).lighten(.5).toString()}),fe=function(e){var a=e.branch,n=e.onConfirm,t=e.onClose,r=Object(_.a)({status:a});return c.a.createElement(pe,null,c.a.createElement("div",{className:"close",onClick:t},"\ud83d\uddd9"),c.a.createElement("header",null,a.name),c.a.createElement("p",null,c.a.createElement(h.a,{address:a.address})),c.a.createElement(de.b,{color:"primary","data-testid":"submitPickupBranch",disabled:!a.pickupEnabled,onClick:n},a.pickupEnabled?function(e){var a=e.decision,n=e.openingIn,t=e.closingIn;switch(a){case"Closed":return c.a.createElement(f.Trans,{id:"Closed"});case"ClosingSoon":return c.a.createElement(f.Trans,{id:"{closingIn, plural, one {Closing in 1 minute} other {Closing in # minutes}}",values:{closingIn:t}});case"OpeningSoon":return c.a.createElement(f.Trans,{id:"{openingIn, plural, one {Opening in 1 minute} other {Opening in # minutes}}",values:{openingIn:n}});default:return b.b._("Pickup here").toLocaleUpperCase()}}(r):c.a.createElement(f.Trans,{id:"Delivery only"})))};var Ee,he=(Ee={},Object(Z.a)(Ee,d.a.Messenger,Object(r.createFactory)(ee.a)),Object(Z.a)(Ee,d.a.Pickup,Object(r.createFactory)(function(e){var a=e.onConfirm,n=Object(s.b)(),l=n.order,i=n.business,o=n.map,m=Object(r.useState)(null),d=Object(re.a)(m,2),p=d[0],f=d[1];Object(u.useDisposable)(function(){return Object(le.when)(function(){return null!==i.branchId&&null===p},function(){f(i.branchId)})}),Object(r.useEffect)(function(){p&&l.prefetchFoodMenu(p)},[p]);var E=Object(r.useCallback)(function(){var e=Object(te.a)(ne.a.mark(function e(n){return ne.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return l.setBranch(n),e.next=3,l.createPickupOrder(n);case 3:a();case 4:case"end":return e.stop()}},e)}));return function(a){return e.apply(this,arguments)}}(),[a]),h=function(e){return c.a.createElement(ce.Marker,{key:e.id,position:Object(ie.a)(e.gps),onClick:function(){return f(e.id)}})},b=function(e){return c.a.createElement(ce.OverlayView,{key:e.id,position:Object(ie.a)(e.gps),getPixelPositionOffset:function(e){return{x:0===e?-131:-e/2,y:8}},mapPaneName:ce.OverlayView.OVERLAY_MOUSE_TARGET},c.a.createElement(fe,{branch:e,onClose:function(){f(null)},onConfirm:function(){E(e.id)}}))};return Object(u.useObserver)(function(){return i.isBrand?c.a.createElement(me.d,{variables:{brandId:i.brandId},renderLoading:!1,render:function(e){var a=e.branches,n=a&&a.find(t.RM.propEq("id",i.branchId)),r=null!==p&&a&&a.find(t.RM.propEq("id",p));return c.a.createElement(c.a.Fragment,null,c.a.createElement(oe.a,{map:o,gps:n&&n.gps}),a&&a.map(h),r&&b(r))}}):c.a.createElement(me.c,{variables:{branchId:i.branchId},renderLoading:!1,render:function(e){var a=e.branch;return c.a.createElement(c.a.Fragment,null,c.a.createElement(oe.a,{map:o,gps:a&&a.gps}),a&&c.a.createElement(c.a.Fragment,null,h(a),b(a),"}"))}})})})),Ee),be=function(e){var a=e.onConfirm,n=Object(s.b)(),t=n.order,r=n.map;return Object(u.useObserver)(function(){return c.a.createElement($.a,{model:r},he[t.orderMethod]({onConfirm:a}))})},ge=function(){var e=Object(Q.useRouterContext)().history;return c.a.createElement(c.a.Fragment,null,c.a.createElement(D,null),c.a.createElement(i.p,{className:"justify-content-md-center"},c.a.createElement(m.a,null,c.a.createElement("div",{className:"map__view"},c.a.createElement("div",{className:"map__view__header"},c.a.createElement(X.a,null)),c.a.createElement(be,{onConfirm:function(){return e.push("/order")}})))))},ve=(n(1018),n(972)),_e=n(973),ye=n(954),Oe=(n(1030),n(955)),je=n(979),we=n(963),ke=n(975),Ie=n(977),Ce=(n(966),n(967)),xe=n(969),Ne=function(){return c.a.createElement("div",{className:"order__payment__method"},c.a.createElement(xe.a,{method:d.j.Gopay},b.b._("Pay by card").toLocaleUpperCase()),c.a.createElement(xe.a,{method:d.j.Cash},b.b._("Pay by cash").toLocaleUpperCase()),c.a.createElement(Ce.a,null))},Se=n(948),Pe=Object(u.observer)(function(){var e=Object(s.b)().order,a=Object(Q.useRouterContext)().history,n=Object(d.F)({orderId:e.orderId},{skip:!e.orderId}),t=n.data,r=n.loading;c.a.useEffect(function(){r||t.order.orderStateCategory===d.i.InCart||(e.orderCancel(),a.replace("/"))});var l=e.isVamInitialized&&!r&&t.order.countWares>0;return c.a.createElement(Ie.a,{render:function(e,a){return c.a.createElement("div",{className:"order__form"},c.a.createElement("div",{className:"order__form__inner"},c.a.createElement(we.a,{onFill:function(a){return e.setAllValues(a)}}),c.a.createElement(ke.a,null),c.a.createElement(Ne,null),c.a.createElement(je.a,null)),c.a.createElement(Se.a,{onClick:e.submitForm,canSubmit:l,isSubmitting:a},c.a.createElement(f.Trans,{id:"Place order"})))}})}),Fe=n(970),Te=n(976),Re=c.a.memo(function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement(Pe,null),c.a.createElement(Fe.a,null),c.a.createElement(Oe.a,null),c.a.createElement(Te.a,null))}),Me=function(){return Object(s.b)().order.hasOrder?c.a.createElement(c.a.Fragment,null,c.a.createElement(D,null),c.a.createElement(i.p,{className:"justify-content-md-center"},c.a.createElement(m.b,null,c.a.createElement("div",{className:"shop__overview__column"},c.a.createElement(_e.a,null))),c.a.createElement(m.c,null,c.a.createElement("div",{className:"shop__overview__column cart__column","data-testid":"CartColumn"},c.a.createElement("div",{className:"cart__column__header"},c.a.createElement("span",{className:"flaticon-cart cart__column__header__icon"}),c.a.createElement("h4",null,b.b._("Your order"))),c.a.createElement(N.b,{className:"cart__column__cart",imageName:"backgroundCart"},c.a.createElement(ve.a,null)),c.a.createElement(Re,null))),c.a.createElement(ye.a,null))):c.a.createElement(l.Redirect,{to:"/"})};a.default=function(){return Object(t.useReleaseCabinet)(alert),c.a.createElement(i.e,{fluid:!0},c.a.createElement(l.Route,{exact:!0,path:"/",component:ge}),c.a.createElement(l.Route,{path:"/order",component:Me}),c.a.createElement(l.Route,{path:"/finish",component:K}))}},981:function(e,a,n){}}]);
//# sourceMappingURL=12.e9c82ca0.chunk.js.map