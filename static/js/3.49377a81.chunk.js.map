{"version":3,"sources":["segments/finish/FinishView.tsx","segments/shop/ShopHeader.tsx","segments/shop/OrderAddress.tsx","segments/shop/ShopCloseAlert.tsx","segments/shop/ShopIntro.tsx","segments/shop/ShopLogo.tsx","segments/shop/ShopOpeningHours.tsx","segments/shop/Sticker.tsx","segments/shop/ShopHeader.graphql.ts","segments/shop/ShopOpeningHours.graphql.ts","segments/map/views/MapView.tsx","segments/map/OrderMap.tsx","segments/map/PickupMap.tsx","segments/map/PickupMapBranch.tsx","segments/shop/ShopOverview.tsx","segments/orderForm/OrderFormView.tsx","segments/orderForm/OrderForm.tsx","segments/orderForm/OrderPaymentMethod.tsx","segments/orderForm/OrderPaymentButton.tsx","app/DesktopApp.tsx","segments/shop/ShopHeaderView.tsx"],"names":["__webpack_require__","_react","_interopRequireDefault","_reactstrap","_ColStyle","_ShopHeaderView","_FinishViewFooter","_FinishViewLoader","_FinishViewOrder","_FinishViewSupport","default","createElement","Fragment","Row","className","ColStyle","FinishViewLoader","render","result","FinishViewOrder","order","FinishViewSupport","branch","companyBranch","FinishViewFooter","finish","_react2","_reactRouter","_styledComponents","_OrderAddress","_ShopCloseAlert","_ShopClosingTimeModal","_ShopHeaderIcons","_ShopIntro","_ShopLogo","_ShopOpeningHours","_Sticker","ShopHeaderStyled","div","withConfig","displayName","ShopHeaderInfoStyled","intro","isLoading","ShopHeaderIcons","data-testid","ShopLogo","url","homepageUrl","Route","exact","path","Sticker","Trans","id","ShopIntro","ShopClosingTimeModal","status","success","OrderAddress","address","ShopOpeningHours","ShopCloseAlert","_mobxReactLite","_ShopAddress","_WithRoot","_types","_i18n","location","useRoot","useObserver","orderMethod","DeliveryTypeEnum","Messenger","i18n","_","Pickup","ShopAddress","_ShopStatus","now","ShopStatus","decision","closingIn","Alert","values","ShopIntroStyled","headerText","_reactRouterDom","_BackgroundThemed","LogoLink","children","href","Link","to","LogoContainerStyled","props","BackgroundThemed","imageName","size","_formats","_ramda","_ShopStatusDisplay","ShopOpeningHoursContainer","Container","ShopOpeningHoursTimes","ShopOpeningHoursStatus","ShopOpeningHoursIcon","openingHours","businessHours","filter","RM","propEq","fluid","length","map","businessHour","idx","key","formatTime","openAt","closeAt","ShopStatusDisplay","deliveryTime","defaultDeliveryTime","pickupTime","defaultPickupTime","_classnames","StickerThemed","theme","primary","IconStyled","span","order-method-unselected","order-method-selected","_graphqlTag","_graph","_fragments","ShopHeaderQuery","AddressFragment","CompanyBranchStatusFragment","ShopOpeningHoursFragment","QueryShopHeader","buildQuery","_hooks","_OrderMethod","_OrderMap","history","useRouterContext","OrderMethod","OrderMap","onConfirm","push","_interopRequireWildcard","_BaseMap","_DeliveryMap","_PickupMap","mapByOrderMethod","[object Object]","createFactory","DeliveryMap","PickupMap","BaseMap","model","_mobx","_reactGoogleMaps","_gps","_MapPanning","_PickupMap2","_PickupMapBranch","business","activeBranch","setActiveBranch","useState","useDisposable","when","branchId","useEffect","prefetchFoodMenu","onConfirmPickup","useCallback","__awaiter","setBranch","createPickupOrder","renderSite","Marker","position","gpsToLatLng","gps","onClick","InfoWindow","onCloseClick","defaultOptions","maxWidth","PickupMapBranch","isBrand","QueryPickupMapBrand","variables","brandId","renderLoading","branches","find","MapPanning","QueryPickupMapBranch","_Buttons","_useShopStatus","PickupMapHeaderStyled","tertiaryText","shopStatus","useShopStatus","updateInterval","SECOND","name","PrimaryButton","color","disabled","pickupEnabled","openingIn","toLocaleUpperCase","getButtonText","_ThemeSwitchProvider","_CartView","_FoodMenuView","_OrderFormStorageNotice","_OrderFormView","orderModel","hasOrder","ColStyleLeft","FoodMenuView","ColStyleRight","CartView","orderId","OrderFormView","OrderFormStorageNotice","Redirect","_reactApolloHooks","_OrderErrorModal","_OrderForm","_OrderFormView2","_OrderGoPayModal","_OrderTimePicker","data","useQuery","OrderFormQuery","suspend","skip","countWares","OrderForm","OrderGoPayModal","OrderErrorModal","OrderTimePicker","_OrderAgreements","_OrderFormAutoFill","_OrderFormInputs","_OrderFormSetup","_OrderPaymentMethod","_OrderSubmitLine","OrderFormSetup","form","OrderFormAutoFill","onFill","setAllValues","OrderFormInputs","OrderPaymentMethod","OrderAgreements","OrderSubmitLine","submitForm","canSubmit","isVamInitialized","_OrderPaymentButton","OrderPaymentButton","method","PaymentGateEnum","Gopay","Cash","_reactForm","Checkmark","show","_a","__rest","Field","field","fieldApi","SelectButtonThemed","_extends","selected","value","setValue","_FinishView","_MapView","_ShopOverview","component","MapView","ShopOverview","FinishView","_ShopHeader","_ShopHeader2","ShopHeaderView","Object","assign","brandOrBranch","isValid","loading","ShopHeader"],"mappings":"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","file":"static/js/3.49377a81.chunk.js","sourcesContent":["import './FinishView.css'\n\nimport React from 'react'\nimport { Row } from 'reactstrap'\n\nimport { ColStyle } from '../../common/ColStyle'\nimport ShopHeaderView from '../shop/ShopHeaderView'\nimport { FinishViewFooter } from './FinishViewFooter'\nimport { FinishViewLoader } from './FinishViewLoader'\nimport { FinishViewOrder } from './FinishViewOrder'\nimport { FinishViewSupport } from './FinishViewSupport'\n\ninterface IProps {}\n\nexport const FinishView: React.SFC<IProps> = ({}) => (\n  <>\n    <ShopHeaderView />\n    <Row className=\"justify-content-md-center\">\n      <ColStyle>\n        <div className=\"finish__view\">\n          <FinishViewLoader\n            render={result => (\n              <>\n                <FinishViewOrder order={result.order} />\n                <FinishViewSupport branch={result.companyBranch} />\n                <FinishViewFooter finish={result} />\n              </>\n            )}\n          />\n        </div>\n      </ColStyle>\n    </Row>\n  </>\n)\n","import { Trans } from '@lingui/react'\nimport React from 'react'\nimport { Route } from 'react-router'\nimport { Row } from 'reactstrap'\nimport styled from 'styled-components'\n\nimport { ColStyle } from '../../common/ColStyle'\nimport { GShopHeader } from '../../graph/types'\nimport { OrderAddress } from './OrderAddress'\nimport { ShopCloseAlert } from './ShopCloseAlert'\nimport { ShopClosingTimeModal } from './ShopClosingTimeModal'\nimport { ShopHeaderIcons } from './ShopHeaderIcons'\nimport { ShopIntro } from './ShopIntro'\nimport { ShopLogo } from './ShopLogo'\nimport { ShopOpeningHours } from './ShopOpeningHours'\nimport { Sticker } from './Sticker'\n\ninterface IProps {\n  branch?: GShopHeader.Branch\n  intro?: GShopHeader.Intro\n  isLoading: boolean\n}\n\nconst ShopHeaderStyled = styled.div`\n  display: flex;\n  min-height: 200px;\n`\n\nconst ShopHeaderInfoStyled = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n`\n\nexport const ShopHeader: React.SFC<IProps> = ({ branch, intro, isLoading }) => (\n  <div>\n    <Row className=\"justify-content-md-center\">\n      <ShopHeaderIcons />\n    </Row>\n\n    <Row className=\"row-white justify-content-md-center\">\n      <ColStyle>\n        <ShopHeaderStyled data-testid=\"shopHeader\">\n          {isLoading || !branch ? null : (\n            <>\n              <ShopLogo url={intro ? intro.homepageUrl : null} />\n\n              <ShopHeaderInfoStyled>\n                <Route\n                  exact={true}\n                  path=\"/\"\n                  render={() => (\n                    <>\n                      <Sticker>\n                        <Trans>Choose your delivery option below</Trans>\n                      </Sticker>\n                      <ShopIntro intro={intro} />\n                    </>\n                  )}\n                />\n                <Route\n                  path=\"/order\"\n                  render={() => (\n                    <>\n                      <ShopClosingTimeModal status={branch} />\n                      <Sticker success={true}>\n                        <OrderAddress address={branch.address} />\n                      </Sticker>\n                      <ShopOpeningHours branch={branch} />\n                      <ShopIntro intro={intro} />\n                    </>\n                  )}\n                />\n                <Route\n                  path=\"/finish\"\n                  render={() => (\n                    <>\n                      <Sticker success={true}>\n                        <Trans>Order was send</Trans>\n                      </Sticker>\n                      <ShopOpeningHours branch={branch} />\n                      <ShopIntro intro={intro} />\n                    </>\n                  )}\n                />\n              </ShopHeaderInfoStyled>\n              <ShopCloseAlert status={branch} />\n            </>\n          )}\n        </ShopHeaderStyled>\n      </ColStyle>\n    </Row>\n  </div>\n)\n","import { useObserver } from 'mobx-react-lite'\nimport React from 'react'\n\nimport { ShopAddress } from '../../common/ShopAddress'\nimport { useRoot } from '../../common/WithRoot'\nimport { DeliveryTypeEnum, GShopHeader } from '../../graph/types'\nimport { i18n } from '../../i18n'\n\ninterface IProps {\n  address: GShopHeader.Address\n}\n\nexport const OrderAddress: React.FC<IProps> = ({ address }) => {\n  const { order, location } = useRoot()\n  return useObserver(() => {\n    switch (order.orderMethod) {\n      case DeliveryTypeEnum.Messenger:\n        return (\n          <span>\n            {i18n.t`Order to address`}: <b>{location.address}</b>\n          </span>\n        )\n      case DeliveryTypeEnum.Pickup:\n        return (\n          <span>\n            {i18n.t`Pickup at address`}:{' '}\n            <b>\n              <ShopAddress address={address} />\n            </b>\n          </span>\n        )\n      default:\n        return null\n    }\n  })\n}\n","import './ShopCloseAlert.css'\n\nimport { Plural, Trans } from '@lingui/react'\nimport React from 'react'\nimport { Alert } from 'reactstrap'\n\nimport { ShopStatus } from '../../common/ShopStatus'\nimport { GCompanyBranchStatus } from '../../graph/types'\n\ninterface IProps {\n  status?: GCompanyBranchStatus.Fragment\n  now?: Date\n}\n\nexport const ShopCloseAlert: React.SFC<IProps> = ({ status, now }) => {\n  return status ? (\n    <ShopStatus\n      now={now}\n      status={status}\n      render={({ decision, closingIn }) => {\n        if (decision === 'ClosingSoon') {\n          return (\n            <Alert className=\"shop__header__alert\">\n              <Trans>\n                Beware! We are\n                <Plural\n                  value={closingIn}\n                  one=\"closing in 1 minute\"\n                  other=\"closing in # minutes\"\n                />\n                . Finish your order quickly.\n              </Trans>\n            </Alert>\n          )\n        }\n        return null\n      }}\n    />\n  ) : null\n}\n","import React from 'react'\nimport styled from 'styled-components'\n\nimport { GShopHeader } from '../../graph/types'\n\ninterface IProps {\n  intro?: Maybe<GShopHeader.Intro>\n}\n\nconst ShopIntroStyled = styled.div`\n  margin: 0.8rem 1rem 1rem 1.3rem;\n`\n\nexport const ShopIntro: React.SFC<IProps> = ({ intro }) => (\n  <ShopIntroStyled data-testid=\"headerText\">\n    {intro ? intro.headerText : ''}\n  </ShopIntroStyled>\n)\n","import React from 'react'\nimport { Link } from 'react-router-dom'\nimport styled from 'styled-components'\n\nimport { BackgroundThemed } from '../../common/BackgroundThemed'\n\ninterface IProps {\n  url: Maybe<string>\n}\n\nconst LogoLink: React.SFC<IProps> = ({ url, children }) =>\n  url ? <a href={url}>{children}</a> : <Link to=\"/\">{children}</Link>\n\nconst LogoContainerStyled = styled.div`\n  height: 200px;\n  width: 400px;\n  flex: 0 0 400px;\n  & .shop__header__logo {\n    height: 100%;\n  }\n`\n\nexport const ShopLogo: React.SFC<IProps> = props => (\n  <LogoContainerStyled>\n    <LogoLink {...props}>\n      <BackgroundThemed\n        className=\"shop__header__logo\"\n        imageName=\"storeLogo\"\n        size=\"cover\"\n      />\n    </LogoLink>\n  </LogoContainerStyled>\n)\n","import React from 'react'\nimport { Container } from 'reactstrap'\nimport styled from 'styled-components'\n\nimport { GShopOpeningHours } from '../../graph/types'\nimport { formatTime } from '../../helpers/formats'\nimport { RM } from '../../helpers/ramda'\nimport { ShopStatusDisplay } from './ShopStatusDisplay'\n\ninterface IProps {\n  branch: GShopOpeningHours.Fragment\n}\n\nconst ShopOpeningHoursContainer = styled(Container)`\n  margin: 0.4rem 0 0 0.1rem;\n  display: flex;\n`\n\nconst ShopOpeningHoursTimes = styled.div`\n  padding-left: 2rem;\n`\n\nconst ShopOpeningHoursStatus = styled.div`\n  padding-left: 2rem;\n`\n\nconst ShopOpeningHoursIcon = styled.div`\n  margin: -0.2rem 0 0 -1rem;\n  position: absolute;\n`\n\nexport const ShopOpeningHours: React.FC<IProps> = ({ branch }) => {\n  const openingHours = branch.businessHours.filter(RM.propEq('closed', false))\n  return (\n    <ShopOpeningHoursContainer fluid={true}>\n      <ShopOpeningHoursIcon className=\"flaticon-clock\" />\n      {openingHours.length > 0 && (\n        <ShopOpeningHoursTimes>\n          {openingHours.map((businessHour, idx) => (\n            <div data-testid=\"openingHours\" key={idx}>\n              {`${formatTime(businessHour.openAt)} - ${formatTime(\n                businessHour.closeAt,\n              )}`}\n            </div>\n          ))}\n        </ShopOpeningHoursTimes>\n      )}\n      <ShopOpeningHoursStatus>\n        <ShopStatusDisplay\n          status={branch}\n          deliveryTime={branch.defaultDeliveryTime}\n          pickupTime={branch.defaultPickupTime}\n        />\n      </ShopOpeningHoursStatus>\n    </ShopOpeningHoursContainer>\n  )\n}\n","import classNames from 'classnames'\nimport React from 'react'\nimport styled from 'styled-components'\n\nconst StickerThemed = styled.div`\n  background: ${({ theme }) => theme.primary};\n  color: white;\n  margin-top: 1rem;\n  padding: 0;\n  border-radius: 0 0.7rem 0.7rem 0;\n  white-space: nowrap;\n  flex: none;\n\n  & p {\n    display: inline-block;\n    margin: 0.6rem 1rem 0 0;\n    vertical-align: top;\n    white-space: nowrap;\n  }\n`\n\nconst IconStyled = styled.span`\n  margin: 0.5rem 1rem 0 0.1rem;\n  &:before,:after {\n  font-size: 1.8rem;\n  margin: 0 0 0 1rem;\n  }\n}\n`\n\ninterface IProps {\n  success?: boolean\n}\n\nexport const Sticker: React.SFC<IProps> = ({ success = false, children }) => (\n  <StickerThemed\n    className={classNames('right__sticker', {\n      'order-method-unselected': !success,\n      'order-method-selected': success,\n    })}\n  >\n    <IconStyled className=\"flaticon-transport\" />\n    <p>{children}</p>\n  </StickerThemed>\n)\n","import gql from 'graphql-tag'\n\nimport { buildQuery } from '../../graph'\nimport {\n  AddressFragment,\n  CompanyBranchStatusFragment,\n} from '../../graph/fragments.graphql'\nimport { GShopHeader } from '../../graph/types'\nimport { ShopOpeningHoursFragment } from './ShopOpeningHours.graphql'\n\nexport const ShopHeaderQuery = gql`\n  query GShopHeader($brandId: ID, $branchId: ID!) {\n    branch: companyBranch(id: $branchId) {\n      id\n      address {\n        ...GAddress\n      }\n      ...GShopOpeningHours\n      ...GCompanyBranchStatus\n    }\n    intro: applicationSettings(brand: $brandId, companyBranch: $branchId) {\n      headerText\n      homepageUrl\n    }\n  }\n  ${AddressFragment}\n  ${CompanyBranchStatusFragment}\n  ${ShopOpeningHoursFragment}\n`\n\nexport const QueryShopHeader = buildQuery<\n  GShopHeader.Query,\n  GShopHeader.Variables\n>(ShopHeaderQuery)\n","import gql from 'graphql-tag'\n\nimport { CompanyBranchStatusFragment } from '../../graph/fragments.graphql'\n\nexport const ShopOpeningHoursFragment = gql`\n  fragment GShopOpeningHours on CompanyBranch {\n    defaultDeliveryTime\n    defaultPickupTime\n    ...GCompanyBranchStatus\n  }\n  ${CompanyBranchStatusFragment}\n`\n","import './MapView.css'\n\nimport { useRouterContext } from '@speedlo/hooks'\nimport React from 'react'\nimport { Row } from 'reactstrap'\n\nimport { ColStyle } from '../../../common/ColStyle'\nimport { OrderMethod } from '../../destination/OrderMethod'\nimport ShopHeaderView from '../../shop/ShopHeaderView'\nimport { OrderMap } from '../OrderMap'\n\nexport const MapView = () => {\n  const { history } = useRouterContext()\n  return (\n    <>\n      <ShopHeaderView />\n      <Row className=\"justify-content-md-center\">\n        <ColStyle>\n          <div className=\"map__view\">\n            <div className=\"map__view__header\">\n              <OrderMethod />\n            </div>\n            <OrderMap onConfirm={() => history.push(`/order`)} />\n          </div>\n        </ColStyle>\n      </Row>\n    </>\n  )\n}\n","import { useObserver } from 'mobx-react-lite'\nimport React, { createFactory } from 'react'\n\nimport { BaseMap } from '../../common/BaseMap'\nimport { useRoot } from '../../common/WithRoot'\nimport { DeliveryTypeEnum } from '../../graph/types'\nimport { DeliveryMap } from './DeliveryMap'\nimport { PickupMap } from './PickupMap'\n\ninterface IProps {\n  onConfirm(): void\n}\n\nconst mapByOrderMethod = {\n  [DeliveryTypeEnum.Messenger]: createFactory<IProps>(DeliveryMap),\n  [DeliveryTypeEnum.Pickup]: createFactory<IProps>(PickupMap),\n}\n\nexport const OrderMap: React.FC<IProps> = ({ onConfirm }) => {\n  const { order, map } = useRoot()\n  return useObserver(() => (\n    <BaseMap model={map}>\n      {mapByOrderMethod[order.orderMethod]({ onConfirm })}\n    </BaseMap>\n  ))\n}\n","import './PickupMap.css'\n\nimport { when } from 'mobx'\nimport { useDisposable, useObserver } from 'mobx-react-lite'\nimport React, { useCallback, useEffect, useState } from 'react'\nimport { InfoWindow, Marker } from 'react-google-maps'\n\nimport { useRoot } from '../../common/WithRoot'\nimport { GPickupBranch } from '../../graph/types'\nimport { gpsToLatLng } from '../../helpers/gps'\nimport { RM } from '../../helpers/ramda'\nimport { MapPanning } from './atoms/MapPanning'\nimport { QueryPickupMapBranch, QueryPickupMapBrand } from './PickupMap.graphql'\nimport { PickupMapBranch } from './PickupMapBranch'\n\ninterface IProps {\n  onConfirm(): void\n}\n\nexport const PickupMap: React.FC<IProps> = ({ onConfirm }) => {\n  const { order, business, map } = useRoot()\n  const [activeBranch, setActiveBranch] = useState<MaybeID>(null)\n\n  useDisposable(() =>\n    when(\n      () => business.branchId !== null && activeBranch === null,\n      () => {\n        setActiveBranch(business.branchId)\n      },\n    ),\n  )\n\n  useEffect(\n    () => {\n      if (activeBranch) {\n        order.prefetchFoodMenu(activeBranch)\n      }\n    },\n    [activeBranch],\n  )\n\n  const onConfirmPickup = useCallback(\n    async (branchId: ID) => {\n      // it's necessary to set asap so correct data are displayed further\n      order.setBranch(branchId)\n      await order.createPickupOrder(branchId)\n      onConfirm()\n    },\n    [onConfirm],\n  )\n\n  const renderSite = (branch: GPickupBranch.Fragment) => (\n    <Marker\n      key={branch.id}\n      position={gpsToLatLng(branch.gps)}\n      onClick={() => setActiveBranch(branch.id)}\n    >\n      {activeBranch === branch.id ? (\n        <InfoWindow\n          onCloseClick={() => setActiveBranch(null)}\n          defaultOptions={{ maxWidth: 200 }}\n        >\n          <PickupMapBranch\n            branch={branch}\n            onConfirm={() => {\n              onConfirmPickup(branch.id)\n            }}\n          />\n        </InfoWindow>\n      ) : null}\n    </Marker>\n  )\n\n  return useObserver(() => {\n    if (business.isBrand) {\n      return (\n        <QueryPickupMapBrand\n          variables={{ brandId: business.brandId! }}\n          renderLoading={false}\n          render={({ branches }) => {\n            const branch =\n              branches && branches.find(RM.propEq('id', business.branchId))\n            return (\n              <>\n                <MapPanning map={map} gps={branch && branch.gps} />\n                {branches && branches.map(renderSite)}\n              </>\n            )\n          }}\n        />\n      )\n    }\n    return (\n      <QueryPickupMapBranch\n        variables={{ branchId: business.branchId! }}\n        renderLoading={false}\n        render={({ branch }) => (\n          <>\n            <MapPanning map={map} gps={branch && branch.gps} />\n            {branch && renderSite(branch)}\n          </>\n        )}\n      />\n    )\n  })\n}\n","import { Plural, Trans } from '@lingui/react'\nimport { SECOND } from '@speedlo/hooks'\nimport React from 'react'\nimport styled from 'styled-components'\n\nimport { PrimaryButton } from '../../common/Buttons'\nimport { ShopAddress } from '../../common/ShopAddress'\nimport { IShopStatusRender } from '../../common/ShopStatus'\nimport { GPickupBranch } from '../../graph/types'\nimport { useShopStatus } from '../../hooks/useShopStatus'\nimport { i18n } from '../../i18n'\n\ninterface IProps {\n  branch: GPickupBranch.Fragment\n  onConfirm(): void\n}\n\nconst PickupMapHeaderStyled = styled.div`\n  background-color: ${({ theme }) => theme.primary};\n  color: ${({ theme }) => theme.tertiaryText};\n  text-align: center;\n  padding: 0.4rem 0.2rem 0.2rem 0.2rem;\n  height: 2rem;\n  vertical-align: middle;\n`\n\nexport const PickupMapBranch: React.FC<IProps> = ({ branch, onConfirm }) => {\n  const shopStatus = useShopStatus({\n    status: branch,\n    updateInterval: 30 * SECOND,\n  })\n  return (\n    <div className=\"pickup__map\">\n      <PickupMapHeaderStyled className=\"pickup__map__header\">\n        {branch.name}\n      </PickupMapHeaderStyled>\n      <div className=\"pickup__map__info\">\n        <ShopAddress address={branch.address} />\n      </div>\n      <PrimaryButton\n        color=\"primary\"\n        data-testid=\"submitPickupBranch\"\n        disabled={!branch.pickupEnabled}\n        onClick={onConfirm}\n      >\n        {branch.pickupEnabled ? (\n          getButtonText(shopStatus)\n        ) : (\n          <Trans>Delivery only</Trans>\n        )}\n      </PrimaryButton>\n    </div>\n  )\n}\n\nfunction getButtonText({ decision, openingIn, closingIn }: IShopStatusRender) {\n  switch (decision) {\n    case 'Closed':\n      return <Trans>Closed</Trans>\n    case 'ClosingSoon':\n      return (\n        <Plural\n          value={closingIn}\n          one=\"Closing in 1 minute\"\n          other=\"Closing in # minutes\"\n        />\n      )\n    case 'OpeningSoon':\n      return (\n        <Plural\n          value={openingIn}\n          one=\"Opening in 1 minute\"\n          other=\"Opening in # minutes\"\n        />\n      )\n    default:\n      return i18n.t`Pickup here`.toLocaleUpperCase()\n  }\n}\n","import './ShopOverview.css'\n\nimport React from 'react'\nimport { Redirect } from 'react-router'\nimport { Row } from 'reactstrap'\n\nimport BackgroundThemed from '../../common/BackgroundThemed'\nimport { ColStyleLeft, ColStyleRight } from '../../common/ColStyle'\nimport ThemeSwitchProvider from '../../common/ThemeSwitchProvider'\nimport { useRoot } from '../../common/WithRoot'\nimport { i18n } from '../../i18n'\nimport { CartView } from '../cart/CartView'\nimport { FoodMenuView } from '../foodMenu/FoodMenuView'\nimport { OrderFormStorageNotice } from '../orderForm/OrderFormStorageNotice'\nimport { OrderFormView } from '../orderForm/OrderFormView'\nimport ShopHeaderView from './ShopHeaderView'\n\nexport const ShopOverview: React.FC = () => {\n  const { order: orderModel } = useRoot()\n  if (!orderModel.hasOrder) {\n    return <Redirect to=\"/\" />\n  }\n  return (\n    <ThemeSwitchProvider branchId={orderModel.branchId}>\n      <>\n        <ShopHeaderView />\n        <Row className=\"justify-content-md-center\">\n          <ColStyleLeft>\n            <div className=\"shop__overview__column\">\n              <FoodMenuView />\n            </div>\n          </ColStyleLeft>\n\n          <ColStyleRight>\n            <div className=\"shop__overview__column cart__column\">\n              <div className=\"cart__column__header\">\n                <span className=\"flaticon-cart cart__column__header__icon\" />\n                <h4>{i18n.t`Your order`}</h4>\n              </div>\n\n              <BackgroundThemed\n                className=\"cart__column__cart\"\n                imageName=\"backgroundCart\"\n              >\n                <CartView orderId={orderModel.orderId} />\n              </BackgroundThemed>\n\n              <OrderFormView orderId={orderModel.orderId} />\n            </div>\n          </ColStyleRight>\n          <OrderFormStorageNotice />\n        </Row>\n      </>\n    </ThemeSwitchProvider>\n  )\n}\n","import './OrderFormView.css'\n\nimport React from 'react'\nimport { useQuery } from 'react-apollo-hooks'\n\nimport { GOrderForm } from '../../graph/types'\nimport { OrderErrorModal } from './OrderErrorModal'\nimport { OrderForm } from './OrderForm'\nimport { OrderFormQuery } from './OrderFormView.graphql'\nimport { OrderGoPayModal } from './OrderGoPayModal'\nimport { OrderTimePicker } from './OrderTimePicker'\n\ninterface IProps {\n  orderId: MaybeID\n}\n\nexport const OrderFormView: React.FC<IProps> = ({ orderId }) => {\n  const { data } = useQuery<GOrderForm.Query, GOrderForm.Variables>(\n    OrderFormQuery,\n    { suspend: false, skip: !orderId, variables: { orderId: orderId! } },\n  )\n\n  if (!data || !data.order || data.order.countWares === 0) {\n    return null\n  }\n\n  return (\n    <>\n      <OrderForm />\n      <OrderGoPayModal />\n      <OrderErrorModal />\n      <OrderTimePicker />\n    </>\n  )\n}\n","import React from 'react'\n\nimport { useRoot } from '../../common/WithRoot'\nimport { OrderAgreements } from './OrderAgreements'\nimport { OrderFormAutoFill } from './OrderFormAutoFill'\nimport { OrderFormInputs } from './OrderFormInputs'\nimport { OrderFormSetup } from './OrderFormSetup'\nimport { OrderPaymentMethod } from './OrderPaymentMethod'\nimport { OrderSubmitLine } from './OrderSubmitLine'\n\nexport const OrderForm: React.FC = () => {\n  const { order: orderModel } = useRoot()\n  return (\n    <OrderFormSetup\n      render={form => (\n        <div className=\"order__form\">\n          <div className=\"order__form__inner\">\n            <OrderFormAutoFill onFill={values => form.setAllValues(values)} />\n            <OrderFormInputs />\n            <OrderPaymentMethod />\n            <OrderAgreements />\n          </div>\n          <OrderSubmitLine\n            onClick={form.submitForm}\n            canSubmit={orderModel.isVamInitialized}\n          />\n        </div>\n      )}\n    />\n  )\n}\n","import './OrderPaymentMethod.css'\n\nimport React from 'react'\n\nimport { PaymentGateEnum } from '../../graph/types'\nimport { i18n } from '../../i18n'\nimport { OrderPaymentButton } from './OrderPaymentButton'\n\nexport const OrderPaymentMethod: React.SFC = () => (\n  <div className=\"order__payment__method\">\n    <OrderPaymentButton\n      method={PaymentGateEnum.Gopay}\n      data-testid=\"orderPaymentMethod__GoPay\"\n    >\n      {i18n.t`Pay by card`.toLocaleUpperCase()}\n    </OrderPaymentButton>\n    <OrderPaymentButton\n      method={PaymentGateEnum.Cash}\n      data-testid=\"orderPaymentMethod__Cash\"\n    >\n      {i18n.t`Pay by cash`.toLocaleUpperCase()}\n    </OrderPaymentButton>\n  </div>\n)\n","import React from 'react'\nimport { Field } from 'react-form'\n\nimport { SelectButtonThemed } from '../../common/Buttons'\nimport { PaymentGateEnum } from '../../graph/types'\n\nexport interface IPaymentButtonProps {\n  method: PaymentGateEnum\n  disabled?: boolean\n}\n\nexport const OrderPaymentButton: React.SFC<IPaymentButtonProps> = ({\n  children,\n  disabled,\n  method,\n  ...props\n}) => (\n  <Field\n    field=\"payment\"\n    render={fieldApi => (\n      <SelectButtonThemed\n        disabled={disabled}\n        selected={fieldApi.value === method}\n        onClick={() => {\n          fieldApi.setValue(method)\n        }}\n        {...props}\n      >\n        <Checkmark show={fieldApi.value === method} />\n        {children}\n      </SelectButtonThemed>\n    )}\n  />\n)\n\nfunction Checkmark({ show }: { show: boolean }) {\n  return show ? (\n    <span className=\"flaticon-mark order__payment__method__button__checked\" />\n  ) : (\n    <div className=\"order__payment__method__button__unchecked\" />\n  )\n}\n","import React from 'react'\nimport { Route } from 'react-router-dom'\nimport { Container } from 'reactstrap'\n\nimport { FinishView } from '../segments/finish/FinishView'\nimport { MapView } from '../segments/map/views/MapView'\nimport { ShopOverview } from '../segments/shop/ShopOverview'\n\nconst DesktopApp = () => (\n  <Container fluid={true}>\n    <Route exact={true} path=\"/\" component={MapView} />\n    <Route path=\"/order\" component={ShopOverview} />\n    <Route path=\"/finish\" component={FinishView} />\n  </Container>\n)\n\nexport default DesktopApp\n","import { useObserver } from 'mobx-react-lite'\nimport React from 'react'\n\nimport { useRoot } from '../../common/WithRoot'\nimport { ShopHeader } from './ShopHeader'\nimport { QueryShopHeader } from './ShopHeader.graphql'\n\nexport const ShopHeaderView: React.FC = () => {\n  const { order, business } = useRoot()\n  return useObserver(() => (\n    <QueryShopHeader\n      // need to use branchId from order first as it reflects branch for which\n      // order is being made and it might have different eg. business hours\n      // then the one obtained through business code\n      variables={{\n        ...business.brandOrBranch,\n        branchId: order.branchId || business.branchId!,\n      }}\n      skip={!business.isValid}\n      renderLoading={false}\n      render={({ branch, intro }, { loading }) => (\n        <ShopHeader branch={branch} intro={intro} isLoading={loading} />\n      )}\n    />\n  ))\n}\n\nexport default ShopHeaderView\n"],"sourceRoot":""}