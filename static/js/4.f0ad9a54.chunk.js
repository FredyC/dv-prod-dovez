(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{427:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,n=(r=a(0))&&r.__esModule?r:{default:r},l=a(184),o=a(435),i=a(839),d=a(849),u=a(852),c=a(853),s=a(858),m=a(871),f=a(876);var p=()=>n.default.createElement(n.default.Fragment,null,n.default.createElement(l.Route,{path:"/",component:f.MobileSmartBanner}),n.default.createElement(o.Container,{fluid:!0},n.default.createElement(l.Route,{exact:!0,path:"/",component:c.MobileIntroView}),n.default.createElement(l.Route,{path:"/pickup/:branchId?",component:m.MobilePickupView}),n.default.createElement(l.Route,{path:"/delivery",component:d.MobileDeliveryView}),n.default.createElement(l.Route,{path:"/order",component:s.MobileOrderView}),n.default.createElement(l.Route,{path:"/confirm",component:i.MobileConfirmView}),n.default.createElement(l.Route,{path:"/finish",component:u.MobileFinishView})));t.default=p},492:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(843);var r,n=(r=a(0))&&r.__esModule?r:{default:r},l=a(439);var o=({text:e,buttonText:t,buttonRight:a=!1,onButtonClick:r})=>{const o=!1===a?n.default.createElement(l.MobileHeaderButton,{className:"mobile__header__button","data-testid":"MobileHeaderButton__Left",onClick:r},t):null,i=!0===a?n.default.createElement(l.MobileHeaderButton,{className:"mobile__header__button","data-testid":"MobileHeaderButton__Right",onClick:r,isConfirm:!0},t):null;return n.default.createElement("div",{className:"mobile__header"},o,n.default.createElement("div",{className:"mobile__header__text"},e),i)};t.default=o},839:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MobileConfirmView=void 0,a(840);var r=a(94),n=b(a(0)),l=a(842),o=a(442),i=a(61),d=a(558),u=a(557),c=a(566),s=a(568),m=a(555),f=a(571),p=b(a(492)),_=a(845);function b(e){return e&&e.__esModule?e:{default:e}}t.MobileConfirmView=(({history:e})=>n.default.createElement("div",{className:"mobile__confirm__view"},n.default.createElement(p.default,{text:i.i18n._("Order confirmation"),buttonText:i.i18n._("Cancel"),onButtonClick:()=>e.goBack()}),n.default.createElement(o.WithOrder,{render:e=>n.default.createElement(s.OrderFormSetup,{order:e,render:t=>n.default.createElement(n.default.Fragment,null,n.default.createElement(l.ScrollToTop,null),n.default.createElement(m.OrderFormStorageNotice,null),n.default.createElement(f.OrderGoPayModal,{order:e}),n.default.createElement(u.OrderErrorModal,null),n.default.createElement("div",{className:"mobile__confirm__view__form"},n.default.createElement("h3",null,n.default.createElement(r.Trans,{id:"Where and to whom we deliver?"})),n.default.createElement(c.OrderFormInputs,null),n.default.createElement(d.OrderAgreements,null)),n.default.createElement("div",{className:"mobile__confirm__view__submit"},n.default.createElement("h4",null,n.default.createElement(r.Trans,{id:"Place order"})),n.default.createElement(_.MobilePaymentMethod,{orderModel:e,onConfirm:t.submitForm})))})})))},840:function(e,t,a){},842:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ScrollToTop=void 0;var r=a(0);t.ScrollToTop=class extends r.PureComponent{componentDidMount(){window.scrollTo(0,0)}render(){return null}}},843:function(e,t,a){},845:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MobilePaymentMethod=void 0,a(846);var r,n=(r=a(0))&&r.__esModule?r:{default:r},l=a(97),o=a(61),i=a(848);t.MobilePaymentMethod=(({orderModel:e,onConfirm:t})=>n.default.createElement("div",{className:"mobile__confirm__payment__method"},n.default.createElement(i.MobilePaymentButton,{method:l.PaymentGateEnum.Gopay,onClick:t,"data-testid":"mobilePaymentMethodGoPay"},n.default.createElement("span",{className:"flaticon-credit-card"},o.i18n._("Pay by card").toLocaleUpperCase())),n.default.createElement(i.MobilePaymentButton,{method:l.PaymentGateEnum.Cash,onClick:t,"data-testid":"mobilePaymentMethodCash"},n.default.createElement("span",{className:"flaticon-money"},o.i18n._("Pay by cash").toLocaleUpperCase()))))},846:function(e,t,a){},848:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MobilePaymentButton=void 0;var r=d(a(0)),n=a(447),l=a(439),o=d(a(570)),i=a(442);function d(e){return e&&e.__esModule?e:{default:e}}function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}var c=function(e,t){var a={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(a[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var n=0;for(r=Object.getOwnPropertySymbols(e);n<r.length;n++)t.indexOf(r[n])<0&&(a[r[n]]=e[r[n]])}return a};t.MobilePaymentButton=(e=>{var{method:t,disabled:a,onClick:d,children:s}=e,m=c(e,["method","disabled","onClick","children"]);return r.default.createElement(i.WithOrder,{observe:!0,render:e=>r.default.createElement(n.Field,{field:"payment",render:n=>r.default.createElement(l.SelectButtonThemed,u({selected:n.value===t,disabled:a||e.isSubmitting,onClick:()=>{n.setValue(t),d()}},m),e.isSubmitting&&n.value===t?r.default.createElement(o.default,null):s)})})})},849:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MobileDeliveryView=void 0,a(850);var r=u(a(0)),n=a(472),l=a(48),o=a(61),i=a(540),d=u(a(492));function u(e){return e&&e.__esModule?e:{default:e}}const c=()=>r.default.createElement("i",null,o.i18n._("Finding location..."));t.MobileDeliveryView=(({history:e})=>r.default.createElement("div",null,r.default.createElement(d.default,{text:o.i18n._("Enter the address"),buttonText:o.i18n._("Back"),onButtonClick:()=>e.goBack()}),r.default.createElement("div",{className:"mobile__map__view"},r.default.createElement(l.WithRoot,{render:t=>t.location.hasLocation?r.default.createElement(n.BaseMap,{model:t.map,render:()=>r.default.createElement(i.DeliveryMap,{onConfirm:()=>e.push("/order"),rootModel:t})}):r.default.createElement(c,null)}))))},850:function(e,t,a){},852:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MobileFinishView=void 0,a(494);var r,n=(r=a(0))&&r.__esModule?r:{default:r},l=a(435),o=a(445),i=a(495),d=a(496),u=a(497),c=a(498);t.MobileFinishView=(({})=>n.default.createElement(l.Row,{className:"justify-content-md-center"},n.default.createElement(o.ColStyle,null,n.default.createElement("div",{className:"finish__view__mobile"},n.default.createElement(d.FinishViewLoader,{render:e=>n.default.createElement(n.default.Fragment,null,n.default.createElement(u.FinishViewOrder,{order:e.order}),n.default.createElement(c.FinishViewSupport,{branch:e.companyBranch}),n.default.createElement(i.FinishViewFooter,{finish:e}))})))))},853:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MobileIntroView=void 0,a(854);var r=u(a(0)),n=a(184),l=u(a(486)),o=a(499),i=a(543),d=a(856);function u(e){return e&&e.__esModule?e:{default:e}}t.MobileIntroView=(()=>r.default.createElement("div",{className:"mobile__intro"},r.default.createElement(l.default,{className:"mobile__intro__logo","data-testid":"MobileIntroView__BackgroundThemed",imageName:"storeLogoMobile",size:"cover",fixed:!1},r.default.createElement(i.ShopHeaderIcons,null)),r.default.createElement("div",{className:"mobile__intro__info"},r.default.createElement(d.MobileShopIntro,null),r.default.createElement(n.Route,null,({history:e})=>r.default.createElement(o.OrderMethod,{onChange:t=>{t.usingDeliveryOrderMethod?e.push("/delivery"):t.usingPickupOrderMethod&&e.push("/pickup")}})))))},854:function(e,t,a){},856:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MobileShopIntro=void 0;var r,n=a(100),l=(r=a(0))&&r.__esModule?r:{default:r},o=a(48),i=a(857);t.MobileShopIntro=(()=>{const{business:e}=(0,o.useRoot)();return(0,n.useObserver)(()=>l.default.createElement(i.QueryMobileShopIntro,{variables:{branchId:e.branchId},renderLoading:()=>null,render:({companyBranch:{headerText:e}})=>l.default.createElement("div",{"data-testid":"MobileShopIntro"},e)}))})},857:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QueryMobileShopIntro=t.MobileShopIntroQuery=void 0;var r,n=(r=a(18))&&r.__esModule?r:{default:r},l=a(62);const o=n.default`
  query GMobileShopIntro($branchId: ID!) {
    companyBranch(id: $branchId) {
      id
      headerText
    }
  }
`;t.MobileShopIntroQuery=o;const i=(0,l.buildQuery)(o);t.QueryMobileShopIntro=i},858:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MobileOrderView=void 0,a(859);var r,n=(r=a(0))&&r.__esModule?r:{default:r},l=a(442),o=a(546),i=a(549),d=a(861),u=a(869);t.MobileOrderView=(e=>n.default.createElement(l.WithOrder,{redirect:!0,render:e=>n.default.createElement("div",{className:"mobile__order__view"},n.default.createElement(i.FoodMenuView,null),n.default.createElement(d.MobileCart,{orderId:e.orderId}),n.default.createElement(o.AddToCartModal,{order:e}),n.default.createElement(u.MobileClosingTimeModal,{branchId:e.branchId}))}))},859:function(e,t,a){},861:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MobileCart=void 0,a(862),a(864);var r,n=(r=a(185))&&r.__esModule?r:{default:r},l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,a):{};r.get||r.set?Object.defineProperty(t,a,r):t[a]=e[a]}return t.default=e,t}(a(0)),o=a(21),i=a(545),d=a(569),u=a(109),c=a(866);class s extends l.Component{constructor(){super(...arguments),this.state={isOpen:!1,goConfirm:!1},this.setOpen=(e=>{this.setState({isOpen:e})}),this.onToggle=(()=>{this.isEmpty?this.setOpen(!1):this.setState(e=>({isOpen:!e.isOpen}))}),this.onSubmit=(()=>{this.setState({goConfirm:!0})})}static getDerivedStateFromProps({count:e},{isOpen:t}){return 0===e&&!0===t?{isOpen:!1}:null}get isEmpty(){return 0===this.props.count}render(){const{count:e,price:t,isLoading:a}=this.props,{isOpen:r,goConfirm:u}=this.state;return u?l.default.createElement(o.Redirect,{to:"/confirm",push:!0}):l.default.createElement("div",{className:(0,n.default)("mobile__sliding__cart",{mobile__sliding__cart__open:r})},l.default.createElement("div",{className:"mobile__cart__view"},l.default.createElement(c.MobileCartSummary,{count:e,price:t,isLoading:a,onClick:this.onToggle}),r?l.default.createElement(l.default.Fragment,null,l.default.createElement(i.CartView,null),l.default.createElement(d.OrderSubmitLine,{canSubmit:!this.isEmpty,onClick:this.onSubmit})):null))}}t.MobileCart=(({orderId:e})=>l.default.createElement(u.QueryMobileCart,{variables:{orderId:e},renderLoading:!1,render:({order:e},{loading:t})=>l.default.createElement(s,{count:e?e.countWares:0,price:e?e.totalSum.formattedValue:"???",isLoading:t||!e})}))},862:function(e,t,a){},864:function(e,t,a){},866:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MobileCartSummary=void 0,a(867);var r=a(94),n=i(a(0)),l=i(a(60)),o=a(61);function i(e){return e&&e.__esModule?e:{default:e}}const d=l.default.div.withConfig({displayName:"MobileCartSummaryCountThemed"})`
  background-color: ${({theme:e})=>e.secondary};
`,u=l.default.span.withConfig({displayName:"MobileCartSummaryPriceThemed"})`
  color: ${({theme:e})=>e.primary};
`;t.MobileCartSummary=(({count:e,price:t,isLoading:a,onClick:l})=>{const i=e>0||!0===a;return n.default.createElement("div",{className:"mobile__cart__summary","data-testid":"mobileCartSummary",onClick:l},i?n.default.createElement("div",{className:"mobile__cart__summary__toggle"},n.default.createElement("span",{className:"flaticon-chevron-up"})):null,n.default.createElement("div",{className:"mobile__cart__summary__info"},n.default.createElement("span",{className:"flaticon-cart"}),i?n.default.createElement(d,{className:"mobile__cart__summary__count","data-testid":"mobileCartSummary__Count"},e||"?"):null,i?n.default.createElement("div",{className:"mobile__cart__summary__cart__with__price","data-testid":"mobileCartSummary__Price"},n.default.createElement(r.Trans,{id:"In the cart you have goods for<0>{price}</0>",values:{price:t},components:[n.default.createElement(u,{className:"mobile__cart__summary__price"})]})):n.default.createElement("span",{"data-testid":"cartIsEmpty"},o.i18n._("Cart is empty"))))})},867:function(e,t,a){},869:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MobileClosingTimeModal=void 0;var r,n=(r=a(0))&&r.__esModule?r:{default:r},l=a(542),o=a(870);t.MobileClosingTimeModal=(({branchId:e})=>n.default.createElement(o.QueryMobileShopStatus,{variables:{branchId:e},render:({branch:e})=>n.default.createElement(l.ShopClosingTimeModal,{status:e})}))},870:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QueryMobileShopStatus=t.MobileShopStatusQuery=void 0;var r,n=(r=a(18))&&r.__esModule?r:{default:r},l=a(99),o=a(25);const i=n.default`
  query GMobileShopStatus($branchId: ID!) {
    branch: companyBranch(id: $branchId) {
      id
      ...GCompanyBranchStatus
    }
  }
  ${o.CompanyBranchStatusFragment}
`;t.MobileShopStatusQuery=i;const d=(0,l.buildQuery)(i);t.QueryMobileShopStatus=d},871:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MobilePickupView=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,a):{};r.get||r.set?Object.defineProperty(t,a,r):t[a]=e[a]}return t.default=e,t}(a(0)),n=a(48),l=a(98),o=a(61),i=a(188),d=s(a(492)),u=s(a(872)),c=s(a(875));function s(e){return e&&e.__esModule?e:{default:e}}t.MobilePickupView=class extends r.Component{constructor(){super(...arguments),this.renderQuery=(e=>{const{branchId:t}=this.props.match.params;return e.business.isBrand?r.default.createElement(i.QueryPickupMapBrand,{variables:{brandId:e.business.brandId},renderLoading:!t,render:({branches:a})=>{const n=a&&a.find(l.RM.propEq("id",t))||null;return r.default.createElement(r.default.Fragment,null,this.renderHeader(n),n?this.renderMap(n,e):this.renderList(a,e))}}):r.default.createElement(i.QueryPickupMapBranch,{variables:{branchId:e.business.branchId},renderLoading:!1,render:({branch:t},{loading:a})=>r.default.createElement(r.default.Fragment,null,this.renderHeader(t),this.renderMap(t,e))})})}onSelectBranch(e,t){t.order.createPickupOrder(e,()=>this.props.history.push("/order"))}renderHeader(e){return r.default.createElement(d.default,{text:e?e.name:o.i18n._("Choose branch"),buttonText:o.i18n._("Back"),onButtonClick:()=>this.props.history.goBack()})}renderMap(e,t){return r.default.createElement(c.default,{model:t.map,branch:e,onSelect:()=>e&&this.onSelectBranch(e.id,t)})}renderList(e,t){return r.default.createElement(u.default,{branches:e,onShowMap:({id:e})=>this.props.history.push(`/pickup/${e}`),onSelect:({id:e})=>this.onSelectBranch(e,t),onPrefetch:e=>t.order.prefetchFoodMenu(e)})}render(){return r.default.createElement(n.WithRoot,{render:this.renderQuery})}}},872:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(873);var r=u(a(0)),n=u(a(60)),l=a(439),o=a(483),i=a(61),d=a(544);function u(e){return e&&e.__esModule?e:{default:e}}const c=n.default.div.withConfig({displayName:"StatusDisplayPosition"})``;var s=({branches:e,onSelect:t,onShowMap:a,onPrefetch:n})=>{return r.default.createElement("div",{className:"mobile__pickup__list"},e&&e.map(e=>r.default.createElement("div",{className:"mobile__pickup__list__item","data-testid":"MobilePickupList",key:e.id},r.default.createElement("div",{className:"mobile__pickup__list__header"},e.name),r.default.createElement(o.ShopAddress,{address:e.address}),r.default.createElement(c,null,r.default.createElement(d.ShopStatusDisplay,{status:e})),r.default.createElement("div",{className:"mobile__pickup__list__buttons"},r.default.createElement(l.SecondaryButton,{onClick:()=>a(e)},r.default.createElement("span",{className:"flaticon-signs"},i.i18n._("Show on map").toLocaleUpperCase())),e.pickupEnabled?r.default.createElement(l.PrimaryButton,{onClick:()=>t(e),onMouseEnter:()=>n(e.id)},r.default.createElement("span",{className:"flaticon-mark"},i.i18n._("Choose").toLocaleUpperCase())):r.default.createElement(l.PrimaryButton,{disabled:!0},r.default.createElement("span",{className:"flaticon-mark"},i.i18n._("Delivery only").toLocaleLowerCase()))))))};t.default=s},873:function(e,t,a){},875:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,a):{};r.get||r.set?Object.defineProperty(t,a,r):t[a]=e[a]}return t.default=e,t}(a(0)),n=a(453),l=s(a(60)),o=a(472),i=a(439),d=s(a(541)),u=a(104),c=a(61);function s(e){return e&&e.__esModule?e:{default:e}}const m=l.default.div.withConfig({displayName:"ButtonStripeContainerStyled"})`
  margin-top: 2rem;
  z-index: 10;
`;var f=class extends r.PureComponent{componentDidMount(){this.panToBranch()}componentDidUpdate(){this.panToBranch()}panToBranch(){const{model:e,branch:t}=this.props;t&&e.panToLocation(t.gps)}render(){const{model:e,branch:t,onSelect:a}=this.props,l=t?(0,u.gpsToLatLng)({latitude:Number(t.gps.latitude),longitude:Number(t.gps.longitude)}):void 0;return r.default.createElement("div",null,r.default.createElement("div",{className:"mobile__map__view"},r.default.createElement(o.BaseMap,{model:e,render:()=>r.default.createElement(n.Marker,{position:l})})),t&&t.pickupEnabled&&r.default.createElement(m,null,r.default.createElement(d.default,null,r.default.createElement(i.PrimaryButton,{onClick:a,"data-testid":"mobilePickupMap__SubmitButton"},c.i18n._("Choose branch").toLocaleUpperCase()))),t&&!t.pickupEnabled&&r.default.createElement(m,null,r.default.createElement(d.default,null,r.default.createElement(i.PrimaryButton,{disabled:!0,"data-testid":"mobilePickupMap__SubmitButton"},c.i18n._("Delivery only").toLocaleLowerCase()))))}};t.default=f},876:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getPlatformType=m,t.MobileSmartBanner=void 0,a(877);var r=a(94),n=c(a(0)),l=c(a(60)),o=c(a(879)),i=a(48),d=a(97),u=a(881);function c(e){return e&&e.__esModule?e:{default:e}}const s=l.default.div.withConfig({displayName:"SmartBannerContainer"})`
  border-bottom: 1px solid #8f8f8f;
  height: 81px;
  position: absolute;
  z-index: 1;
  top: 3rem;
  width: 100%;
`;function m(){const e=new o.default(window.navigator.userAgent).getOS();return"iOS"===e.name?d.MobilePlatformEnum.Ios:"Android"===e.name?d.MobilePlatformEnum.Android:null}t.MobileSmartBanner=(e=>n.default.createElement(i.WithRoot,{observe:!0,render:({business:e})=>{const t=m();if(!e.isValid||null===t)return null;const a=e.ensureBannerForCurrentBranch();return a.shouldBeVisible?n.default.createElement(u.QueryBanner,{variables:{branchId:a.branchId,platform:t},render:({app:e})=>e?n.default.createElement(s,null,n.default.createElement("div",{className:"smartbanner smartbanner-ios smartbanner-top"},n.default.createElement("div",{className:"smartbanner-container"},n.default.createElement("a",{className:"smartbanner-close",onClick:a.setClosedNow},"\xd7"),n.default.createElement("span",{className:"smartbanner-icon",style:{backgroundImage:`url(${e.icon})`}}),n.default.createElement("div",{className:"smartbanner-info"},n.default.createElement("div",{className:"smartbanner-title"},e.title),n.default.createElement("div",{className:"smartbanner-description"},n.default.createElement(r.Trans,{id:"Free"}))),n.default.createElement("div",{className:"smartbanner-wrapper"},n.default.createElement("a",{href:e.url,onClick:a.setInstalledNow,className:"smartbanner-button"},n.default.createElement("span",{className:"smartbanner-button-text"},n.default.createElement(r.Trans,{id:"Show app"}))))))):null}):null}}))},877:function(e,t,a){},881:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QueryBanner=void 0;var r,n=(r=a(18))&&r.__esModule?r:{default:r},l=a(99);const o=n.default`
  query GSmartBanner($branchId: ID!, $platform: MobilePlatformEnum!) {
    app: mobileApplicationSettings(
      companyBranch: $branchId
      platform: $platform
    ) {
      title
      url
      icon
    }
  }
`,i=(0,l.buildQuery)(o);t.QueryBanner=i}}]);
//# sourceMappingURL=4.f0ad9a54.chunk.js.map