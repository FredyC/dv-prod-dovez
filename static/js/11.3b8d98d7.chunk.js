(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{1261:function(e,t,a){e.exports=a.p+"static/media/share-icon.9dc3f608.svg"},1262:function(e,t,a){},1263:function(e,t,a){},1264:function(e,t,a){},1265:function(e,t,a){},1266:function(e,t,a){},1267:function(e,t,a){},1268:function(e,t,a){},1269:function(e,t,a){},1270:function(e,t,a){},1271:function(e,t,a){},1272:function(e,t,a){},1274:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(58),i=a(47),o=a(55),l=a(69),m=a(35),u=a(1058),s=a.n(u),d=a(1261),b=a.n(d),p=a(54),_=m.c.div.withConfig({displayName:"AppleBanner__StyledAppleBanner",componentId:"sc-9d63vh-0"})(["width:100%;height:5rem;background:#f4f4f4;padding:1rem;position:absolute;bottom:0rem;z-index:50;opacity:0.9;a{display:inline-block;vertical-align:middle;margin:0 5px 0 0;font-family:ArialRoundedMTBold,Arial;font-size:20px;text-align:center;}"]),f=function(){return r.a.createElement("img",{width:"26",height:"26",src:b.a,alt:"Share"})},h=function(){var e=Object(p.b)().user;return Object(l.useObserver)(function(){return!e.showAppleBanner||"iOS"!==new s.a(window.navigator.userAgent).getOS().name||"standalone"in window.navigator&&window.navigator.standalone?null:r.a.createElement(_,{onClick:e.hideAppleBanner},r.a.createElement("a",null,"\xd7"),r.a.createElement(o.Trans,{id:"Install this webapp on your device: Tap <0/> and then Add to homescreen.",components:[r.a.createElement(f,null)]}))})};a(1262);var E=a(969),v=a(970),y=a(977),g=a(971),k=a(978),C=function(e){function t(){return Object(E.a)(this,t),Object(y.a)(this,Object(g.a)(t).apply(this,arguments))}return Object(k.a)(t,e),Object(v.a)(t,[{key:"componentDidMount",value:function(){window.scrollTo(0,0)}},{key:"render",value:function(){return null}}]),t}(n.PureComponent),N=a(32),w=a(1066),O=a(1039),j=a(1048),S=a(1062),I=a(1051),B=a(1038),M=a(1057),x=a(1065),T=(a(1263),a(81)),P=function(e){var t=e.text,a=e.buttonText,n=e.buttonRight,c=void 0!==n&&n,i=e.onButtonClick,o=!1===c?r.a.createElement(T.a,{className:"mobile__header__button","data-testid":"MobileHeaderButton__Left",onClick:i},a):null,l=!0===c?r.a.createElement(T.a,{className:"mobile__header__button","data-testid":"MobileHeaderButton__Right",onClick:i,isConfirm:!0},a):null;return r.a.createElement("div",{className:"mobile__header"},o,r.a.createElement("div",{className:"mobile__header__text"},t),l)},L=(a(1264),a(25)),R=a(1052),A=a(1054),F=function(){return r.a.createElement("div",{className:"mobile__confirm__payment__method"},r.a.createElement(A.a,{method:L.l.Gopay,"data-testid":"mobilePaymentMethodGoPay"},r.a.createElement("span",{className:"flaticon-credit-card"},N.b._("Pay by card").toLocaleUpperCase())),r.a.createElement(A.a,{method:L.l.Cash,"data-testid":"mobilePaymentMethodCash"},r.a.createElement("span",{className:"flaticon-money"},N.b._("Pay by cash").toLocaleUpperCase())),r.a.createElement(R.a,null))},D=a(49),z=a(1056),U=Object(m.c)(T.b).withConfig({displayName:"MobileSubmitButton__MobileSubmitButtonStyled",componentId:"sc-4nkp8u-0"})(["margin:0.2rem;padding:1rem 4rem;text-transform:uppercase;"]),V=function(e){var t=e.disabled,a=e.children,n=e.onClick,c=Object(D.a)(e,["disabled","children","onClick"]),i=Object(p.b)().order;return Object(l.useObserver)(function(){return r.a.createElement(U,Object.assign({disabled:t||i.isSubmitting||!i.isVamInitialized,onClick:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){n()})},c),i.isSubmitting?r.a.createElement(z.a,null):a)})},$=function(e){var t=e.history;return r.a.createElement("div",{className:"mobile__confirm__view"},r.a.createElement(P,{text:N.b._("Order confirmation"),buttonText:N.b._("Cancel"),onButtonClick:function(){return t.goBack()}}),r.a.createElement(I.a,{render:function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(C,null),r.a.createElement(B.a,null),r.a.createElement(M.a,null),r.a.createElement(O.a,null),r.a.createElement(x.a,null),r.a.createElement(j.a,{onFill:function(t){return e.setAllValues(t)}}),r.a.createElement("div",{className:"mobile__confirm__view__form"},r.a.createElement("h3",null,r.a.createElement(o.Trans,{id:"Where and to whom we deliver?"})),r.a.createElement(S.a,null),r.a.createElement(w.a,null)),r.a.createElement("div",{className:"mobile__confirm__view__submit"},r.a.createElement("h4",null,r.a.createElement(o.Trans,{id:"Place order"})),r.a.createElement(F,null),r.a.createElement(V,{onClick:e.submitForm},r.a.createElement(o.Trans,{id:"Place order"}))))}}))},G=(a(1265),a(215)),q=a(958),H=a(1063),J=function(){var e=Object(p.b)().map,t=Object(G.useRouterContext)().history;return r.a.createElement("div",null,r.a.createElement(P,{text:N.b._("Enter the address"),buttonText:N.b._("Back"),onButtonClick:function(){return t.goBack()}}),r.a.createElement("div",{className:"mobile__map__view"},r.a.createElement(q.a,{model:e},r.a.createElement(H.a,{onConfirm:function(){return t.push("/order")}}))))},W=a(979),K=(a(980),a(932)),Q=a(984),X=a(985),Y=a(986),Z=a(987),ee=function(e){return Object(W.a)(e),r.a.createElement(i.p,{className:"justify-content-md-center"},r.a.createElement(K.a,null,r.a.createElement("div",{className:"finish__view__mobile"},r.a.createElement(X.a,{render:function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Y.a,{order:e.order}),r.a.createElement(Z.a,{branch:e.companyBranch}),r.a.createElement(Q.a,{finish:e}))}}))))},te=(a(1266),a(957)),ae=a(988),ne=a(982),re=a(12),ce=a(13),ie=a.n(ce),oe=a(146);function le(){var e=Object(re.a)(["\n  query GMobileShopIntro($brandId: ID, $branchId: ID) {\n    intro: applicationSettings(brand: $brandId, companyBranch: $branchId) {\n      headerText\n      homepageUrl\n    }\n  }\n"]);return le=function(){return e},e}var me=ie()(le()),ue=Object(oe.a)(me),se=function(){var e=Object(p.b)().business;return Object(l.useObserver)(function(){return r.a.createElement(ue,{variables:e.brandOrBranch,skip:!e.isValid,renderLoading:function(){return null},render:function(e){var t=e.intro.headerText;return r.a.createElement("div",{"data-testid":"MobileShopIntro"},t)}})})},de=function(){return r.a.createElement("div",{className:"mobile__intro"},r.a.createElement(te.b,{className:"mobile__intro__logo","data-testid":"MobileIntroView__BackgroundThemed",imageName:"storeLogoMobile",size:"cover",fixed:!1},r.a.createElement(ne.a,null)),r.a.createElement("div",{className:"mobile__intro__info"},r.a.createElement(se,null),r.a.createElement(c.Route,null,function(e){var t=e.history;return r.a.createElement(ae.a,{onChange:function(e){e.usingDeliveryOrderMethod?t.push("/delivery"):e.usingPickupOrderMethod&&t.push("/pickup")}})})))},be=(a(1267),a(1030)),pe=a(1061),_e=a(59),fe=(a(1268),a(1269),a(10)),he=a.n(fe),Ee=a(1060),ve=a(1032),ye=a(1055),ge=(a(1270),a(24)),ke=m.c.div.withConfig({displayName:"MobileCartSummary__MobileCartSummaryCountThemed",componentId:"ytjrzk-0"})(["background-color:",";"],function(e){return e.theme.secondary}),Ce=m.c.span.withConfig({displayName:"MobileCartSummary__MobileCartSummaryPriceThemed",componentId:"ytjrzk-1"})(["color:",";"],function(e){return e.theme.primary}),Ne=function(e){var t=e.count,a=e.price,n=e.isLoading,c=e.onClick;Object(ge.b)(t,n);var i=t>0||!0===n;return r.a.createElement("div",{className:"mobile__cart__summary","data-testid":"mobileCartSummary",onClick:c},i?r.a.createElement("div",{className:"mobile__cart__summary__toggle"},r.a.createElement("span",{className:"flaticon-chevron-up"})):null,r.a.createElement("div",{className:"mobile__cart__summary__info"},r.a.createElement("span",{className:"flaticon-cart"}),i?r.a.createElement(ke,{className:"mobile__cart__summary__count","data-testid":"mobileCartSummary__Count"},t||"?"):null,i?r.a.createElement("div",{className:"mobile__cart__summary__cart__with__price","data-testid":"mobileCartSummary__Price"},r.a.createElement(o.Trans,{id:"In the cart you have goods for<0>{price}</0>",values:{price:a},components:[r.a.createElement(Ce,{className:"mobile__cart__summary__price"})]})):r.a.createElement("span",{"data-testid":"cartIsEmpty"},N.b._("Cart is empty"))))},we=function(e){var t=e.orderId,a=Object(G.useRouterContext)().history,c=Object(L.w)({orderId:t}),i=c.data,o=c.loading,l=c.refetch;Object(ve.a)(l);var m=Object(n.useState)(!1),u=Object(_e.a)(m,2),s=u[0],d=u[1],b=0,p="???",_=!0;if(i&&i.order){var f=i.order,h=f.countWares,E=f.totalSum;b=h,_=0===h,p=E.formattedValue}Object(n.useEffect)(function(){0===b&&!0===s&&d(!1)},[b,s]);return r.a.createElement("div",{className:he()("mobile__sliding__cart",{mobile__sliding__cart__open:s})},r.a.createElement("div",{className:"mobile__cart__view"},r.a.createElement(Ne,{count:b,price:p,isLoading:o||!(i&&i.order),onClick:function(){d(function(e){return!(e||0===b)})}}),s?r.a.createElement(r.a.Fragment,null,r.a.createElement(Ee.a,{orderId:t}),r.a.createElement(ye.a,{canSubmit:!_,onClick:function(){return a.push("/confirm")}})):null))},Oe=a(981),je=a(972);function Se(){var e=Object(re.a)(["\n  query GMobileShopStatus($branchId: ID!) {\n    branch: companyBranch(id: $branchId) {\n      id\n      ...FCompanyBranchStatus\n    }\n  }\n  ","\n"]);return Se=function(){return e},e}var Ie=ie()(Se(),L.c),Be=Object(je.a)(Ie),Me=function(e){var t=e.branchId;return r.a.createElement(Be,{variables:{branchId:t},render:function(e){var t=e.branch;return t&&r.a.createElement(Oe.a,{status:t})}})},xe=function(){var e=Object(p.b)().order;return e.hasOrder?Object(l.useObserver)(function(){return r.a.createElement("div",{className:"mobile__order__view"},r.a.createElement(pe.a,null),r.a.createElement(we,{orderId:e.orderId}),r.a.createElement(be.a,null),r.a.createElement(Me,{branchId:e.branchId}))}):r.a.createElement(c.Redirect,{to:"/"})},Te=a(18),Pe=a.n(Te),Le=a(27),Re=a(145),Ae=a(201),Fe=(a(1271),a(956)),De=a(983),ze=m.c.div.withConfig({displayName:"MobilePickupList__StatusDisplayPosition",componentId:"sc-2yxmv2-0"})([""]),Ue=function(e){var t=e.branches,a=e.onSelect,n=e.onShowMap,c=e.onPrefetch;return r.a.createElement("div",{className:"mobile__pickup__list"},t&&t.map(function(e){return r.a.createElement("div",{className:"mobile__pickup__list__item","data-testid":"MobilePickupList",key:e.id},r.a.createElement("div",{className:"mobile__pickup__list__header"},e.name),r.a.createElement(Fe.a,{address:e.address}),r.a.createElement(ze,null,r.a.createElement(De.a,{status:e,deliveryTime:e.defaultDeliveryTime,pickupTime:e.defaultPickupTime})),r.a.createElement("div",{className:"mobile__pickup__list__buttons"},r.a.createElement(T.d,{onClick:function(){return n(e)}},r.a.createElement("span",{className:"flaticon-signs"},N.b._("Show on map").toLocaleUpperCase())),e.pickupEnabled?r.a.createElement(T.b,{onClick:function(){return a(e)},onMouseEnter:function(){return c(e.id)}},r.a.createElement("span",{className:"flaticon-mark"},N.b._("Choose").toLocaleUpperCase())):r.a.createElement(T.b,{disabled:!0},r.a.createElement("span",{className:"flaticon-mark"},N.b._("Delivery only").toLocaleLowerCase()))))}))},Ve=a(939),$e=a(1028),Ge=a(96),qe=m.c.div.withConfig({displayName:"MobilePickupMap__ButtonStripeContainerStyled",componentId:"i1yiwv-0"})(["margin-top:2rem;z-index:10;"]),He=function(e){function t(){return Object(E.a)(this,t),Object(y.a)(this,Object(g.a)(t).apply(this,arguments))}return Object(k.a)(t,e),Object(v.a)(t,[{key:"componentDidMount",value:function(){this.panToBranch()}},{key:"componentDidUpdate",value:function(){this.panToBranch()}},{key:"panToBranch",value:function(){var e=this.props,t=e.model,a=e.branch;a&&t.panToLocation(a.gps)}},{key:"render",value:function(){var e=this.props,t=e.model,a=e.branch,n=e.onSelect,c=a?Object(Ge.a)({latitude:Number(a.gps.latitude),longitude:Number(a.gps.longitude)}):void 0;return r.a.createElement("div",null,r.a.createElement("div",{className:"mobile__map__view"},r.a.createElement(q.a,{model:t},r.a.createElement(Ve.Marker,{position:c}))),a&&a.pickupEnabled&&r.a.createElement(qe,null,r.a.createElement($e.a,null,r.a.createElement(T.b,{onClick:n,"data-testid":"mobilePickupMap__SubmitButton"},N.b._("Choose branch").toLocaleUpperCase()))),a&&!a.pickupEnabled&&r.a.createElement(qe,null,r.a.createElement($e.a,null,r.a.createElement(T.b,{disabled:!0,"data-testid":"mobilePickupMap__SubmitButton"},N.b._("Delivery only").toLocaleLowerCase()))))}}]),t}(n.PureComponent),Je=function(e){var t=e.history,a=e.match,n=Object(p.b)(),c=n.order,i=n.map,o=n.business,l=function(){var e=Object(Le.a)(Pe.a.mark(function e(a){return Pe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.createPickupOrder(a);case 2:t.push("/order");case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),m=function(e){return r.a.createElement(P,{text:e?e.name:N.b._("Choose branch"),buttonText:N.b._("Back"),onButtonClick:function(){return t.goBack()}})},u=function(e){return r.a.createElement(He,{model:i,branch:e,onSelect:function(){return e&&l(e.id)}})},s=a.params.branchId;return o.isBrand?r.a.createElement(Ae.d,{variables:{brandId:o.brandId},renderLoading:!s,render:function(e){var a=e.branches,n=a&&a.find(Re.a.propEq("id",s))||null;return r.a.createElement(r.a.Fragment,null,m(n),n?u(n):function(e){return r.a.createElement(Ue,{branches:e,onShowMap:function(e){var a=e.id;return t.push("/pickup/".concat(a))},onSelect:function(e){var t=e.id;return l(t)},onPrefetch:function(e){return c.prefetchFoodMenu(e)}})}(a))}}):r.a.createElement(Ae.c,{variables:{branchId:o.branchId},renderLoading:!1,render:function(e,t){var a=e.branch;t.loading;return r.a.createElement(r.a.Fragment,null,m(a),u(a))}})},We=(a(1272),m.c.div.withConfig({displayName:"MobileSmartBanner__SmartBannerContainer",componentId:"sf9ud3-0"})(["border-bottom:1px solid #8f8f8f;height:81px;position:absolute;z-index:1;top:3rem;width:100%;"])),Ke=Object(l.observer)(function(){var e=Object(p.b)().business,t=function(){var e=new s.a(window.navigator.userAgent).getOS();if("iOS"===e.name)return L.j.Ios;if("Android"===e.name)return L.j.Android;return null}(),a=null;if(e.isValid&&null!==t){var n=e.ensureBannerForCurrentBranch();n.shouldBeVisible&&(a=n)}var c=Object(L.C)({branchId:e.branchId,platform:t},{skip:null===a}),i=c.data,l=c.loading;if(null===a||l||!i.app)return null;var m=i.app;return r.a.createElement(We,null,r.a.createElement("div",{className:"smartbanner smartbanner-ios smartbanner-top"},r.a.createElement("div",{className:"smartbanner-container"},r.a.createElement("a",{className:"smartbanner-close",onClick:a.setClosedNow},"\xd7"),r.a.createElement("span",{className:"smartbanner-icon",style:{backgroundImage:"url(".concat(m.icon,")")}}),r.a.createElement("div",{className:"smartbanner-info"},r.a.createElement("div",{className:"smartbanner-title"},m.title),r.a.createElement("div",{className:"smartbanner-description"},r.a.createElement(o.Trans,{id:"Free"}))),r.a.createElement("div",{className:"smartbanner-wrapper"},r.a.createElement("a",{href:m.url,onClick:a.setInstalledNow,className:"smartbanner-button"},r.a.createElement("span",{className:"smartbanner-button-text"},r.a.createElement(o.Trans,{id:"Show app"})))))))});t.default=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(i.e,{fluid:!0},r.a.createElement(c.Route,{exact:!0,path:"/",component:de}),r.a.createElement(c.Route,{path:"/pickup/:branchId?",component:Je}),r.a.createElement(c.Route,{path:"/delivery",component:J}),r.a.createElement(c.Route,{path:"/order",component:xe}),r.a.createElement(c.Route,{path:"/confirm",component:$}),r.a.createElement(c.Route,{path:"/finish",component:ee})),r.a.createElement(c.Route,{path:["/","/finish"],exact:!0,component:Ke}),r.a.createElement(h,null))}}}]);
//# sourceMappingURL=11.3b8d98d7.chunk.js.map