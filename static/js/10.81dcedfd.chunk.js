(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{738:function(e,a,t){},740:function(e,a,t){},742:function(e,a,t){},744:function(e,a,t){},746:function(e,a,t){},748:function(e,a,t){},750:function(e,a,t){},752:function(e,a,t){},754:function(e,a,t){},756:function(e,a,t){},758:function(e,a,t){},768:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(6),o=t(394),c=(t(738),t(70)),i=t(31);class s extends n.PureComponent{componentDidMount(){window.scrollTo(0,0)}render(){return null}}var m=t(401),d=t(523),u=t(522),b=t(524),p=t(505),h=(t(740),t(399));var _=({text:e,buttonText:a,buttonRight:t=!1,onButtonClick:n})=>{const l=!1===t?r.a.createElement(h.a,{className:"mobile__header__button","data-testid":"MobileHeaderButton__Left",onClick:n},a):null,o=!0===t?r.a.createElement(h.a,{className:"mobile__header__button","data-testid":"MobileHeaderButton__Right",onClick:n,isConfirm:!0},a):null;return r.a.createElement("div",{className:"mobile__header"},l,r.a.createElement("div",{className:"mobile__header__text"},e),o)},E=(t(742),t(33)),v=t(406),f=t(516);function y(){return(y=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}).apply(this,arguments)}var g=function(e,a){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&a.indexOf(n)<0&&(t[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)a.indexOf(n[r])<0&&(t[n[r]]=e[n[r]])}return t};const C=e=>{var{method:a,disabled:t,onClick:n,children:l}=e,o=g(e,["method","disabled","onClick","children"]);return r.a.createElement(m.a,{observe:!0,render:e=>r.a.createElement(v.Field,{field:"payment",render:c=>r.a.createElement(h.e,y({selected:c.value===a,disabled:t||e.isSubmitting,onClick:()=>{c.setValue(a),n()}},o),e.isSubmitting&&c.value===a?r.a.createElement(f.a,null):l)})})},N=({orderModel:e,onConfirm:a})=>r.a.createElement("div",{className:"mobile__confirm__payment__method"},r.a.createElement(C,{method:E.d.GOPAY,onClick:a,"data-testid":"mobilePaymentMethodGoPay"},r.a.createElement("span",{className:"flaticon-credit-card"},i.b._("Pay by card").toLocaleUpperCase())),r.a.createElement(C,{method:E.d.CASH,onClick:a,"data-testid":"mobilePaymentMethodCash"},r.a.createElement("span",{className:"flaticon-money"},i.b._("Pay by cash").toLocaleUpperCase()))),k=({history:e})=>r.a.createElement("div",{className:"mobile__confirm__view"},r.a.createElement(_,{text:i.b._("Order confirmation"),buttonText:i.b._("Cancel"),onButtonClick:()=>e.goBack()}),r.a.createElement(m.a,{render:e=>r.a.createElement(b.a,{order:e,render:a=>r.a.createElement(r.a.Fragment,null,r.a.createElement(s,null),r.a.createElement(p.a,null),r.a.createElement("div",{className:"mobile__confirm__view__form"},r.a.createElement("h3",null,r.a.createElement(c.Trans,{id:"Where and to whom we deliver?"})),r.a.createElement(u.a,null),r.a.createElement(d.a,null)),r.a.createElement("div",{className:"mobile__confirm__view__submit"},r.a.createElement("h4",null,r.a.createElement(c.Trans,{id:"Place order"})),r.a.createElement(N,{orderModel:e,onConfirm:a.submitForm})))})}));t(744);var S=t(430),w=t(32),I=t(520);const O=()=>r.a.createElement("i",null,i.b._("Finding location...")),B=({history:e})=>r.a.createElement("div",null,r.a.createElement(_,{text:i.b._("Enter the address"),buttonText:i.b._("Back"),onButtonClick:()=>e.goBack()}),r.a.createElement("div",{className:"mobile__map__view"},r.a.createElement(w.b,{render:a=>a.location.hasLocation?r.a.createElement(S.a,{model:a.map,render:()=>r.a.createElement(I.a,{onConfirm:()=>e.push("/order"),rootModel:a})}):r.a.createElement(O,null)})));t(746);var M=t(444),L=t(453),P=t(497);const x=({render:e,observe:a})=>r.a.createElement(w.b,{observe:a,render:({business:a})=>a.isValid?e(a):null});var T=t(126),$=t.n(T),j=t(38);const D=$.a`
  query GMobileShopIntro($branchId: ID!) {
    companyBranch(id: $branchId) {
      id
      headerText
    }
  }
`,F=Object(j.a)(D),A=e=>r.a.createElement(x,{observe:!0,render:e=>r.a.createElement(F,{variables:{branchId:e.branchId},renderLoading:()=>null,render:({companyBranch:{headerText:e}})=>r.a.createElement("div",{"data-testid":"MobileShopIntro"},e)})}),G=()=>r.a.createElement("div",{className:"mobile__intro"},r.a.createElement(M.b,{className:"mobile__intro__logo","data-testid":"MobileIntroView__BackgroundThemed",imageName:"storeLogoMobile",size:"cover",fixed:!1},r.a.createElement(P.a,null)),r.a.createElement("div",{className:"mobile__intro__info"},r.a.createElement(A,null),r.a.createElement(l.b,null,({history:e})=>r.a.createElement(L.a,{onChange:a=>{a.usingDeliveryOrderMethod?e.push("/delivery"):a.usingPickupOrderMethod&&e.push("/pickup")}}))));t(748);var H=t(504),U=t(519),V=(t(750),t(752),t(201)),q=t.n(V),z=t(518),R=t(515),J=t(84),Q=(t(754),t(39));const W=Object(Q.b)("div").withConfig({displayName:"MobileCartSummaryCountThemed"})`
  background-color: ${({theme:e})=>e.secondary};
`,Y=Object(Q.b)("span").withConfig({displayName:"MobileCartSummaryPriceThemed"})`
  color: ${({theme:e})=>e.primary};
`,K=({count:e,price:a,isLoading:t,onClick:n})=>{const l=e>0||!0===t;return r.a.createElement("div",{className:"mobile__cart__summary","data-testid":"mobileCartSummary",onClick:n},l?r.a.createElement("div",{className:"mobile__cart__summary__toggle"},r.a.createElement("span",{className:"flaticon-chevron-up"})):null,r.a.createElement("div",{className:"mobile__cart__summary__info"},r.a.createElement("span",{className:"flaticon-cart"}),l?r.a.createElement(W,{className:"mobile__cart__summary__count","data-testid":"mobileCartSummary__Count"},e||"?"):null,l?r.a.createElement("div",{className:"mobile__cart__summary__cart__with__price","data-testid":"mobileCartSummary__Price"},r.a.createElement(c.Trans,{id:"In the cart you have goods for<0>{price}</0>",values:{price:a},components:[r.a.createElement(Y,{className:"mobile__cart__summary__price"})]})):r.a.createElement("span",{"data-testid":"cartIsEmpty"},i.b._("Cart is empty"))))};class X extends n.Component{constructor(){super(...arguments),this.state={isOpen:!1,goConfirm:!1},this.setOpen=(e=>{this.setState({isOpen:e})}),this.onToggle=(()=>{this.isEmpty?this.setOpen(!1):this.setState(e=>({isOpen:!e.isOpen}))}),this.onSubmit=(()=>{this.setState({goConfirm:!0})})}static getDerivedStateFromProps({count:e},{isOpen:a}){return 0===e&&!0===a?{isOpen:!1}:null}get isEmpty(){return 0===this.props.count}render(){const{count:e,price:a,isLoading:t}=this.props,{isOpen:n,goConfirm:o}=this.state;return o?r.a.createElement(l.a,{to:"/confirm",push:!0}):r.a.createElement("div",{className:q()("mobile__sliding__cart",{mobile__sliding__cart__open:n})},r.a.createElement("div",{className:"mobile__cart__view"},r.a.createElement(K,{count:e,price:a,isLoading:t,onClick:this.onToggle}),n?r.a.createElement(r.a.Fragment,null,r.a.createElement(z.a,null),r.a.createElement(R.a,{canSubmit:!this.isEmpty,onClick:this.onSubmit})):null))}}const Z=({orderId:e})=>r.a.createElement(J.b,{variables:{orderId:e},renderLoading:!1,render:({order:e},{loading:a})=>r.a.createElement(X,{count:e?e.countWares:0,price:e?e.totalSum.formattedValue:"???",isLoading:a||!e})});var ee=t(495),ae=t(3),te=t(12);const ne=ae.b`
  query GMobileShopStatus($branchId: ID!) {
    branch: companyBranch(id: $branchId) {
      id
      ...GCompanyBranchStatus
    }
  }
  ${te.c}
`,re=Object(ae.a)(ne),le=({branchId:e})=>r.a.createElement(re,{variables:{branchId:e},render:({branch:e})=>r.a.createElement(ee.a,{status:e})}),oe=e=>r.a.createElement(m.a,{redirect:!0,render:e=>r.a.createElement("div",{className:"mobile__order__view"},r.a.createElement(U.a,null),r.a.createElement(Z,{orderId:e.orderId}),r.a.createElement(H.a,{order:e}),r.a.createElement(le,{branchId:e.branchId}))});var ce=t(46),ie=t(111),se=(t(756),t(60)),me=t(441),de=t(498);const ue=se.c.div.withConfig({displayName:"StatusDisplayPosition"})``;var be=({branches:e,onSelect:a,onShowMap:t,onPrefetch:n})=>{return r.a.createElement("div",{className:"mobile__pickup__list"},e.map(e=>r.a.createElement("div",{className:"mobile__pickup__list__item","data-testid":"MobilePickupList",key:e.id},r.a.createElement("div",{className:"mobile__pickup__list__header"},e.name),r.a.createElement(me.a,{address:e.address}),r.a.createElement(ue,null,r.a.createElement(de.a,{status:e})),r.a.createElement("div",{className:"mobile__pickup__list__buttons"},r.a.createElement(h.d,{onClick:()=>t(e)},r.a.createElement("span",{className:"flaticon-signs"},i.b._("Show on map").toLocaleUpperCase())),e.pickupEnabled?r.a.createElement(h.b,{onClick:()=>a(e),onMouseEnter:()=>n(e.id)},r.a.createElement("span",{className:"flaticon-mark"},i.b._("Choose").toLocaleUpperCase())):r.a.createElement(h.b,{disabled:!0},r.a.createElement("span",{className:"flaticon-mark"},i.b._("Delivery only").toLocaleLowerCase()))))))},pe=t(412),he=t(494),_e=t(57);const Ee=se.c.div.withConfig({displayName:"ButtonStripeContainerStyled"})`
  margin-top: 2rem;
  z-index: 10;
`;var ve=class extends n.PureComponent{componentDidMount(){this.panToBranch()}componentDidUpdate(){this.panToBranch()}panToBranch(){const{model:e,branch:a}=this.props;a&&e.panToLocation(a.gps)}render(){const{model:e,branch:a,onSelect:t}=this.props,n=a?Object(_e.a)({latitude:Number(a.gps.latitude),longitude:Number(a.gps.longitude)}):void 0;return r.a.createElement("div",null,r.a.createElement("div",{className:"mobile__map__view"},r.a.createElement(S.a,{model:e,render:()=>r.a.createElement(pe.Marker,{position:n})})),a&&a.pickupEnabled&&r.a.createElement(Ee,null,r.a.createElement(he.a,null,r.a.createElement(h.b,{onClick:t,"data-testid":"mobilePickupMap__SubmitButton"},i.b._("Choose branch").toLocaleUpperCase()))),a&&!a.pickupEnabled&&r.a.createElement(Ee,null,r.a.createElement(he.a,null,r.a.createElement(h.b,{disabled:!0,"data-testid":"mobilePickupMap__SubmitButton"},i.b._("Delivery only").toLocaleLowerCase()))))}};class fe extends n.Component{constructor(){super(...arguments),this.renderQuery=(e=>{const{branchId:a}=this.props.match.params;return e.business.isBrand?r.a.createElement(ie.d,{variables:{brandId:e.business.brandId},renderLoading:!a,render:({branches:t})=>{const n=t&&t.find(ce.a.propEq("id",a))||null;return r.a.createElement(r.a.Fragment,null,this.renderHeader(n),n?this.renderMap(n,e):this.renderList(t,e))}}):r.a.createElement(ie.c,{variables:{branchId:e.business.branchId},renderLoading:!1,render:({branch:a},{loading:t})=>r.a.createElement(r.a.Fragment,null,this.renderHeader(a),this.renderMap(a,e))})})}onSelectBranch(e,a){a.order.createPickupOrder(e,()=>this.props.history.push("/order"))}renderHeader(e){return r.a.createElement(_,{text:e?e.name:i.b._("Choose branch"),buttonText:i.b._("Back"),onButtonClick:()=>this.props.history.goBack()})}renderMap(e,a){return r.a.createElement(ve,{model:a.map,branch:e,onSelect:()=>e&&this.onSelectBranch(e.id,a)})}renderList(e,a){return r.a.createElement(be,{branches:e,onShowMap:({id:e})=>this.props.history.push(`/pickup/${e}`),onSelect:({id:e})=>this.onSelectBranch(e,a),onPrefetch:e=>a.order.prefetchFoodMenu(e)})}render(){return r.a.createElement(w.b,{render:this.renderQuery})}}t(758);var ye=t(760),ge=t.n(ye);const Ce=ae.b`
  query GSmartBanner($branchId: ID!, $platform: MobilePlatformEnum!) {
    app: mobileApplicationSettings(
      companyBranch: $branchId
      platform: $platform
    ) {
      title
      url
      icon
    }
  }
`,Ne=Object(ae.a)(Ce),ke=Object(se.c)("div").withConfig({displayName:"SmartBannerContainer"})`
  border-bottom: 1px solid #8f8f8f;
  height: 81px;
  position: absolute;
  z-index: 1;
  top: 0;
  width: 100%;
`,Se=e=>r.a.createElement(w.b,{observe:!0,render:({business:e})=>{const a=function(){const e=new ge.a(window.navigator.userAgent).getOS();if("iOS"===e.name)return E.b.IOS;if("Android"===e.name)return E.b.ANDROID;return null}();if(!e.isValid||null===a)return null;if(a===E.b.IOS)return null;const t=e.ensureBannerForCurrentBranch();if(!t.shouldBeVisible)return null;const n=`smartbanner smartbanner-${a.toLowerCase()} smartbanner-top`;return r.a.createElement(Ne,{variables:{branchId:t.branchId,platform:a},render:({app:e})=>e?r.a.createElement(ke,null,r.a.createElement("div",{className:n},r.a.createElement("div",{className:"smartbanner-container"},r.a.createElement("a",{className:"smartbanner-close",onClick:t.setClosedNow},"\xd7"),r.a.createElement("span",{className:"smartbanner-icon",style:{backgroundImage:`url(${e.icon})`}}),r.a.createElement("div",{className:"smartbanner-info"},r.a.createElement("div",{className:"smartbanner-title"},e.title),r.a.createElement("div",{className:"smartbanner-description"},r.a.createElement(c.Trans,{id:"Free"}))),r.a.createElement("div",{className:"smartbanner-wrapper"},r.a.createElement("a",{href:e.url,onClick:t.setInstalledNow,className:"smartbanner-button"},r.a.createElement("span",{className:"smartbanner-button-text"},r.a.createElement(c.Trans,{id:"Show app"}))))))):null})}});t(449);var we=t(404),Ie=t(450),Oe=t(525),Be=t(451),Me=t(452);const Le=({})=>r.a.createElement(o.p,{className:"justify-content-md-center"},r.a.createElement(we.a,null,r.a.createElement("div",{className:"finish__view__mobile"},r.a.createElement(Oe.a,{render:e=>r.a.createElement(r.a.Fragment,null,r.a.createElement(Be.a,{order:e.order}),r.a.createElement(Me.a,{branch:e.companyBranch}),r.a.createElement(Ie.a,{finish:e}))}))));a.default=(()=>r.a.createElement(r.a.Fragment,null,r.a.createElement(l.b,{path:"/",component:Se}),r.a.createElement(o.e,{fluid:!0},r.a.createElement(l.b,{exact:!0,path:"/",component:G}),r.a.createElement(l.b,{path:"/pickup/:branchId?",component:fe}),r.a.createElement(l.b,{path:"/delivery",component:B}),r.a.createElement(l.b,{path:"/order",component:oe}),r.a.createElement(l.b,{path:"/confirm",component:k}),r.a.createElement(l.b,{path:"/finish",component:Le}))))}}]);
//# sourceMappingURL=10.81dcedfd.chunk.js.map