{"version":3,"sources":["segments/finish/FinishViewSupport.tsx","segments/destination/OrderMethod.tsx","common/ButtonStripe.tsx","segments/map/atoms/MapPanning.tsx","segments/cart/AddToCartModal.tsx","common/PickerButton.tsx","segments/cart/useCartRefresh.ts","segments/orderForm/OrderFormStorageNotice.tsx","segments/orderForm/OrderErrorModal.tsx","segments/orderForm/OrderFormAutoFill.tsx","segments/orderForm/OrderNoteInput.tsx","segments/orderForm/OrderFormSetup.tsx","segments/orderForm/OrderFormTipInput.tsx","segments/orderForm/OrderPaymentButton.tsx","segments/orderForm/OrderSubmitLine.tsx","common/SubmitSpinner.tsx","segments/orderForm/OrderGoPayModal.tsx","segments/cart/CartDiscounts.tsx","segments/cart/CartItemButton.tsx","segments/cart/EditCartItemButton.tsx","segments/cart/RemoveCartItemButton.tsx","segments/cart/CartItem.tsx","segments/cart/CartMinimalOrderPrice.tsx","segments/cart/CartTotals.tsx","segments/cart/CartContents.tsx","segments/cart/CartIsEmpty.tsx","segments/cart/ChangeCartModal.tsx","segments/cart/CartView.tsx","segments/foodMenu/CategoryNavigator.tsx","segments/foodMenu/FoodCategory.tsx","segments/foodMenu/LinkToCart.tsx","segments/foodMenu/FoodMenuItem.tsx","segments/foodMenu/FoodMenu.tsx","segments/foodMenu/OrderLimitModal.tsx","segments/foodMenu/FoodMenuView.tsx","segments/destination/GeolocationButton.tsx","segments/destination/ResolvedAddress.tsx","segments/destination/SearchInput.tsx","segments/destination/AddressInput.tsx","segments/map/AddressSubmit.tsx","segments/map/DeliveryMapPanning.tsx","segments/map/DeliveryMap.tsx","common/FormTextInput.tsx","segments/orderForm/OrderEmailInput.tsx","segments/orderForm/OrderNameInput.tsx","segments/orderForm/OrderPhoneInput.tsx","segments/orderForm/OrderPromoInput.tsx","segments/orderForm/OrderTimeButtons.tsx","segments/orderForm/OrderFormInputs.tsx","segments/sidedishPicker/CategoryValidationMessage.tsx","segments/sidedishPicker/SidedishCheckbox.tsx","segments/sidedishPicker/useSidedishValidator.ts","segments/sidedishPicker/SidedishPicker.tsx","segments/cart/CartOrderButton.tsx","segments/cart/CartModal.tsx","segments/timePicker/createTimeSteps.ts","segments/timePicker/TimePickerButton.tsx","segments/timePicker/TimePicker.tsx","segments/orderForm/OrderTimePicker.tsx","common/FormInputCheckbox.tsx","segments/orderForm/OrderAgreements.tsx","segments/shop/logo-commerce-01.svg","segments/shop/logo-commerce-02.svg","segments/shop/logo-doveze.svg","segments/shop/logo-gopay.png","common/ColStyle.tsx","hooks/useShopStatus.ts","common/ShopAddress.tsx","common/BackgroundThemed.tsx","common/BaseMap.tsx","graph/index.ts","segments/shop/ShopClosingTimeModal.tsx","segments/shop/ShopHeaderIcons.tsx","segments/shop/ShopStatusDisplay.tsx","segments/finish/FinishViewFooter.tsx","segments/finish/FinishViewLoader.tsx","segments/finish/FinishViewOrder.tsx"],"names":["PhoneNumberLinkStyled","styled","a","withConfig","displayName","componentId","FinishViewSupport","_ref","branch","react__WEBPACK_IMPORTED_MODULE_1___default","createElement","className","_lingui_react__WEBPACK_IMPORTED_MODULE_0__","id","href","concat","phone","__webpack_require__","d","__webpack_exports__","OrderMethod","mobx_react_lite__WEBPACK_IMPORTED_MODULE_1__","react__WEBPACK_IMPORTED_MODULE_2__","react__WEBPACK_IMPORTED_MODULE_2___default","n","_app_useRoot__WEBPACK_IMPORTED_MODULE_3__","_common_Buttons__WEBPACK_IMPORTED_MODULE_4__","_graph_generated__WEBPACK_IMPORTED_MODULE_5__","_helpers_ramda__WEBPACK_IMPORTED_MODULE_6__","_i18n__WEBPACK_IMPORTED_MODULE_7__","OrderMethodButton","orderModel","orderMethod","onChange","onPrefetch","children","useObserver","selected","onMouseEnter","onClick","useOrderMethod","data-testid","data-testselected","_ref2","order","useRoot","DeliveryTypeEnum","Messenger","RM","identity","_","toLocaleUpperCase","Pickup","prefetchPickup","react__WEBPACK_IMPORTED_MODULE_1__","ButtonStripe","MapPanning","mobx__WEBPACK_IMPORTED_MODULE_0__","map","gps","useDisposable","autorun","isReady","panToLocation","QueryCart","buildQuery","OrderCartForRecipeQuery","AddToCartModal","react_router_dom__WEBPACK_IMPORTED_MODULE_2__","path","render","match","history","variables","recipeId","params","renderLoading","renderError","reactstrap__WEBPACK_IMPORTED_MODULE_3__","color","data","loading","_common_Responsive__WEBPACK_IMPORTED_MODULE_5__","isMobile","_CartModal__WEBPACK_IMPORTED_MODULE_8__","recipe","onConfirm","sideDishes","addFromRecipeMobile","Promise","resolve","addFromRecipe","onClose","goBack","isLoading","PickerButtonStyled","isSelected","canBeSelected","width","props","Object","D_workspace_deepvision_doveze_node_modules_react_scripts_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__","reactstrap__WEBPACK_IMPORTED_MODULE_2__","theme","tertiary","tertiaryText","tertiaryHover","PickerButton","_ref3","onSelect","buttonProps","assign","disabled","useCartRefresh","_app_useRoot__WEBPACK_IMPORTED_MODULE_2__","_helpers_logger__WEBPACK_IMPORTED_MODULE_3__","onRefresh","reaction","shouldRefreshCart","logMain","setCartRefresh","NoticeButton","Button","StorageNotice","Alert","mediaDesktop","_templateObject","mediaMobile","_templateObject2","OrderFormStorageNotice","observer","_useRoot","user","_useQOrderForm","useQOrderForm","orderId","skip","hasOrder","rememberForm","countWares","react__WEBPACK_IMPORTED_MODULE_3___default","_lingui_react__WEBPACK_IMPORTED_MODULE_1__","size","setFormRememberYes","setFormRememberNo","OrderErrorModal","reactstrap__WEBPACK_IMPORTED_MODULE_4__","isOpen","hasErrors","toggle","clearErrors","tag","Container","submitErrors","error","idx","key","OrderFormAutoFill","onFill","OrderNoteInput","react_form__WEBPACK_IMPORTED_MODULE_2__","_i18n__WEBPACK_IMPORTED_MODULE_4__","isTooLong","value","trim","length","OrderNoteInputValidator","ingredientsDescription","field","validate","fieldApi","type","placeholder","title","e","setValue","target","onBlur","setTouched","valid","invalid","Boolean","values","0","MAX_LENGTH","getDefaultFormValues","firstname","lastname","email","phonePrefix","defaultPhonePrefix","note","tips","payment","agreements","OrderFormSetup","useRouterContext","isVamInitialized","initVam","useDebounceCallback","D_workspace_deepvision_doveze_node_modules_react_scripts_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__","D_workspace_deepvision_doveze_node_modules_react_scripts_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default","mark","_callee","formState","formApi","wrap","_context","prev","next","logOrder","updateVam","mergeFormAgreements","stop","this","_x","_x2","apply","arguments","react__WEBPACK_IMPORTED_MODULE_6___default","react_form__WEBPACK_IMPORTED_MODULE_7__","defaultValues","validateOnMount","onSubmit","_callee2","_context2","submitOrder","replace","t0","_x3","reactstrap__WEBPACK_IMPORTED_MODULE_8__","submitForm","formValue","agreement","formAgreement","find","propEq","D_workspace_deepvision_doveze_node_modules_react_scripts_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_0__","isConfirmed","TipContainer","div","OrderFormTipInput","_useMOrderTipUpdate","useMOrderTipUpdate","updateTip","D_workspace_deepvision_doveze_node_modules_react_scripts_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__","useReaction","usingPaymentMethodWithTips","useTips","reactstrap_lib_FormGroup__WEBPACK_IMPORTED_MODULE_5___default","react_form__WEBPACK_IMPORTED_MODULE_4__","reactstrap_lib_Input__WEBPACK_IMPORTED_MODULE_6___default","setTips","Number","parseInt","_i18n__WEBPACK_IMPORTED_MODULE_10__","OrderPaymentButton","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","react_form__WEBPACK_IMPORTED_MODULE_1__","_common_Buttons__WEBPACK_IMPORTED_MODULE_3__","method","setPaymentMethod","Checkmark","show","OrderSubmitLine","_common_SubmitSpinner__WEBPACK_IMPORTED_MODULE_6__","_ref$canSubmit","canSubmit","isSubmitting","react_spinkit__WEBPACK_IMPORTED_MODULE_1__","react_spinkit__WEBPACK_IMPORTED_MODULE_1___default","styled_components__WEBPACK_IMPORTED_MODULE_2__","withTheme","name","primary","fadeIn","TextPadding","OrderGoPayModal","_common_AlertModal__WEBPACK_IMPORTED_MODULE_5__","isGoPayChecking","headerText","_common_Pacman__WEBPACK_IMPORTED_MODULE_6__","noMargin","CartDiscounts","discounts","react_default","code","description","formattedValue","price","_lingui_react","totalDiscount","CartItemButtonStyled","useColor","enabled","css","CartItemButtonIcon","span","CartItemButton","icon","_ref3$enabled","data_testid","onDoubleClick","ev","preventDefault","EditCartItemButton","itemId","objectWithoutProperties","button","CartItemButton_CartItemButton","react_router_dom","to","RemoveCartItemButton","clickedRef","useRef","current","removeItemFromCart","EditButtonsContainerStyled","CartItemStyled","isActive","CartItem","item","onEdit","RemoveCartItemButton_RemoveCartItemButton","automatic","Responsive","EditCartItemButton_EditCartItemButton","sideDishCount","nameLabel","join","i18n","toLocaleLowerCase","MinimalOrderLabel","secondary","CartMinimalOrderPrice","Fragment","minimalOrderPrice","CartItemSummaryTotalThemed","Color","alpha","hsl","string","CartTotals","coverPrice","transportFee","tip","totalSum","CartMinimalOrderPrice_CartMinimalOrderPrice","CartContents","items","CartItem_CartItem","lastActiveRecipeId","setUsedRecipeId","CartDiscounts_CartDiscounts","CartTotals_CartTotals","CartIsEmptyThemed","CartIsEmpty","OrderCartForItemQuery","ChangeCartModal","react_router","reactstrap_es","CartModal","initialSelection","updateItem","CartView_CartView","CartView","_useQCartView","useQCartView","refetch","ChangeCartModal_ChangeCartModal","CartIsEmpty_CartIsEmpty","CartContents_CartContents","CategoryNavigatorContainer","CategoryNavigator","categories","_useState","useState","_useState2","slicedToArray","activeCategoryIndex","setActiveCategoryIndex","category","modules_default","Link","classNames","active","onSetActive","offset","smooth","spy","pictogram","Truncate","lines","FoodCategoryStyled","FoodCategoryTitleStyled","FoodCategory_templateObject","FoodCategory","Element","LinkStyled","LinkToCart","hasSidedish","canAddToCart","pathname","_onClick","toString","FoodMenuItemStyled","FoodMenuItemImage","img","FoodMenuItemPriceCorner","FoodMenuItemPrice","FoodMenuItemCount","_ref4","FoodMenuItem_templateObject","FoodMenuItem","_ref5","inCart","LinkToCart_LinkToCart","image","src","alt","descriptionLabel","FoodMenuStyled","FoodMenu_templateObject","FoodMenu_templateObject2","FoodMenuListStyled","_templateObject3","_templateObject4","FoodMenu","config","_useQFoodMenuCartPres","useQFoodMenuCartPresence","branchId","reduce","result","orderItemsMax","Pacman","foodMenu_FoodCategory","recipes","segments_foodMenu_FoodMenuItem","showOrderLimit","prefetchFood","OrderLimitModal","AlertModal","orderLimitAlertHidden","hideOrderLimit","FoodMenuView","_useQFoodMenu","useQFoodMenu","wareCategories","filter","cat","OrderLimitModal_OrderLimitModal","segments_foodMenu_CategoryNavigator","GeolocationButton","_ref2$isVisible","isVisible","addonType","ResolvedAddress","address","isResolving","onValidClick","dist_default","SearchInput","state","onSearch","debounce","_this","setState","onKeyPress","clear","inputRef","onInputMount","ref","setFocus","nextProps","isSearching","focus","inputProps","isHidden","classnames","address__input__hidden","innerRef","autoFocus","Component","AddressInputStyled","AddressInputBoxStyled","AddressInput","location","destination_ResolvedAddress","hasAddress","clearAddress","destination_SearchInput","autoComplete","withUserAddress","destination_GeolocationButton","attemptGeolocation","isGeolocationAvailable","hasFinishedSearch","isResolved","NoMouseAlert","isStreetAddress","inDeliveryLocation","renderErrorMessage","AddressSubmit","Buttons","DeliveryMapPanning","useGInitialLocation","clickPoint","withUserLocation","clearClickPoint","panToGps","useFullComputed","geoPoint","logMap","geolocationPoint","initialLocation","gpsCoordinates","get","DeliveryMap","business","useCallback","asyncToGenerator","regenerator_default","setBranch","createDeliveryOrder","when","isValid","validateUserLocation","DeliveryMapPanning_DeliveryMapPanning","latLng","lib","position","defaultDraggable","onDragEnd","latLngToGps","AddressInput_AddressInput","AddressSubmit_AddressSubmit","isDeliveryAddress","prefetchFoodMenu","FormTextInput","_ref$showFeedback","showFeedback","es","touched","emailRx","OrderEmailInputValidator","test","OrderEmailInput","FormTextInput_FormTextInput","OrderNameInput","OrderPhoneInputValidator","OrderPhonePrefixInputValidator","OrderPhoneInput","isMobileSafari","UAParser","window","navigator","userAgent","getBrowser","style","CodesPanel","OrderPromoInputUI","codes","onCodeAdd","onCodeRemove","_ref$autoSubmitAfterT","autoSubmitAfterTimeout","isValidating","setValidating","addCode","abrupt","finish","onKeyDown","onPaste","OrderPromoInput","_useQOrderPromoCodes","useQOrderPromoCodes","_useMOrderPromoAdd","useMOrderPromoAdd","addCodeMutation","React","userErrors","sent","addOrderPromoCode","submitFailed","_useMOrderPromoRemove","useMOrderPromoRemove","removeCodeMutation","codeId","promoCodes","OrderTimeButtons","delayedOrderEnabled","undefined","deliverAt","setDeliverAt","openTimePicker","format","weekday","hour","minute","OrderFormInputs_OrderFormInputs","OrderFormInputs","OrderNameInput_OrderNameInput","OrderPhoneInput_OrderPhoneInput","OrderEmailInput_OrderEmailInput","OrderTimeButtons_OrderTimeButtons","orderForm_OrderPromoInput","CategoryValidationMessage","minCount","maxCount","message","count","node_modules_react_default","Name","Price","SidedishCheckbox","sidedish","outline","useSidedishValidator","selection","sidedishesInCategory","prop","categorySelection","intersection","categoryIsValid","SidedishPicker","onToggle","_useSidedishValidator","node_modules_react","CategoryValidationMessage_CategoryValidationMessage","SidedishCheckbox_SidedishCheckbox","includes","CartOrderButton","_React$useState","_React$useState2","isConfirming","setConfirming","every","_ref$initialSelection","updateSelection","onConfirmAndClose","backdrop","fade","react","SidedishPicker_SidedishPicker","sidedishId","sel","reject","equals","append","CartOrderButton_CartOrderButton","createTimeSteps","start","end","minuteStep","startOfMinute","time","addMinutes","subMinutes","getMinutes","timeClampDown","timeClampUp","steps","endMinute","endOfMinute","push","Time","TimePickerButton","getTime","formatTime","TimePickerContainer","TimePickerDay","TimePicker","minDate","maxDate","onStepChange","initialTime","_ref$filterIntervals","filterIntervals","useMemo","allSteps","step","some","isWithinInterval","days","eachDayOfInterval","stepIdx","setStepIdx","useEffect","closestIndexTo","day","getDate","month","isEqual","startOfDay","TimePickerButton_TimePickerButton","OrderTimePicker","_useQOrderTimePicker","useQOrderTimePicker","_useMOrderDeliveryTim","useMOrderDeliveryTime","updateOrder","selectedTime","isoDate","closeTimePicker","renderModalContent","companyBranch","willOpenAt","Date","getStartTime","willCloseAt","nextBusinessHour","businessHours","closeAt","getEndTime","isAfter","minuteOffset","_data$companyBranch","defaultDeliveryTime","defaultPickupTime","usingDeliveryOrderMethod","usingPickupOrderMethod","getMinuteOffset","TimePicker_TimePicker","bhour","openAt","delayedDeliveryEnabled","enableDelayedOrder","header","timePickerOpen","CheckboxContainerStyled","CheckboxStyled","Input","LabelStyled","FormInputCheckbox","_ref2$defaultValue","defaultValue","checked","OrderAgreements_OrderAgreements","ButtonStyled","GdprAgreementStyled","OrderAgreements","descOpen","observable","array","toggleId","remove","display","hideConfirmed","FormInputCheckbox_FormInputCheckbox","isMandatory","dangerouslySetInnerHTML","__html","module","exports","p","ColStyle","ColStyleLeft","ColStyleRight","reactstrap__WEBPACK_IMPORTED_MODULE_1__","sm","md","lg","xl","useShopStatus","_speedlo_hooks__WEBPACK_IMPORTED_MODULE_0__","date_fns__WEBPACK_IMPORTED_MODULE_1__","status","_ref$updateInterval","updateInterval","SECOND","_ref$openSoonThreshol","openSoonThresholdInMinutes","_ref$closeSoonThresho","closeSoonThresholdInMinutes","getNow","useNow","useTimer","interval","now","openingIn","differenceInMinutes","closingIn","decision","isSoon","threshold","Math","abs","ShopAddress","_i18n__WEBPACK_IMPORTED_MODULE_1__","street","houseNumber","city","BackgroundThemed","imageName","_ref$fixed","fallbackColor","fixed","_ref$size","_ref$component","component","otherProps","BaseMap","mobx_react_lite__WEBPACK_IMPORTED_MODULE_0__","react_google_maps__WEBPACK_IMPORTED_MODULE_2__","styled_components__WEBPACK_IMPORTED_MODULE_3__","MapContainerStyled","MapElement","BaseMapContainer","withGoogleMap","model","containerElement","mapElement","setMapRef","zoom","center","onCenterChanged","updatePosition","onZoomChanged","updateZoom","options","streetViewControl","mapTypeControl","fullscreenControl","zoomControlOptions","google","maps","ControlPosition","RIGHT_TOP","_buildQuery__WEBPACK_IMPORTED_MODULE_0__","ShopClosingTimeModal","_common_AlertModal__WEBPACK_IMPORTED_MODULE_4__","_hooks_useShopStatus__WEBPACK_IMPORTED_MODULE_5__","_i18n__WEBPACK_IMPORTED_MODULE_6__","_useShopStatus","closingTimeAlertHidden","hideClosingTime","ShopHeaderIcons","_common_ColStyle__WEBPACK_IMPORTED_MODULE_2__","_logo_commerce_01_svg__WEBPACK_IMPORTED_MODULE_3__","_logo_commerce_01_svg__WEBPACK_IMPORTED_MODULE_3___default","_logo_commerce_02_svg__WEBPACK_IMPORTED_MODULE_4__","_logo_commerce_02_svg__WEBPACK_IMPORTED_MODULE_4___default","_logo_doveze_svg__WEBPACK_IMPORTED_MODULE_5__","_logo_doveze_svg__WEBPACK_IMPORTED_MODULE_5___default","_logo_gopay_png__WEBPACK_IMPORTED_MODULE_6__","_logo_gopay_png__WEBPACK_IMPORTED_MODULE_6___default","logoDoveze","logoCommerce02","logoCommerce01","logoGoPay","StatusDisplayOpen","StatusDisplayClosed","ShopStatusDisplay","deliveryTime","pickupTime","closestBH","closedNote","timingDisplay","defaultDeliveryTimeEnabled","defaultPickupTimeEnabled","formatOpenTime","openAtDate","nowDate","isSameDay","CenteredButtonContainer","FinishViewFooter","_ref$finish","androidApp","iosApp","url","textAlign","FinishViewLoader","react_router_dom__WEBPACK_IMPORTED_MODULE_1__","_common_Pacman__WEBPACK_IMPORTED_MODULE_3__","_graph_generated__WEBPACK_IMPORTED_MODULE_4__","_useQOrderFinish","useQOrderFinish","HeaderThemed","PriceThemed","PriceCornerThemed","FinishViewOrder","orderPayments","hasMethod","PaymentGateEnum","Cash","_i18n__WEBPACK_IMPORTED_MODULE_5__","Gopay","getPaymentInfo","OrderItem","_ref6","getPaymentPrice","pathEq","_ref7"],"mappings":"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","file":"static/js/1.2dc2d6e1.chunk.js","sourcesContent":["import { Trans } from '@lingui/macro'\nimport React from 'react'\nimport styled from 'styled-components'\n\nimport { QOrderFinishCompanyBranch } from '../../graph/generated'\n\ninterface IProps {\n  branch: QOrderFinishCompanyBranch\n}\n\nconst PhoneNumberLinkStyled = styled.a`\n  color: inherit;\n  text-decoration: none;\n  &:hover {\n    text-decoration: underline;\n  }\n`\n\nexport const FinishViewSupport: React.FC<IProps> = ({ branch }) => (\n  <div className=\"finish__view__support\">\n    <h4>\n      <Trans>Any question? Do you have a problem? Call:</Trans>\n    </h4>\n    <span className=\"flaticon-technology finish__view__support__icon\" />\n    <span className=\"finish__view__support__phone\">\n      <PhoneNumberLinkStyled href={`tel:${branch.phone}`}>\n        {branch.phone}\n      </PhoneNumberLinkStyled>\n    </span>\n  </div>\n)\n","import './OrderMethod.css'\n\nimport { useObserver } from 'mobx-react-lite'\nimport React from 'react'\n\nimport { useRoot } from '../../app/useRoot'\nimport { SelectButtonThemed } from '../../common/Buttons'\nimport { DeliveryTypeEnum } from '../../graph/generated'\nimport { RM } from '../../helpers/ramda'\nimport { i18n } from '../../i18n'\nimport { TOrderModel } from '../../models/OrderModel'\n\ninterface IProps {\n  onChange?(order: TOrderModel): void\n}\n\ninterface IButtonProps {\n  orderModel: TOrderModel\n  orderMethod: DeliveryTypeEnum\n  onChange(order: TOrderModel): void\n  onPrefetch?(): void\n}\n\nconst OrderMethodButton: React.FC<IButtonProps> = ({\n  orderModel,\n  orderMethod,\n  onChange,\n  onPrefetch,\n  children,\n}) => {\n  return useObserver(() => (\n    <SelectButtonThemed\n      selected={orderModel.orderMethod === orderMethod}\n      onMouseEnter={onPrefetch}\n      onClick={() => {\n        orderModel.useOrderMethod(orderMethod)\n        onChange(orderModel)\n      }}\n      data-testid={`orderMethod-${orderMethod}`}\n      data-testselected={orderModel.orderMethod === orderMethod}\n    >\n      {children}\n    </SelectButtonThemed>\n  ))\n}\n\nexport const OrderMethod: React.FC<IProps> = ({ onChange }) => {\n  const { order } = useRoot()\n  return (\n    <div className=\"order__method\">\n      <OrderMethodButton\n        orderModel={order}\n        orderMethod={DeliveryTypeEnum.Messenger}\n        onChange={onChange || RM.identity}\n      >\n        <span className=\"flaticon-transport\" />\n        {i18n.t`I want to deliver`.toLocaleUpperCase()}\n      </OrderMethodButton>\n      <OrderMethodButton\n        orderModel={order}\n        orderMethod={DeliveryTypeEnum.Pickup}\n        onChange={onChange || RM.identity}\n        onPrefetch={order.prefetchPickup}\n      >\n        <span className=\"flaticon-restaurant\" />\n        {i18n.t`I'll pick up`.toLocaleUpperCase()}\n      </OrderMethodButton>\n    </div>\n  )\n}\n","import './ButtonStripe.css'\n\nimport React from 'react'\n\nconst ButtonStripe: React.FC = ({ children }) => (\n  <div className=\"button__stripe\">\n    <div className=\"button__stripe__bar\" />\n    <div className=\"button__stripe__button\">{children}</div>\n  </div>\n)\n\nexport default ButtonStripe\n","import { autorun } from 'mobx'\nimport { useDisposable } from 'mobx-react-lite'\nimport React from 'react'\n\nimport { GeoPoint } from '../../../helpers/gps'\nimport { TMapModel } from '../../../models/MapModel'\n\ninterface IProps {\n  gps: GeoPoint | undefined\n  map: TMapModel\n}\n\nexport const MapPanning: React.FC<IProps> = ({ map, gps }) => {\n  useDisposable(\n    () =>\n      autorun(() => {\n        if (map.isReady && gps) {\n          map.panToLocation(gps)\n        }\n      }),\n    [gps],\n  )\n  return null\n}\n","import { Trans } from '@lingui/macro'\nimport React from 'react'\nimport { Route } from 'react-router-dom'\nimport { Alert } from 'reactstrap'\n\nimport { useRoot } from '../../app/useRoot'\nimport { Mobile } from '../../common/Responsive'\nimport { buildQuery } from '../../graph'\nimport { GOrderCartForRecipe } from '../../graph/types'\nimport { OrderCartForRecipeQuery } from '../../models/OrderModel.graphql'\nimport { CartModal } from './CartModal'\n\nconst QueryCart = buildQuery<\n  GOrderCartForRecipe.Query,\n  GOrderCartForRecipe.Variables\n>(OrderCartForRecipeQuery)\n\nexport const AddToCartModal: React.FC = () => {\n  const { order: orderModel } = useRoot()\n  return (\n    <Route\n      path=\"/order/add/:recipeId\"\n      render={({ match, history }) => (\n        <QueryCart\n          variables={{ recipeId: match.params.recipeId }}\n          renderLoading={false}\n          renderError={() => (\n            <Alert color=\"warning\">\n              <Trans>Error in loading cart item. Issue was reported.</Trans>\n            </Alert>\n          )}\n          render={(data, { loading }) => (\n            <Mobile>\n              {isMobile => (\n                <CartModal\n                  recipe={data.recipe}\n                  onConfirm={sideDishes => {\n                    if (isMobile) {\n                      orderModel.addFromRecipeMobile(\n                        match.params.recipeId,\n                        sideDishes,\n                      )\n                      // let the optimistic response happen in this case\n                      return Promise.resolve()\n                    }\n                    return orderModel.addFromRecipe(\n                      match.params.recipeId,\n                      sideDishes,\n                    )\n                  }}\n                  onClose={() => history.goBack()}\n                  isLoading={loading}\n                />\n              )}\n            </Mobile>\n          )}\n        />\n      )}\n    />\n  )\n}\n","import React from 'react'\nimport { Button, ButtonProps } from 'reactstrap'\nimport styled from 'styled-components'\n\ninterface IProps extends ButtonProps {\n  isSelected: boolean\n  canBeSelected: boolean\n  width: string\n}\n\nconst PickerButtonStyled = styled(\n  ({ isSelected, canBeSelected, width, ...props }) => <Button {...props} />,\n)`\n  border-radius: 0.6rem;\n  margin: 0.5rem;\n  background-color: ${props =>\n    props.isSelected ? props.theme.tertiary : 'transparent'} !important;\n  color: ${props =>\n    props.isSelected ? props.theme.tertiaryText : 'initial'} !important;\n  &:hover {\n    border-color: ${({ theme }) => theme.tertiaryHover} !important;\n  }\n  width: ${props => props.width};\n  @media (max-width: 370px) {\n    width: 100%;\n  }\n  &.btn-outline-secondary {\n    color: #2e2e2e;\n    border-color: #d4d4d4;\n  }\n  &.btn-outline-secondary.active {\n    color: white;\n  }\n`\n\nexport const PickerButton: React.FC<IProps> = ({\n  isSelected,\n  canBeSelected,\n  onSelect,\n  children,\n  ...buttonProps\n}) => {\n  return (\n    <PickerButtonStyled\n      disabled={!canBeSelected && !isSelected}\n      isSelected={isSelected}\n      {...buttonProps}\n    >\n      {children}\n    </PickerButtonStyled>\n  )\n}\n","import { reaction } from 'mobx'\nimport { useDisposable } from 'mobx-react-lite'\n\nimport { useRoot } from '../../app/useRoot'\nimport { logMain } from '../../helpers/logger'\n\nexport function useCartRefresh(onRefresh: () => void) {\n  const { order: orderModel } = useRoot()\n  return useDisposable(() =>\n    reaction(\n      () => orderModel.shouldRefreshCart,\n      () => {\n        logMain('refreshing cart...')\n        orderModel.setCartRefresh(false)\n        onRefresh()\n      },\n    ),\n  )\n}\n","import { Trans } from '@lingui/macro'\nimport { observer } from 'mobx-react-lite'\nimport React from 'react'\nimport { Alert, Button } from 'reactstrap'\nimport styled from 'styled-components'\n\nimport { useRoot } from '../../app/useRoot'\nimport { mediaDesktop, mediaMobile } from '../../common/Responsive'\nimport { useQOrderForm } from '../../graph/generated'\n\ninterface IProps {}\n\nconst NoticeButton = styled(Button)`\n  font-size: 0.9rem;\n  margin: 0.2rem 1rem;\n  padding: 0.5em 1rem;\n`\n\nconst StorageNotice = styled(Alert)`\n  width: 100%;\n  z-index: 5;\n  ${mediaDesktop`\n    font-size: 0.9rem;\n    position: sticky;\n    bottom: 0;\n  `};\n  ${mediaMobile`\n    position: fixed;\n    top: 5rem;\n    font-size: 0.8rem;\n    `};\n  padding: 0.5rem 1rem;\n  background-color: #d4eddadc;\n`\n\nexport const OrderFormStorageNotice: React.FC<IProps> = observer(() => {\n  const { order: orderModel, user } = useRoot()\n  const { data, loading } = useQOrderForm(\n    {\n      orderId: orderModel.orderId!,\n    },\n    {\n      skip: !orderModel.hasOrder || user.rememberForm !== null,\n    },\n  )\n\n  if (loading) {\n    return null\n  }\n\n  if (data.order.countWares === 0 || user.rememberForm !== null) {\n    return null\n  }\n\n  return (\n    <StorageNotice data-testid=\"orderFormStorageNotice\">\n      <p>\n        <Trans>\n          This app is using secure storage for keeping filled form data. It's\n          not cookies, these are stored in your browser only.\n        </Trans>\n      </p>\n\n      <NoticeButton\n        color=\"success\"\n        size=\"sm\"\n        onClick={user.setFormRememberYes}\n        data-testid=\"orderFormStorageNotice__Yes\"\n      >\n        <Trans>Always remember</Trans>\n      </NoticeButton>\n      <NoticeButton\n        color=\"secondary\"\n        size=\"sm\"\n        onClick={user.setFormRememberNo}\n        data-testid=\"orderFormStorageNotice__No\"\n      >\n        <Trans>Do not store</Trans>\n      </NoticeButton>\n    </StorageNotice>\n  )\n})\n","import '../../common/Modal.css'\n\nimport { Trans } from '@lingui/macro'\nimport { useObserver } from 'mobx-react-lite'\nimport React from 'react'\nimport { Button, Container, Modal, ModalBody, ModalHeader } from 'reactstrap'\n\nimport { useRoot } from '../../app/useRoot'\n\nexport const OrderErrorModal: React.FC = () => {\n  const { order } = useRoot()\n  return useObserver(() => (\n    <Modal\n      isOpen={order.hasErrors}\n      toggle={order.clearErrors}\n      className=\"modal__container\"\n    >\n      <ModalHeader\n        toggle={order.clearErrors}\n        tag={Container}\n        className=\"modal__header\"\n      >\n        <span>\n          <Trans>Order can not be completed</Trans>\n        </span>\n      </ModalHeader>\n      <ModalBody className=\"modal__body\">\n        <div className=\"modal__body__content\">\n          {order.hasErrors &&\n            order.submitErrors!.map((error, idx) => (\n              <div key={idx}>{error}</div>\n            ))}\n        </div>\n        <div className=\"modal__body__button__line\">\n          <div className=\"modal__body__button__strip\" />\n          <Button\n            className=\"modal__body__button\"\n            color=\"primary\"\n            onClick={order.clearErrors}\n          >\n            <Trans>I understand</Trans>\n          </Button>\n          />\n        </div>\n      </ModalBody>\n    </Modal>\n  ))\n}\n","import React from 'react'\n\nimport { SecondaryButton } from '../../common/Buttons'\nimport { PaymentGateEnum } from '../../graph/generated'\nimport { IOrderFormState } from './OrderFormSetup'\nimport { MAX_LENGTH } from './OrderNoteInput'\n\ninterface IProps {\n  onFill(values: IOrderFormState): void\n}\n\nexport const OrderFormAutoFill: React.FC<IProps> = ({ onFill }) =>\n  process.env.REACT_APP_STAGE !== 'prod' ? (\n    <SecondaryButton\n      style={{ marginBottom: '0.5rem' }}\n      onClick={() => {\n        const faker: Faker.FakerStatic = require('faker')\n        faker.locale = 'cz'\n        onFill({\n          firstname: faker.name.firstName(),\n          lastname: faker.name.lastName(),\n          email: faker.internet.email(),\n          phone: faker.phone.phoneNumberFormat(0).replace(/\\s/g, ''),\n          phonePrefix: '+420',\n          note: faker.lorem.sentence().slice(0, MAX_LENGTH - 1),\n          tips: '',\n          payment: PaymentGateEnum.Gopay,\n          agreements: [],\n        })\n      }}\n    >\n      Autofill form [DEV ONLY]\n    </SecondaryButton>\n  ) : null\n","import { Plural, Trans } from '@lingui/react'\nimport React from 'react'\nimport { Field } from 'react-form'\nimport { FormFeedback, FormGroup, FormText, Input } from 'reactstrap'\n\nimport { i18n } from '../../i18n'\n\nexport const MAX_LENGTH = 50\nconst isTooLong = value => value && value.trim().length > MAX_LENGTH\n\nconst OrderNoteInputValidator = value =>\n  isTooLong(value) ? i18n.t`Note is too long` : null\n\nexport const OrderNoteInput: React.FC = () => {\n  const ingredientsDescription = i18n.t`eg. ingredients change, company...`\n  return (\n    <Field\n      field=\"note\"\n      validate={OrderNoteInputValidator}\n      render={fieldApi => (\n        <FormGroup>\n          <Input\n            type=\"textarea\"\n            placeholder={i18n.t`Note`}\n            title={ingredientsDescription}\n            value={fieldApi.value}\n            onChange={e => fieldApi.setValue(e.target.value)}\n            onBlur={() => fieldApi.setTouched(true)}\n            valid={!fieldApi.error}\n            invalid={Boolean(fieldApi.error)}\n            data-testid=\"orderNoteInput\"\n          />\n          <FormText>{ingredientsDescription}</FormText>\n          {isTooLong(fieldApi.value) ? (\n            <FormFeedback>\n              <Trans>\n                Maximum length is{' '}\n                <Plural value={MAX_LENGTH} other=\"# characters\" />. Typed{' '}\n                <Plural\n                  value={fieldApi.value.length}\n                  one=\"# char\"\n                  other=\"# chars\"\n                />\n              </Trans>\n            </FormFeedback>\n          ) : null}\n        </FormGroup>\n      )}\n    />\n  )\n}\n","import { useDebounceCallback, useRouterContext } from '@speedlo/hooks'\nimport { autorun } from 'mobx'\nimport { useDisposable } from 'mobx-react-lite'\nimport React from 'react'\nimport { Form, IFormApi, IFormState } from 'react-form'\nimport { Form as StrapForm } from 'reactstrap'\n\nimport { useRoot } from '../../app/useRoot'\nimport { PaymentGateEnum } from '../../graph/generated'\nimport { logOrder } from '../../helpers/logger'\nimport { RM } from '../../helpers/ramda'\nimport { TAgreement, TOrderModel } from '../../models/OrderModel'\n\ninterface IProps {\n  render(formApi: IFormApi & IFormState<IOrderFormState>): ReactNode\n}\n\nexport interface IOrderFormState {\n  firstname: string\n  lastname: string\n  email: string\n  phonePrefix: string\n  phone: string\n  note: string\n  tips: string\n  payment: PaymentGateEnum\n  agreements: TAgreement[]\n}\n\nfunction getDefaultFormValues(orderModel: TOrderModel): IOrderFormState {\n  return {\n    firstname: orderModel.firstname,\n    lastname: orderModel.lastname,\n    email: orderModel.email,\n    phone: orderModel.phone,\n    phonePrefix: orderModel.phonePrefix || orderModel.defaultPhonePrefix,\n    note: orderModel.note,\n    tips: orderModel.tips,\n    payment: orderModel.payment as PaymentGateEnum,\n    agreements: [],\n  }\n}\n\nconst debounceInterval = 1500\n\nexport const OrderFormSetup: React.FC<IProps> = ({ render }) => {\n  const { order: orderModel } = useRoot()\n  const { history } = useRouterContext()\n\n  useDisposable(() =>\n    autorun(() => {\n      if (!orderModel.isVamInitialized) {\n        orderModel.initVam()\n      }\n    }),\n  )\n\n  const onChange = useDebounceCallback(\n    async (formState: IFormState<IOrderFormState>, formApi: IFormApi) => {\n      logOrder('onChange', formState)\n      await orderModel.updateVam(formState.values)\n      formApi.setValue(\n        'agreements',\n        mergeFormAgreements(formState.values.agreements, orderModel.agreements),\n      )\n    },\n    debounceInterval,\n  )\n\n  return (\n    <Form\n      defaultValues={getDefaultFormValues(orderModel)}\n      validateOnMount={true}\n      onChange={onChange}\n      onSubmit={async (formState: IOrderFormState) => {\n        try {\n          await orderModel.submitOrder(formState)\n          history.replace(`/finish`)\n        } catch (e) {\n          logOrder(e)\n        }\n      }}\n    >\n      {formApi => (\n        <StrapForm onSubmit={formApi.submitForm}>{render(formApi)}</StrapForm>\n      )}\n    </Form>\n  )\n}\n\nfunction mergeFormAgreements(\n  formValue: TAgreement[],\n  agreements: TAgreement[],\n) {\n  return agreements.map(agreement => {\n    const formAgreement = formValue.find(RM.propEq('id', agreement.id))\n    if (formAgreement) {\n      return { ...agreement, isConfirmed: formAgreement.isConfirmed }\n    }\n    return agreement\n  })\n}\n","import { useReaction } from '@speedlo/hooks'\nimport { useObserver } from 'mobx-react-lite'\nimport React from 'react'\nimport { Field } from 'react-form'\nimport FormGroup from 'reactstrap/lib/FormGroup'\nimport Input from 'reactstrap/lib/Input'\nimport styled from 'styled-components'\n\nimport { useRoot } from '../../app/useRoot'\nimport { useMOrderTipUpdate } from '../../graph/generated'\nimport { i18n } from '../../i18n'\n\nconst TipContainer = styled.div`\n  margin-top: 0.8rem;\n`\n\nexport const OrderFormTipInput = () => {\n  const { order } = useRoot()\n  const [updateTip] = useMOrderTipUpdate()\n\n  useReaction(\n    () => order.usingPaymentMethodWithTips,\n    useTips => {\n      if (!useTips) {\n        updateTip({\n          orderId: order.orderId!,\n          tips: 0,\n        })\n      }\n    },\n  )\n\n  return useObserver(() => {\n    if (!order.usingPaymentMethodWithTips) {\n      return null\n    }\n    return (\n      <TipContainer>\n        <FormGroup>\n          <Field\n            field=\"tips\"\n            render={fieldApi => (\n              <Input\n                type=\"select\"\n                value={fieldApi.value}\n                onChange={e => {\n                  const { value } = e.target\n                  fieldApi.setValue(value)\n                  order.setTips(value)\n                  updateTip({\n                    orderId: order.orderId!,\n                    tips: value ? Number.parseInt(value, 10) : 0,\n                  })\n                }}\n                onBlur={() => {\n                  fieldApi.setTouched(true)\n                }}\n                id=\"orderTips\"\n              >\n                <option value=\"\">{i18n.t`Without tips`}</option>\n                <option value=\"5\">{i18n.t`Tips 5%`}</option>\n                <option value=\"10\">{i18n.t`Tips 10%`}</option>\n                <option value=\"15\">{i18n.t`Tips 15%`}</option>\n                <option value=\"20\">{i18n.t`Tips 20%`}</option>\n                <option value=\"25\">{i18n.t`Tips 25%`}</option>\n              </Input>\n            )}\n          />\n        </FormGroup>\n      </TipContainer>\n    )\n  })\n}\n","import React from 'react'\nimport { Field } from 'react-form'\n\nimport { useRoot } from '../../app/useRoot'\nimport { SelectButtonThemed } from '../../common/Buttons'\nimport { PaymentGateEnum } from '../../graph/types'\n\nexport interface IPaymentButtonProps {\n  method: PaymentGateEnum\n  disabled?: boolean\n}\n\nexport const OrderPaymentButton: React.FC<IPaymentButtonProps> = ({\n  children,\n  disabled,\n  method,\n}) => {\n  const { order: orderModel } = useRoot()\n  return (\n    <Field\n      field=\"payment\"\n      render={fieldApi => (\n        <SelectButtonThemed\n          disabled={disabled}\n          selected={fieldApi.value === method}\n          onClick={() => {\n            fieldApi.setValue(method)\n            orderModel.setPaymentMethod(method)\n          }}\n        >\n          <Checkmark show={fieldApi.value === method} />\n          {children}\n        </SelectButtonThemed>\n      )}\n    />\n  )\n}\n\nfunction Checkmark({ show }: { show: boolean }) {\n  return show ? (\n    <span className=\"flaticon-mark order__payment__method__button__checked\" />\n  ) : (\n    <div className=\"order__payment__method__button__unchecked\" />\n  )\n}\n","import './OrderSubmitLine.css'\n\nimport { useObserver } from 'mobx-react-lite'\nimport React from 'react'\n\nimport { useRoot } from '../../app/useRoot'\nimport { PrimaryButton } from '../../common/Buttons'\nimport { Desktop, Mobile } from '../../common/Responsive'\nimport SubmitSpinner from '../../common/SubmitSpinner'\nimport { i18n } from '../../i18n'\n\ninterface IProps {\n  onClick(): void\n  canSubmit: boolean\n}\n\nexport const OrderSubmitLine: React.FC<IProps> = ({\n  onClick,\n  canSubmit = false,\n}) => {\n  const { order } = useRoot()\n  return useObserver(() => (\n    <div className=\"order__form__submit__line\">\n      <div className=\"order__form__submit__line__strip\" />\n      <PrimaryButton\n        className=\"order__form__submit__line__button\"\n        color=\"primary\"\n        size=\"md\"\n        onClick={onClick}\n        disabled={!canSubmit || order.isSubmitting}\n        data-testid=\"orderSubmitButton\"\n      >\n        <Desktop>\n          {order.isSubmitting ? (\n            <SubmitSpinner />\n          ) : (\n            i18n.t`Place order`.toLocaleUpperCase()\n          )}\n        </Desktop>\n        <Mobile>{i18n.t`Place order`.toLocaleUpperCase()}</Mobile>\n      </PrimaryButton>\n    </div>\n  ))\n}\n","import React from 'react'\nimport Spinner from 'react-spinkit'\nimport { withTheme } from 'styled-components'\n\nconst SubmitSpinner = props => (\n  <Spinner name=\"three-bounce\" color={props.theme.primary} fadeIn=\"none\" />\n)\n\nexport default withTheme(SubmitSpinner)\n","import { Trans } from '@lingui/macro'\nimport { useObserver } from 'mobx-react-lite'\nimport React from 'react'\nimport styled from 'styled-components'\n\nimport { useRoot } from '../../app/useRoot'\nimport { AlertModal } from '../../common/AlertModal'\nimport Pacman from '../../common/Pacman'\n\nconst TextPadding = styled.div`\n  padding-bottom: 2rem;\n`\n\nexport const OrderGoPayModal: React.FC = () => {\n  const { order: orderModel } = useRoot()\n  return useObserver(() => (\n    <AlertModal isOpen={orderModel.isGoPayChecking} headerText=\"GoPay platba\">\n      <TextPadding>\n        <Trans>Checking your GoPay payment, please wait...</Trans>\n      </TextPadding>\n      <Pacman noMargin={true} />\n    </AlertModal>\n  ))\n}\n","import { Trans } from '@lingui/macro'\nimport React from 'react'\n\nimport { QCartView } from '../../graph/types'\n\ninterface IProps {\n  order: QCartView.Order\n}\n\nexport const CartDiscounts: React.FC<IProps> = ({ order }) =>\n  order.discounts && order.discounts.length > 0 ? (\n    <div>\n      {order.discounts.map(\n        ({ code, description, price: { formattedValue } }) => (\n          <div key={code} className=\"cart__item__summary\">\n            <div className=\"cart__item__summary__label\">{description}</div>\n            <div className=\"cart__item__summary__price\">{formattedValue}</div>\n          </div>\n        ),\n      )}\n      <div className=\"cart__item__summary\">\n        <div className=\"cart__item__summary__label\">\n          <Trans>Total discount</Trans>\n        </div>\n        <div className=\"cart__item__summary__price\">\n          {order.totalDiscount.formattedValue}\n        </div>\n      </div>\n    </div>\n  ) : null\n","import React from 'react'\nimport styled, { css } from 'styled-components'\n\ninterface IButtonProps {\n  color: string\n  enabled?: boolean\n  data_testid?: string\n}\n\ninterface IIconProps {\n  icon: string\n}\n\ninterface IProps extends IButtonProps, IIconProps {\n  onClick?(): void\n}\n\nconst CartItemButtonStyled = styled.div<IButtonProps>`\n  display: inline-block;\n  border-radius: 3rem;\n  background: white;\n  width: 1.8rem;\n  height: 1.8rem;\n  text-align: left;\n  vertical-align: top;\n  padding: 0 0 0 0rem;\n  margin: 0.3rem 0.1rem 0 0.1rem;\n  ${getButtonColor};\n  ${getHoverStyle};\n`\n\nfunction getButtonColor({ color, enabled }: IButtonProps) {\n  const useColor = enabled ? color : '#8d8d8d'\n  return css`\n    color: ${useColor};\n    border: 2px solid ${useColor};\n  `\n}\n\nfunction getHoverStyle({ enabled }: IButtonProps) {\n  return enabled\n    ? css`\n        cursor: pointer;\n        &:hover {\n          background: #c9e8d7;\n          color: #1d1d1d;\n          border-color: #1d1d1d;\n        }\n      `\n    : css`\n        cursor: default;\n      `\n}\n\nconst CartItemButtonIcon = styled.span<IIconProps>`\n  &:before {\n    font-size: 0.8rem;\n    margin-left: 0.36rem;\n  }\n`\n\nexport const CartItemButton: React.FC<IProps> = ({\n  color,\n  icon,\n  onClick,\n  enabled = true,\n  data_testid,\n}) => {\n  return (\n    <CartItemButtonStyled\n      color={color}\n      enabled={enabled}\n      onClick={onClick}\n      onDoubleClick={ev => ev.preventDefault()}\n      data-testid={data_testid}\n    >\n      <CartItemButtonIcon icon={icon} className={`flaticon-${icon}`} />\n    </CartItemButtonStyled>\n  )\n}\n","import React from 'react'\nimport { Link } from 'react-router-dom'\n\nimport { CartItemButton } from './CartItemButton'\n\ninterface IProps {\n  itemId: ID\n  enabled: boolean\n  onClick(): void\n}\n\nexport const EditCartItemButton: React.FC<IProps> = ({\n  itemId,\n  onClick,\n  ...props\n}) => {\n  const button = <CartItemButton icon=\"edit\" color=\"#d9a700\" {...props} />\n  return props.enabled ? (\n    <Link\n      to={`/order/change/${itemId}`}\n      onClick={onClick}\n      data-testid={`editCartItemButton__${itemId}`}\n    >\n      {button}\n    </Link>\n  ) : (\n    button\n  )\n}\n","import React, { useRef } from 'react'\n\nimport { useRoot } from '../../app/useRoot'\nimport { CartItemButton } from './CartItemButton'\n\ninterface IProps {\n  itemId: ID\n  enabled: boolean\n}\n\nexport const RemoveCartItemButton: React.FC<IProps> = ({ itemId, enabled }) => {\n  const { order: orderModel } = useRoot()\n  const clickedRef = useRef(false)\n  return (\n    <CartItemButton\n      icon=\"delete\"\n      color=\"#99230e\"\n      enabled={enabled && !clickedRef.current}\n      data_testid={`removeCartItemButton`}\n      onClick={() => {\n        if (!clickedRef.current) {\n          orderModel.removeItemFromCart(itemId)\n        }\n        clickedRef.current = true\n      }}\n    />\n  )\n}\n","import './CartItem.css'\n\nimport React from 'react'\nimport styled from 'styled-components'\n\nimport { Desktop } from '../../common/Responsive'\nimport { FOrder } from '../../graph/types'\nimport { i18n } from '../../i18n'\nimport { EditCartItemButton } from './EditCartItemButton'\nimport { RemoveCartItemButton } from './RemoveCartItemButton'\n\ninterface IProps {\n  item: FOrder.Items\n  isActive: boolean\n  onEdit(): void\n}\n\nconst EditButtonsContainerStyled = styled.div`\n  flex: 0 0 auto;\n`\n\nconst CartItemStyled = styled.div`\n  width: 100%;\n  min-height: 3rem;\n  color: #1d1d1d;\n  margin: 0 0 0.4rem 0;\n  padding: 0.2rem;\n  background: ${({ isActive }: { isActive: boolean }) =>\n    isActive ? '#b3ebcc' : 'rgba(255, 255, 255, 0.8)'};\n  text-align: left;\n  display: flex;\n`\n\nexport const CartItem: React.FC<IProps> = ({ item, isActive, onEdit }) => (\n  <CartItemStyled isActive={isActive}>\n    <EditButtonsContainerStyled>\n      <RemoveCartItemButton itemId={item.id} enabled={!item.automatic} />\n\n      <Desktop>\n        <EditCartItemButton\n          itemId={item.id}\n          enabled={item.recipe.sideDishCount !== 0 && !item.automatic}\n          onClick={onEdit}\n        />\n      </Desktop>\n    </EditButtonsContainerStyled>\n\n    <div className=\"cart__item__description\">\n      <div\n        className=\"cart__item__item__name\"\n        data-testid={`cardItem__Name__${item.recipe.id}`}\n      >\n        {item.recipe.nameLabel}\n      </div>\n      <div\n        className=\"cart__item__item__side__dish\"\n        data-testid={`cardItem__SideDish__${item.recipe.id}`}\n      >\n        {item.sideDishes.length > 0\n          ? `+ ${item.sideDishes\n              .map(({ recipe }) => recipe.nameLabel)\n              .join(', ')}`\n          : item.recipe.sideDishCount > 0 && (\n              <span>{i18n.t`Without sidedish`.toLocaleLowerCase()}</span>\n            )}\n      </div>\n    </div>\n\n    <div\n      className=\"cart__item__item__price\"\n      data-testid={`cardItem__Price__${item.id}`}\n    >\n      {item.automatic ? i18n.t`For free` : item.price.formattedValue}\n    </div>\n  </CartItemStyled>\n)\n","import { Trans } from '@lingui/macro'\nimport React from 'react'\nimport styled from 'styled-components'\n\nimport { QCartView } from '../../graph/types'\n\ninterface IProps {\n  order: QCartView.Order\n}\n\nconst MinimalOrderLabel = styled.div`\n  color: ${({ theme }) => theme.secondary};\n  margin: 1rem;\n`\n\nexport const CartMinimalOrderPrice: React.FC<IProps> = ({ order }) => {\n  return (\n    <>\n      {order && order.minimalOrderPrice && (\n        <MinimalOrderLabel>\n          <Trans>\n            Minimal price of order is {order.minimalOrderPrice.formattedValue}\n          </Trans>\n        </MinimalOrderLabel>\n      )}\n    </>\n  )\n}\n","import Color from 'color'\nimport React from 'react'\nimport styled from 'styled-components'\n\nimport { QCartView } from '../../graph/types'\nimport { i18n } from '../../i18n'\nimport { CartMinimalOrderPrice } from './CartMinimalOrderPrice'\n\ninterface IProps {\n  order: QCartView.Order\n}\n\nconst CartItemSummaryTotalThemed = styled.div`\n  background: ${({ theme }) =>\n    Color(theme.primary)\n      .alpha(0.7)\n      .hsl()\n      .string()} !important;\n`\n\nexport const CartTotals: React.FC<IProps> = ({ order }) => (\n  <div>\n    {order.coverPrice && order.coverPrice.value ? (\n      <div key=\"casePrice\" className=\"cart__item__summary\">\n        <div className=\"cart__item__summary__label\">{i18n.t`Covers`}</div>\n        <div className=\"cart__item__summary__price\">\n          {order.coverPrice.formattedValue}\n        </div>\n      </div>\n    ) : null}\n    {order.transportFee && order.transportFee.value ? (\n      <div key=\"transportFee\" className=\"cart__item__summary\">\n        <div className=\"cart__item__summary__label\">{i18n.t`Delivery`}</div>\n        <div className=\"cart__item__summary__price\">\n          {order.transportFee.formattedValue}\n        </div>\n      </div>\n    ) : null}\n    {order.tip && order.tip.value ? (\n      <div key=\"tip\" className=\"cart__item__summary\">\n        <div className=\"cart__item__summary__label\">{i18n.t`Tip`}</div>\n        <div className=\"cart__item__summary__price\">\n          {order.tip.formattedValue}\n        </div>\n      </div>\n    ) : null}\n    <CartItemSummaryTotalThemed\n      key=\"totalPrice\"\n      className=\"cart__item__summary cart__item__summary__total\"\n    >\n      <div className=\"cart__item__summary__label\">{i18n.t`Total`}</div>\n      <div\n        className=\"cart__item__summary__price\"\n        data-testid={`cardItemSummary__Price`}\n      >\n        {order.totalSum.formattedValue}\n      </div>\n    </CartItemSummaryTotalThemed>\n\n    {order.minimalOrderPrice &&\n      order.totalSum.value < order.minimalOrderPrice.value && (\n        <CartMinimalOrderPrice order={order} />\n      )}\n  </div>\n)\n","import { useObserver } from 'mobx-react-lite'\nimport React from 'react'\n\nimport { useRoot } from '../../app/useRoot'\nimport { QCartView } from '../../graph/types'\nimport { CartDiscounts } from './CartDiscounts'\nimport { CartItem } from './CartItem'\nimport { CartTotals } from './CartTotals'\n\ninterface IProps {\n  order: QCartView.Order\n}\n\nexport const CartContents: React.FC<IProps> = ({ order }) => {\n  const { order: orderModel } = useRoot()\n\n  return useObserver(() => (\n    <div className=\"cart__items__container\">\n      <div className=\"cart__items__container__content\">\n        {order.items.map(item => (\n          <CartItem\n            key={item.id}\n            item={item}\n            isActive={orderModel.lastActiveRecipeId === item.recipe.id}\n            onEdit={() => orderModel.setUsedRecipeId(item.recipe.id)}\n          />\n        ))}\n        <CartDiscounts order={order} />\n        <CartTotals order={order} />\n      </div>\n    </div>\n  ))\n}\n","import React from 'react'\nimport styled from 'styled-components'\n\nimport { i18n } from '../../i18n'\n\nconst CartIsEmptyThemed = styled.span`\n  color: ${({ theme }) => theme.secondary};\n`\n\nexport const CartIsEmpty = () => (\n  <CartIsEmptyThemed\n    className=\"cart__column__cart__empty__label\"\n    data-testid=\"cartIsEmpty\"\n  >\n    {`${i18n.t`Cart is empty`}...`}\n  </CartIsEmptyThemed>\n)\n","import { Trans } from '@lingui/macro'\nimport React from 'react'\nimport { Route } from 'react-router-dom'\nimport { Alert } from 'reactstrap'\n\nimport { useRoot } from '../../app/useRoot'\nimport { buildQuery } from '../../graph'\nimport { GOrderCartForItem } from '../../graph/types'\nimport { RM } from '../../helpers/ramda'\nimport { OrderCartForItemQuery } from '../../models/OrderModel.graphql'\nimport { CartModal } from './CartModal'\n\nconst QueryCart = buildQuery<\n  GOrderCartForItem.Query,\n  GOrderCartForItem.Variables\n>(OrderCartForItemQuery)\n\nexport const ChangeCartModal: React.FC = () => {\n  const { order: orderModel } = useRoot()\n  return (\n    <Route\n      path=\"/order/change/:itemId\"\n      render={({ match, history }) => (\n        <QueryCart\n          variables={{ itemId: match.params.itemId }}\n          renderLoading={false}\n          renderError={() => (\n            <Alert color=\"warning\">\n              <Trans>Error in loading cart item. Issue was reported.</Trans>\n            </Alert>\n          )}\n          render={(data, { loading }) => (\n            <CartModal\n              recipe={data.item && data.item.recipe}\n              initialSelection={\n                data.item\n                  ? (data.item.sideDishes.map(\n                      RM.path(['recipe', 'id']),\n                    ) as string[])\n                  : []\n              }\n              onConfirm={sideDishes =>\n                orderModel.updateItem(match.params.itemId, sideDishes)\n              }\n              onClose={() => history.goBack()}\n              isLoading={loading}\n            />\n          )}\n        />\n      )}\n    />\n  )\n}\n","import './CartView.css'\n\nimport React from 'react'\n\nimport { useQCartView } from '../../graph/generated'\nimport { AddToCartModal } from './AddToCartModal'\nimport { CartContents } from './CartContents'\nimport { CartIsEmpty } from './CartIsEmpty'\nimport { CartMinimalOrderPrice } from './CartMinimalOrderPrice'\nimport { ChangeCartModal } from './ChangeCartModal'\nimport { useCartRefresh } from './useCartRefresh'\n\ninterface IProps {\n  orderId: MaybeID\n}\n\nexport const CartView: React.FC<IProps> = ({ orderId }) => {\n  const { data, loading, refetch } = useQCartView(\n    { orderId: orderId! },\n    {\n      skip: !orderId,\n    },\n  )\n\n  useCartRefresh(refetch)\n\n  return (\n    <>\n      <AddToCartModal />\n      <ChangeCartModal />\n\n      {loading || data.order.countWares === 0 ? (\n        <>\n          <CartMinimalOrderPrice order={data.order} />\n          <CartIsEmpty />\n        </>\n      ) : (\n        <CartContents order={data.order} />\n      )}\n    </>\n  )\n}\n","import './CategoryNavigator.css'\n\nimport classNames from 'classnames'\nimport React, { useState } from 'react'\nimport Scroll from 'react-scroll'\nimport Truncate from 'react-truncate'\nimport styled from 'styled-components'\n\nimport { mediaDesktop, mediaMobile } from '../../common/Responsive'\nimport { FFoodMenuCategoryFragment } from '../../graph/generated'\n\ninterface IProps {\n  categories: ReadonlyArray<FFoodMenuCategoryFragment>\n}\n\nconst CategoryNavigatorContainer = styled.div`\n  background-color: #d4d4d4;\n  border-top-left-radius: 0.6rem;\n  padding: 0.7rem 0.5rem 0 0.2rem;\n  position: sticky;\n  top: 0;\n  z-index: 1;\n  user-select: none;\n  display: flex;\n  ${mediaDesktop`\n    flex-wrap: wrap;\n  `}\n  ${mediaMobile`\n    flex-wrap: nowrap;\n    overflow-x: auto;\n    overflow-y: hidden;\n    box-shadow: inset -15px -5px 15px -14px rgba(0, 0, 0, 0.6);\n    margin: 0;\n    border-top-left-radius: 0;\n    background-color: #f3f3f3;\n    opacity: 0.94;\n  `}\n`\n\nconst CategoryNavigator: React.FC<IProps> = ({ categories }) => {\n  const [activeCategoryIndex, setActiveCategoryIndex] = useState(0)\n  return (\n    <CategoryNavigatorContainer>\n      {categories.length === 0\n        ? null\n        : categories.map((category, idx) => (\n            <Scroll.Link\n              to={category.nameLabel}\n              key={category.id}\n              className={classNames('category__navigator__scroll__link', {\n                active: activeCategoryIndex === idx,\n              })}\n              onSetActive={() => setActiveCategoryIndex(idx)}\n              offset={-168}\n              smooth={true}\n              spy={true}\n              data-testid={`categoryNavigatorScrollLink__${category.id}`}\n            >\n              <div className=\"category__navigator__scroll__link__circle\">\n                <span className={`flaticon-${category.pictogram}`} />\n              </div>\n              <div className=\"category__navigator__scroll__link__description\">\n                <Truncate lines={2}>{category.nameLabel}</Truncate>\n              </div>\n            </Scroll.Link>\n          ))}\n    </CategoryNavigatorContainer>\n  )\n}\n\nexport default CategoryNavigator\n","import React from 'react'\nimport Scroll from 'react-scroll'\nimport styled from 'styled-components'\n\nimport { mediaMobile } from '../../common/Responsive'\nimport { FFoodMenuCategoryFragment } from '../../graph/generated'\n\ninterface IProps {\n  category: FFoodMenuCategoryFragment\n}\n\nconst FoodCategoryStyled = styled.div`\n  color: #474747;\n  display: block;\n  font-size: 1.6rem;\n  & a {\n    text-decoration: none;\n  }\n`\n\nconst FoodCategoryTitleStyled = styled('h3')`\n  ${mediaMobile`margin: 1rem 0 0.4rem 1rem;`};\n`\n\nconst FoodCategory: React.FC<IProps> = ({ category, children }) => (\n  <Scroll.Element name={category.nameLabel}>\n    <FoodCategoryStyled>\n      <FoodCategoryTitleStyled>{category.nameLabel}</FoodCategoryTitleStyled>\n      {children}\n    </FoodCategoryStyled>\n  </Scroll.Element>\n)\n\nexport default FoodCategory\n","import React from 'react'\nimport { Link } from 'react-router-dom'\nimport styled from 'styled-components'\n\nimport { useRoot } from '../../app/useRoot'\nimport { Mobile } from '../../common/Responsive'\n\ninterface IProps {\n  recipeId: string\n  canAddToCart: boolean\n  hasSidedish: boolean\n  onClick(): void\n}\n\nconst LinkStyled = styled(Link)`\n  color: inherit;\n  &:visited div {\n    border: inherit;\n  }\n`\n\nexport const LinkToCart: React.FC<IProps> = ({\n  recipeId,\n  hasSidedish,\n  canAddToCart,\n  onClick,\n  children,\n}) => {\n  const { order } = useRoot()\n  if (!canAddToCart) {\n    return <div onClick={onClick}>{children}</div>\n  }\n  if (hasSidedish) {\n    return (\n      <LinkStyled to={{ pathname: `/order/add/${recipeId}` }} onClick={onClick}>\n        {children}\n      </LinkStyled>\n    )\n  }\n  return (\n    <Mobile>\n      {isMobile => (\n        <div\n          onClick={() => {\n            onClick()\n            isMobile\n              ? order.addFromRecipeMobile(recipeId)\n              : order.addFromRecipe(recipeId)\n          }}\n        >\n          {children}\n        </div>\n      )}\n    </Mobile>\n  )\n}\n","import './FoodMenuItem.css'\n\nimport React from 'react'\nimport Truncate from 'react-truncate'\nimport styled from 'styled-components'\n\nimport { mediaMobile } from '../../common/Responsive'\nimport { FFoodMenuRecipeFragment } from '../../graph/generated'\nimport { LinkToCart } from './LinkToCart'\n\ninterface IProps {\n  recipe: FFoodMenuRecipeFragment\n  inCart: number\n  isActive: boolean\n  onClick(): void\n  onPrefetch(): void\n  canAddToCart: boolean\n}\n\nconst FoodMenuItemStyled = styled.div`\n  padding: 1rem 0.5rem 0.3rem 1.1rem;\n  border: 1px solid #d5d5d5 !important;\n  margin: 0 0 0.4rem 0;\n  border-radius: 0.8rem;\n  cursor: pointer;\n  position: relative;\n  min-height: 6rem;\n  &:hover {\n    background-color: #c9e8d7;\n  }\n  background-color: ${({ isActive }: { isActive: boolean }) =>\n    isActive ? '#b3ebcc' : 'white'};\n  h4 {\n    font-size: 1rem;\n    font-weight: 700;\n    color: #404040;\n    margin-bottom: 0.1rem;\n    margin-right: 6rem;\n  }\n  p {\n    color: #666666;\n    margin: 0.6rem 0 0 0;\n    font-size: 0.9rem;\n    max-height: 2.5rem;\n    -webkit-line-clamp: 2;\n    overflow: hidden;\n  }\n`\nconst FoodMenuItemImage = styled.img`\n  width: 6rem;\n  height: 6rem;\n  display: block;\n  float: left;\n  margin: -1.05rem 1rem 0 -1.2rem;\n  border-radius: 0.8rem 0 0 0.8rem;\n  object-fit: cover;\n`\n\nconst FoodMenuItemPriceCorner = styled.div`\n  border-top-width: 1.8rem;\n  border-top-style: solid;\n  border-top-color: ${({ theme }) => theme.primary} !important;\n  position: absolute;\n  right: 4.799rem;\n  top: 1rem;\n  width: 0;\n  height: 0;\n  border-left: 1.8rem solid transparent;\n`\n\nconst FoodMenuItemPrice = styled.div`\n  background-color: ${({ theme }) => theme.primary} !important;\n  position: absolute;\n  right: 0;\n  top: 1rem;\n  width: 4.8rem;\n  height: 1.8rem;\n  padding: 0.12rem 0.7rem 0.3rem 0rem;\n  font-weight: 500;\n  font-size: 1.1rem;\n  color: white;\n  text-align: right;\n  overflow: hidden;\n  white-space: nowrap;\n`\n\nconst FoodMenuItemCount = styled.div`\n  background-color: ${({ theme }) => theme.secondary};\n  float: left;\n  position: absolute;\n  left: -1.2rem;\n  padding: 0.4rem 0.6rem;\n  color: white;\n  border-radius: 1.8rem;\n  font-size: 0.9rem;\n  ${mediaMobile`\n    left: -0.6rem;\n    top: -0.7rem;\n  `};\n`\n\nconst FoodMenuItem: React.FC<IProps> = ({\n  recipe,\n  inCart,\n  onPrefetch,\n  isActive,\n  onClick,\n  canAddToCart,\n}) => (\n  <LinkToCart\n    recipeId={recipe.id}\n    hasSidedish={recipe.sideDishCount > 0}\n    canAddToCart={canAddToCart}\n    onClick={onClick}\n    data-testid={`foodMenuItem__${recipe.id}`}\n  >\n    <FoodMenuItemStyled onMouseEnter={onPrefetch} isActive={isActive}>\n      {recipe.image && (\n        <FoodMenuItemImage src={recipe.image} alt={recipe.nameLabel} />\n      )}\n\n      <FoodMenuItemPriceCorner />\n      <FoodMenuItemPrice data-testid={`foodMenuItem__Price__${recipe.id}`}>\n        {recipe.price.formattedValue}\n      </FoodMenuItemPrice>\n      {inCart > 0 ? <FoodMenuItemCount>{`${inCart}x`}</FoodMenuItemCount> : ''}\n      <h4>\n        <Truncate lines={2} data-testid={`foodMenuItem__Name__${recipe.id}`}>\n          {recipe.nameLabel}\n        </Truncate>\n      </h4>\n      <p>\n        <Truncate\n          lines={2}\n          data-testid={`foodMenuItem__Description__${recipe.id}`}\n        >\n          {recipe.descriptionLabel}\n        </Truncate>\n      </p>\n    </FoodMenuItemStyled>\n  </LinkToCart>\n)\n\nexport default FoodMenuItem\n","import { Trans } from '@lingui/macro'\nimport { observer } from 'mobx-react-lite'\nimport React from 'react'\nimport styled from 'styled-components'\n\nimport { useRoot } from '../../app/useRoot'\nimport Pacman from '../../common/Pacman'\nimport { mediaDesktop, mediaMobile } from '../../common/Responsive'\nimport {\n  QFoodMenuWareCategories,\n  useQFoodMenuCartPresence,\n} from '../../graph/generated'\nimport FoodCategory from './FoodCategory'\nimport FoodMenuItem from './FoodMenuItem'\nimport { FoodInCart } from './types'\n\ninterface IProps {\n  categories: ReadonlyArray<QFoodMenuWareCategories>\n  isLoading: boolean\n}\n\nconst FoodMenuStyled = styled.div`\n  border-radius: 0 0 0.6rem 0.6rem;\n  ${mediaDesktop`background: white;`};\n  ${mediaMobile`\n    background: #eee9e7;\n    background-size: cover;\n    background-attachment: scroll;\n  `};\n`\n\nconst FoodMenuListStyled = styled.div`\n  ${mediaDesktop`\n    margin: 0 1.4rem 1rem 1.6rem;\n    padding: 2rem 0 2rem 0;\n  `};\n  ${mediaMobile`\n    margin: 0 0.7rem 1rem 0.7rem;\n    padding: 0 0 4rem 0;\n  `};\n`\n\nexport const FoodMenu = observer<IProps>(({ categories }) => {\n  const { order: orderModel, config, user } = useRoot()\n  const { data, loading } = useQFoodMenuCartPresence(\n    {\n      orderId: orderModel.orderId!,\n    },\n    {\n      skip: !orderModel.branchId,\n    },\n  )\n\n  const inCart: FoodInCart = loading\n    ? {}\n    : data.order.items.reduce((result, item) => {\n        const recipeId = item.recipe.id\n        if (!result[recipeId]) {\n          result[recipeId] = 0\n        }\n        result[recipeId] += 1\n        return result\n      }, {})\n\n  const canAddToCart =\n    !loading && data.order.items.length < config.orderItemsMax\n\n  const render = () => {\n    if (loading) {\n      return <Pacman noMargin={true} />\n    }\n    if (categories.length === 0) {\n      return (\n        <h3>\n          <Trans>Food menu is empty. We are sorry.</Trans>\n        </h3>\n      )\n    }\n    return (\n      <>\n        {categories.map(category => (\n          <FoodCategory key={category.id} category={category}>\n            {category.recipes.map(recipe => (\n              <FoodMenuItem\n                key={recipe.id}\n                recipe={recipe}\n                inCart={inCart[recipe.id] || 0}\n                isActive={orderModel.lastActiveRecipeId === recipe.id}\n                canAddToCart={canAddToCart}\n                onClick={() => {\n                  if (canAddToCart) {\n                    orderModel.setUsedRecipeId(recipe.id)\n                  } else {\n                    user.showOrderLimit()\n                  }\n                }}\n                onPrefetch={() => {\n                  if (recipe.sideDishCount > 0) {\n                    orderModel.prefetchFood(recipe.id)\n                  }\n                }}\n              />\n            ))}\n          </FoodCategory>\n        ))}\n      </>\n    )\n  }\n\n  return (\n    <FoodMenuStyled>\n      <FoodMenuListStyled>{render()}</FoodMenuListStyled>\n    </FoodMenuStyled>\n  )\n})\n","import { useObserver } from 'mobx-react-lite'\nimport React from 'react'\n\nimport { useRoot } from '../../app/useRoot'\nimport { AlertModal } from '../../common/AlertModal'\nimport { i18n } from '../../i18n'\n\nexport const OrderLimitModal: React.FC = () => {\n  const { user } = useRoot()\n  return useObserver(() => (\n    <AlertModal\n      isOpen={!user.orderLimitAlertHidden}\n      onClose={user.hideOrderLimit}\n      headerText={i18n.t`Limit has been reached`}\n    >\n      {i18n.t`The maximum number of items in the order has been reached`}\n    </AlertModal>\n  ))\n}\n","import { observer } from 'mobx-react-lite'\nimport React from 'react'\n\nimport { useRoot } from '../../app/useRoot'\nimport { useQFoodMenu } from '../../graph/generated'\nimport CategoryNavigator from './CategoryNavigator'\nimport { FoodMenu } from './FoodMenu'\nimport { OrderLimitModal } from './OrderLimitModal'\n\nexport const FoodMenuView = observer(() => {\n  const { order: orderModel } = useRoot()\n  const { data, loading } = useQFoodMenu(\n    {\n      branchId: orderModel.branchId!,\n    },\n    {\n      skip: !orderModel.branchId,\n    },\n  )\n\n  const categories = loading\n    ? []\n    : data.wareCategories.filter(cat => cat.recipes.length > 0)\n\n  return (\n    <>\n      <OrderLimitModal />\n      <CategoryNavigator categories={categories} />\n      <FoodMenu categories={categories} isLoading={loading} />\n    </>\n  )\n})\n","import React from 'react'\nimport { InputGroupAddon } from 'reactstrap'\nimport styled from 'styled-components'\n\ninterface IProps {\n  isVisible: boolean\n  onClick(): void\n}\n\nconst Container = styled.span`\n  color: ${({ theme }) => theme.secondary};\n  cursor: pointer;\n  position: absolute;\n  right: 0.4rem;\n  top: 0.15rem;\n`\n\nexport const GeolocationButton: React.FC<IProps> = ({\n  onClick,\n  isVisible = false,\n}) =>\n  isVisible ? (\n    <Container>\n      <InputGroupAddon addonType=\"append\" onClick={onClick}>\n        <span className=\"flaticon-gps\" />\n      </InputGroupAddon>\n    </Container>\n  ) : null\n\nexport default GeolocationButton\n","import React from 'react'\nimport Spinner from 'react-spinkit'\n\ninterface IProps {\n  address: string\n  isVisible: boolean\n  isResolving: boolean\n  onValidClick(): void\n}\n\nexport const ResolvedAddress: React.FC<IProps> = ({\n  address,\n  isVisible,\n  isResolving,\n  onValidClick,\n}) => {\n  if (isResolving) {\n    return (\n      <div className=\"address__input__box__resolved wait\">\n        <Spinner name=\"ball-beat\" fadeIn=\"none\" />\n      </div>\n    )\n  }\n  if (!isVisible) {\n    return null\n  }\n  return (\n    <div className=\"address__input__box__resolved\" onClick={onValidClick}>\n      {address}\n    </div>\n  )\n}\n\nexport default ResolvedAddress\n","import classnames from 'classnames'\nimport debounce from 'debounce'\nimport React, { Component } from 'react'\nimport { Input, InputProps } from 'reactstrap'\n\ninterface IProps {\n  onSearch(search: string): void\n  isVisible: boolean\n  isSearching: boolean\n  inputProps: InputProps\n}\n\ninterface IState {\n  value: string\n}\n\nclass SearchInput extends Component<IProps, IState> {\n  state = { value: '' }\n  componentDidMount() {\n    this.setFocus()\n  }\n  componentDidUpdate(nextProps: IProps) {\n    if (nextProps.isVisible !== this.props.isVisible) {\n      this.setFocus()\n    }\n  }\n  onSearch = debounce(this.props.onSearch, 2000)\n  onChange = ev => {\n    const value = ev.target.value || ''\n    this.setState({ value })\n    this.onSearch(value.trim())\n  }\n  onKeyPress = ev => {\n    if (ev.key === 'Enter') {\n      this.onSearch.clear()\n      this.props.onSearch(this.state.value.trim())\n    }\n  }\n  inputRef: Maybe<HTMLInputElement> = null\n  onInputMount = (ref: HTMLInputElement) => {\n    this.inputRef = ref\n  }\n  isVisible() {\n    return this.props.isVisible !== false\n  }\n  isSearching() {\n    return this.props.isSearching !== false\n  }\n  setFocus() {\n    if (this.isVisible() && this.inputRef !== null) {\n      this.inputRef.focus()\n    }\n  }\n  render() {\n    const { inputProps } = this.props\n    const isHidden = !this.isVisible() || this.isSearching()\n    return (\n      <Input\n        className={classnames({ address__input__hidden: isHidden })}\n        onChange={this.onChange}\n        onKeyPress={this.onKeyPress}\n        value={this.state.value}\n        innerRef={this.onInputMount}\n        autoFocus={true}\n        {...inputProps}\n      />\n    )\n  }\n}\n\nexport default SearchInput\n","import './AddressInput.css'\n\nimport { Trans } from '@lingui/macro'\nimport { useObserver } from 'mobx-react-lite'\nimport React from 'react'\nimport { Alert, InputGroup } from 'reactstrap'\nimport styled from 'styled-components'\n\nimport { useRoot } from '../../app/useRoot'\nimport { i18n } from '../../i18n'\nimport { TLocationModel } from '../../models/LocationModel'\nimport GeolocationButton from './GeolocationButton'\nimport ResolvedAddress from './ResolvedAddress'\nimport SearchInput from './SearchInput'\n\nconst AddressInputStyled = styled.div`\n  width: 90%;\n  min-width: 14rem;\n  margin: 1rem auto;\n  text-align: center;\n`\n\nconst AddressInputBoxStyled = styled.div`\n  border-radius: 1rem;\n  border: 1px solid #d4d4d4;\n  background-color: white;\n  height: 2.3rem;\n  overflow: hidden;\n  & input {\n    margin: 0.2rem 2rem 0.5rem 0.7rem;\n    background: transparent;\n    border: none;\n  }\n`\n\nexport const AddressInput: React.FC = () => {\n  const { location } = useRoot()\n  return useObserver(() => (\n    <AddressInputStyled>\n      <AddressInputBoxStyled>\n        <InputGroup size=\"sm\">\n          <ResolvedAddress\n            address={location.address || ''}\n            isVisible={location.hasAddress}\n            isResolving={location.isResolving}\n            onValidClick={location.clearAddress}\n          />\n          <SearchInput\n            inputProps={{\n              placeholder: i18n.t`Type address or choose it from map`,\n              autoComplete: 'shipping street-address',\n            }}\n            onSearch={location.withUserAddress}\n            isVisible={!location.hasAddress}\n            isSearching={location.isResolving}\n          />\n          <GeolocationButton\n            onClick={location.attemptGeolocation}\n            isVisible={location.isGeolocationAvailable && !location.isResolving}\n          />\n        </InputGroup>\n      </AddressInputBoxStyled>\n      {location.hasFinishedSearch ? renderErrorMessage(location) : null}\n    </AddressInputStyled>\n  ))\n}\n\nconst NoMouseAlert = styled(Alert)`\n  pointer-events: none;\n`\n\nfunction renderErrorMessage(location: TLocationModel) {\n  if (location.isResolved === false) {\n    return (\n      <NoMouseAlert color=\"danger\">\n        <Trans>Address was not recognized.</Trans>\n      </NoMouseAlert>\n    )\n  }\n  if (location.isStreetAddress === false) {\n    return (\n      <NoMouseAlert color=\"warning\">\n        <Trans>Please enter address with house number.</Trans>\n      </NoMouseAlert>\n    )\n  }\n  if (location.inDeliveryLocation === false) {\n    return (\n      <NoMouseAlert color=\"warning\">\n        <Trans>\n          Meal can't be delivered to your chosen address by any restaurant.\n        </Trans>\n      </NoMouseAlert>\n    )\n  }\n  return null\n}\n","import React from 'react'\n\nimport { PrimaryButton } from '../../common/Buttons'\nimport ButtonStripe from '../../common/ButtonStripe'\nimport { i18n } from '../../i18n'\n\ninterface IProps {\n  enabled: boolean\n  onClick(): void\n  onPrefetch(): void\n}\n\nexport const AddressSubmit: React.FC<IProps> = ({\n  enabled,\n  onClick,\n  onPrefetch,\n}) => (\n  <ButtonStripe>\n    <PrimaryButton\n      color=\"primary\"\n      disabled={!enabled}\n      onClick={onClick}\n      onMouseEnter={() => {\n        if (enabled) {\n          onPrefetch()\n        }\n      }}\n    >\n      {i18n.t`Confirm address`.toLocaleUpperCase()}\n    </PrimaryButton>\n  </ButtonStripe>\n)\n\nexport default AddressSubmit\n","import { useFullComputed } from '@speedlo/hooks'\nimport { reaction } from 'mobx'\nimport { useDisposable, useObserver } from 'mobx-react-lite'\nimport React from 'react'\n\nimport { useRoot } from '../../app/useRoot'\nimport { useGInitialLocation } from '../../graph/generated'\nimport { GeoPoint } from '../../helpers/gps'\nimport { logMap } from '../../helpers/logger'\nimport { MapPanning } from './atoms/MapPanning'\n\nexport const DeliveryMapPanning: React.FC = () => {\n  const { location, map } = useRoot()\n  const { data } = useGInitialLocation()\n\n  useDisposable(() =>\n    reaction(\n      () => map.clickPoint,\n      clickPoint => {\n        if (clickPoint) {\n          location.withUserLocation(clickPoint)\n          map.clearClickPoint()\n        }\n      },\n    ),\n  )\n\n  const panToGps = useFullComputed(\n    () => {\n      if (location.geoPoint) {\n        logMap('pan to user location', location.geoPoint)\n        return location.geoPoint\n      } else if (location.geolocationPoint) {\n        logMap('pan to geolocation', location.geolocationPoint)\n        return location.geolocationPoint\n      } else if (data && data.initialLocation) {\n        logMap('pan to initial location', data.initialLocation.gpsCoordinates)\n        return data.initialLocation.gpsCoordinates as GeoPoint\n      }\n      logMap('no pan location available')\n      return\n    },\n    [data],\n  )\n\n  return useObserver(() => <MapPanning gps={panToGps.get()} map={map} />)\n}\n","import './DeliveryMap.css'\n\nimport { when } from 'mobx'\nimport { useDisposable, useObserver } from 'mobx-react-lite'\nimport React, { useCallback } from 'react'\nimport { Marker } from 'react-google-maps'\n\nimport { useRoot } from '../../app/useRoot'\nimport { latLngToGps } from '../../helpers/gps'\nimport { AddressInput } from '../destination/AddressInput'\nimport { AddressSubmit } from './AddressSubmit'\nimport { DeliveryMapPanning } from './DeliveryMapPanning'\n\ninterface IProps {\n  onConfirm(): void\n}\n\nexport const DeliveryMap: React.FC<IProps> = ({ onConfirm }) => {\n  const { business, order, location } = useRoot()\n\n  const onSubmit = useCallback(\n    async () => {\n      if (location.branchId) {\n        order.setBranch(location.branchId)\n      }\n      await order.createDeliveryOrder()\n      onConfirm()\n    },\n    [onConfirm],\n  )\n\n  useDisposable(() =>\n    when(() => business.isValid, location.validateUserLocation),\n  )\n\n  return useObserver(() => (\n    <>\n      <DeliveryMapPanning />\n      {location.latLng ? (\n        <Marker\n          position={location.latLng}\n          defaultDraggable={true}\n          onDragEnd={({ latLng }) => {\n            location.withUserLocation(latLngToGps(latLng))\n          }}\n        />\n      ) : null}\n      <div className=\"delivery__map__address\">\n        <AddressInput />\n      </div>\n      <div className=\"delivery__map__submit\">\n        <AddressSubmit\n          enabled={location.isDeliveryAddress}\n          onClick={onSubmit}\n          onPrefetch={() => {\n            if (location.branchId) {\n              order.prefetchFoodMenu(location.branchId)\n            }\n          }}\n        />\n      </div>\n    </>\n  ))\n}\n","import React from 'react'\nimport { Field, FieldProps } from 'react-form'\nimport { FormFeedback, Input, InputProps } from 'reactstrap'\n\ninterface IProps\n  extends Omit<FieldProps<string>, 'render' | 'children'>,\n    Omit<InputProps, 'defaultValue'> {\n  showFeedback?: boolean\n}\n\nexport const FormTextInput: React.FC<IProps> = ({\n  field,\n  validate,\n  showFeedback = false,\n  ...inputProps\n}) => (\n  <Field\n    field={field}\n    validate={validate}\n    render={fieldApi => (\n      <>\n        <Input\n          {...inputProps}\n          value={fieldApi.value}\n          onChange={e => fieldApi.setValue(e.target.value)}\n          onBlur={() => fieldApi.setTouched(true)}\n          invalid={fieldApi.touched && Boolean(fieldApi.error)}\n        />\n        {showFeedback && <FormFeedback>{fieldApi.error}</FormFeedback>}\n      </>\n    )}\n  />\n)\n","import React from 'react'\nimport { FormGroup } from 'reactstrap'\n\nimport { FormTextInput } from '../../common/FormTextInput'\nimport { i18n } from '../../i18n'\n\nconst emailRx = /^(([^<>()\\[\\]\\.,;:\\s@\\\"]+(\\.[^<>()\\[\\]\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@(([^<>()[\\]\\.,;:\\s@\\\"]+\\.)+[^<>()[\\]\\.,;:\\s@\\\"]{2,})$/i\n\nexport const OrderEmailInputValidator = value => {\n  const email = value.trim()\n  if (email === '') {\n    return i18n.t`E-mail is mandatory`\n  }\n  if (!emailRx.test(email)) {\n    return i18n.t`E-mail format is not valid`\n  }\n  return null\n}\n\nexport const OrderEmailInput: React.FC = () => (\n  <FormGroup>\n    <FormTextInput\n      field=\"email\"\n      type=\"email\"\n      autoComplete=\"email\"\n      placeholder=\"E-mail\"\n      showFeedback={true}\n      validate={OrderEmailInputValidator}\n      data-testid=\"orderEmailInput\"\n    />\n  </FormGroup>\n)\n","import React from 'react'\nimport { FormGroup, InputGroup } from 'reactstrap'\n\nimport { FormTextInput } from '../../common/FormTextInput'\nimport { i18n } from '../../i18n'\n\nexport const OrderNameInput: React.FC = () => (\n  <FormGroup>\n    <InputGroup>\n      <FormTextInput\n        field=\"firstname\"\n        autoComplete=\"given-name\"\n        placeholder={i18n.t`First name`}\n        validate={value =>\n          value.trim() === '' ? i18n.t`First name is mandatory` : null\n        }\n        data-testid=\"orderNameInput__FirstName\"\n      />\n      <FormTextInput\n        field=\"lastname\"\n        autoComplete=\"family-name\"\n        placeholder={i18n.t`Last name`}\n        validate={value =>\n          value.trim() === '' ? i18n.t`Last name is mandatory` : null\n        }\n        data-testid=\"orderNameInput__LastName\"\n      />\n    </InputGroup>\n  </FormGroup>\n)\n","import React from 'react'\nimport { FormGroup, InputGroup } from 'reactstrap'\nimport UAParser from 'ua-parser-js'\n\nimport { FormTextInput } from '../../common/FormTextInput'\nimport { i18n } from '../../i18n'\n\nexport const OrderPhoneInputValidator = value =>\n  value.trim() === '' ? i18n.t`Phone is mandatory` : null\n\nexport const OrderPhonePrefixInputValidator = value =>\n  value.trim() === '' ? i18n.t`Phone prefix is mandatory` : null\n\nexport const OrderPhoneInput: React.FC = () => {\n  const agent = new UAParser(window.navigator.userAgent)\n  const isMobileSafari = agent.getBrowser().name === 'Mobile Safari'\n  return (\n    <FormGroup>\n      <InputGroup>\n        <FormTextInput\n          field=\"phonePrefix\"\n          autoComplete={isMobileSafari ? 'off' : 'tel-country-code'}\n          placeholder=\"+\"\n          validate={OrderPhonePrefixInputValidator}\n        />\n        <FormTextInput\n          field=\"phone\"\n          type=\"tel\"\n          autoComplete=\"tel-national\"\n          placeholder={i18n.t`Phone`}\n          validate={OrderPhoneInputValidator}\n          style={{ width: '55%' }}\n          data-testid=\"orderPhoneInput__Phone\"\n        />\n      </InputGroup>\n    </FormGroup>\n  )\n}\n","import { useDebounceCallback } from '@speedlo/hooks'\nimport React, { KeyboardEvent, useCallback, useRef, useState } from 'react'\nimport { FormGroup, Input, InputGroup } from 'reactstrap'\nimport styled from 'styled-components'\n\nimport { useRoot } from '../../app/useRoot'\nimport { SecondaryButton } from '../../common/Buttons'\nimport {\n  useMOrderPromoAdd,\n  useMOrderPromoRemove,\n  useQOrderPromoCodes,\n} from '../../graph/generated'\nimport { FPromoCode } from '../../graph/types'\nimport { i18n } from '../../i18n'\n\ntype TPromoCode = FPromoCode.Fragment\n\ninterface IProps {\n  codes: ReadonlyArray<TPromoCode>\n  onCodeAdd(codeInput: string): Promise<void>\n  onCodeRemove(codeId: ID): void\n  autoSubmitAfterTimeout?: number\n}\n\nconst CodesPanel = styled.div`\n  margin-top: 0.5rem;\n  & button {\n    margin-right: 0.5rem;\n    font-size: 0.7rem;\n  }\n`\n\nexport function OrderPromoInputUI({\n  codes,\n  onCodeAdd,\n  onCodeRemove,\n  autoSubmitAfterTimeout = 2000,\n}: IProps) {\n  const inputRef = useRef<HTMLInputElement>(null)\n  const [isValidating, setValidating] = useState(false)\n\n  const addCode = useCallback(\n    async () => {\n      if (!inputRef.current || inputRef.current.disabled) {\n        return\n      }\n      const code = inputRef.current.value.trim()\n      if (code.length === 0) {\n        return\n      }\n      setValidating(true)\n      inputRef.current.disabled = true\n      inputRef.current.value = i18n.t`Validating promo code ${code}...`\n      try {\n        await onCodeAdd(code)\n        if (inputRef.current) {\n          inputRef.current.value = ''\n        }\n      } catch (err) {\n        if (inputRef.current) {\n          inputRef.current.value = code\n        }\n      } finally {\n        setValidating(false)\n        if (inputRef.current) {\n          inputRef.current.disabled = false\n          inputRef.current.focus()\n        }\n      }\n    },\n    [onCodeAdd],\n  )\n\n  const onChange = useDebounceCallback(addCode, autoSubmitAfterTimeout)\n\n  const onKeyDown = useCallback((ev: KeyboardEvent<HTMLInputElement>) => {\n    if (ev.key === 'Enter') {\n      addCode()\n      ev.preventDefault()\n    }\n  }, [])\n\n  return (\n    <FormGroup>\n      <InputGroup>\n        <Input\n          innerRef={inputRef}\n          autoComplete=\"off\"\n          disabled={isValidating}\n          placeholder={i18n.t`Promo codes`}\n          onChange={onChange}\n          onKeyDown={onKeyDown}\n          onBlur={addCode}\n          onPaste={addCode}\n        />\n      </InputGroup>\n      <CodesPanel>\n        {codes.map(({ id, code }) => (\n          <SecondaryButton key={id} onClick={() => onCodeRemove(id)}>\n            {`${code} `}\n          </SecondaryButton>\n        ))}\n      </CodesPanel>\n    </FormGroup>\n  )\n}\n\nconst OrderPromoInput: React.FC = () => {\n  const { order } = useRoot()\n\n  const { data, loading } = useQOrderPromoCodes({ orderId: order.orderId! })\n\n  const [addCodeMutation] = useMOrderPromoAdd()\n\n  const onCodeAdd = React.useCallback(async (code: string) => {\n    if (!order.orderId) {\n      return\n    }\n    const result = await addCodeMutation({\n      orderId: order.orderId,\n      code,\n    })\n    if (result) {\n      order.setCartRefresh(true)\n      const { userErrors } = result.addOrderPromoCode\n      if (userErrors.length) {\n        order.submitFailed(userErrors)\n      }\n    }\n  }, [])\n\n  const [removeCodeMutation] = useMOrderPromoRemove()\n\n  const onCodeRemove = React.useCallback((codeId: ID) => {\n    if (order.orderId) {\n      order.setCartRefresh(true)\n      removeCodeMutation({ codeId, orderId: order.orderId })\n    }\n  }, [])\n\n  return (\n    <OrderPromoInputUI\n      codes={loading ? [] : data.order.promoCodes}\n      onCodeAdd={onCodeAdd}\n      onCodeRemove={onCodeRemove}\n    />\n  )\n}\n\nexport default OrderPromoInput\n","import './OrderPaymentMethod.css'\n\nimport { DateFormat, Trans } from '@lingui/react'\nimport { useObserver } from 'mobx-react-lite'\nimport React from 'react'\n\nimport { useRoot } from '../../app/useRoot'\nimport { SelectButtonThemed } from '../../common/Buttons'\n\nexport const OrderTimeButtons: React.FC = () => {\n  const { order } = useRoot()\n\n  return useObserver(() => {\n    if (!order.delayedOrderEnabled) {\n      return null\n    }\n    return (\n      <div className=\"order__payment__method\">\n        <SelectButtonThemed\n          data-testid=\"orderTimeButtonNow\"\n          selected={order.deliverAt === undefined}\n          onClick={() => order.setDeliverAt(undefined)}\n        >\n          <Trans>When possible</Trans>\n        </SelectButtonThemed>\n        <SelectButtonThemed\n          data-testid=\"orderTimeButtonLater\"\n          selected={order.deliverAt !== undefined}\n          onClick={order.openTimePicker}\n        >\n          {order.deliverAt ? (\n            <DateFormat\n              value={order.deliverAt}\n              format={{ weekday: 'long', hour: 'numeric', minute: 'numeric' }}\n            />\n          ) : (\n            <Trans>Choose time</Trans>\n          )}\n        </SelectButtonThemed>\n      </div>\n    )\n  })\n}\n","import React from 'react'\n\nimport { OrderEmailInput } from './OrderEmailInput'\nimport { OrderNameInput } from './OrderNameInput'\nimport { OrderNoteInput } from './OrderNoteInput'\nimport { OrderPhoneInput } from './OrderPhoneInput'\nimport OrderPromoInput from './OrderPromoInput'\nimport { OrderTimeButtons } from './OrderTimeButtons'\n\nexport const OrderFormInputs = () => (\n  <>\n    <OrderNameInput />\n    <OrderPhoneInput />\n    <OrderEmailInput />\n    <OrderNoteInput />\n    <OrderTimeButtons />\n    <OrderPromoInput />\n  </>\n)\n","import { t } from '@lingui/macro'\nimport React, { CSSProperties } from 'react'\n\nimport { i18n } from '../../i18n'\n\ninterface IProps {\n  minCount: number\n  maxCount: number\n  isValid: boolean\n}\n\nexport const CategoryValidationMessage: React.FC<IProps> = ({\n  minCount,\n  maxCount,\n  isValid,\n}) => {\n  let message = ''\n  if (minCount === 0) {\n    if (maxCount > 0) {\n      message = i18n._(t`maximum ${maxCount}`)\n    } else {\n      return null\n    }\n  } else if (maxCount === 0) {\n    message = i18n._(t`minimum ${minCount}`)\n  } else if (minCount === maxCount) {\n    const count = minCount\n    message = i18n._(t`only ${count}`)\n  } else {\n    message = i18n._(t`minimum ${minCount} and maximum ${maxCount}`)\n  }\n  const style: CSSProperties = {}\n  if (!isValid) {\n    style.color = 'red'\n  }\n  return (\n    <span style={style}>\n      {'('}\n      {message}\n      {')'}\n    </span>\n  )\n}\n","import React from 'react'\nimport { ButtonProps } from 'reactstrap'\nimport styled from 'styled-components'\n\nimport { PickerButton } from '../../common/PickerButton'\nimport { GCartRecipe } from '../../graph/types'\n\ninterface IProps extends ButtonProps {\n  sidedish: GCartRecipe.SideDishes\n  isSelected: boolean\n  canBeSelected: boolean\n}\n\nconst Name = styled.div`\n  float: left;\n  text-align: left;\n  white-space: normal;\n  max-width: 13rem;\n`\n\nconst Price = styled.div`\n  font-weight: bold;\n  float: right;\n`\n\nexport const SidedishCheckbox: React.FC<IProps> = ({\n  sidedish,\n  ...buttonProps\n}) => (\n  <PickerButton\n    size=\"xs\"\n    outline={true}\n    width=\"17.5rem\"\n    data-testid={`sidedishCheckbox__${sidedish.id}`}\n    {...buttonProps}\n  >\n    <Name>{sidedish.nameLabel}</Name>\n    <Price>{sidedish.price.formattedValue}</Price>\n  </PickerButton>\n)\n","import { RM } from '../../helpers/ramda'\n\nexport interface ISidedishCategory {\n  id: ID\n  minCount: number\n  maxCount: number\n  sideDishes: ReadonlyArray<{\n    id: ID\n  }>\n}\n\nexport function useSidedishValidator(\n  categories: ReadonlyArray<ISidedishCategory>,\n  selection: ReadonlyArray<ID>,\n) {\n  const sidedishesInCategory = categories.reduce(\n    (result, category) => {\n      result[category.id] = category.sideDishes.map(RM.prop('id'))\n      return result\n    },\n    {} as Record<ID, ID[]>,\n  )\n\n  const categorySelection = (id: ID) =>\n    RM.intersection(sidedishesInCategory[id], selection).length\n\n  const canBeSelected = ({ maxCount, id }: ISidedishCategory) => {\n    return maxCount === 0 || categorySelection(id) < maxCount\n  }\n\n  const categoryIsValid = ({ minCount, id }: ISidedishCategory) => {\n    return minCount === 0 || categorySelection(id) >= minCount\n  }\n\n  return { canBeSelected, categoryIsValid }\n}\n","import './SidedishPicker.css'\n\nimport React, { Fragment } from 'react'\n\nimport { GCartRecipeFragment } from '../../graph/generated'\nimport { CategoryValidationMessage } from './CategoryValidationMessage'\nimport { SidedishCheckbox } from './SidedishCheckbox'\nimport { useSidedishValidator } from './useSidedishValidator'\n\ninterface IProps {\n  recipe: GCartRecipeFragment\n  selection: ReadonlyArray<ID>\n  onToggle(item: ID): void\n}\n\nexport const SidedishPicker: React.FC<IProps> = ({\n  recipe,\n  selection,\n  onToggle,\n}) => {\n  const { canBeSelected, categoryIsValid } = useSidedishValidator(\n    recipe.categories,\n    selection,\n  )\n\n  return (\n    <div className=\"food__sidedish__picker\">\n      {recipe.categories.map(category => (\n        <Fragment key={category.id}>\n          <div className=\"food__sidedish__picker__category\">\n            {category.nameLabel}{' '}\n            <CategoryValidationMessage\n              minCount={category.minCount}\n              maxCount={category.maxCount}\n              isValid={categoryIsValid(category)}\n            />\n          </div>\n          {category.sideDishes.map(sidedish => (\n            <SidedishCheckbox\n              key={`${sidedish.id}-${category.id}`}\n              sidedish={sidedish}\n              isSelected={selection.includes(sidedish.id)}\n              canBeSelected={canBeSelected(category)}\n              onClick={() => onToggle(sidedish.id)}\n            />\n          ))}\n        </Fragment>\n      ))}\n    </div>\n  )\n}\n","import React from 'react'\n\nimport { PrimaryButton } from '../../common/Buttons'\nimport { GCartRecipeFragment } from '../../graph/generated'\nimport { i18n } from '../../i18n'\nimport { useSidedishValidator } from '../sidedishPicker/useSidedishValidator'\n\ninterface IProps {\n  selection: ReadonlyArray<ID>\n  recipe: GCartRecipeFragment\n  onConfirm(): Promise<void>\n}\n\nexport const CartOrderButton: React.FC<IProps> = ({\n  selection,\n  recipe,\n  onConfirm,\n}) => {\n  const [isConfirming, setConfirming] = React.useState(false)\n  const { categoryIsValid } = useSidedishValidator(recipe.categories, selection)\n\n  return (\n    <PrimaryButton\n      className=\"modal__body__button\"\n      disabled={isConfirming || !recipe.categories.every(categoryIsValid)}\n      data-testid=\"cartOrderButton\"\n      onClick={async () => {\n        setConfirming(true)\n        await onConfirm()\n        setConfirming(false)\n      }}\n    >\n      {i18n\n        .plural({\n          value: selection.length,\n          0: 'Order without sidedish',\n          one: 'Order with this sidedish',\n          other: 'Order with # sidedishes',\n        })\n        .toLocaleUpperCase()}\n    </PrimaryButton>\n  )\n}\n","import '../../common/Modal.css'\n\nimport { Trans } from '@lingui/macro'\nimport React from 'react'\nimport { Container, Modal, ModalBody, ModalHeader } from 'reactstrap'\n\nimport Pacman from '../../common/Pacman'\nimport { GCartRecipe } from '../../graph/types'\nimport { RM } from '../../helpers/ramda'\nimport { SidedishPicker } from '../sidedishPicker/SidedishPicker'\nimport { CartOrderButton } from './CartOrderButton'\n\ninterface IProps {\n  recipe: GCartRecipe.Fragment | undefined\n  initialSelection?: ID[]\n  isLoading: boolean\n  onConfirm(selection: ID[]): Promise<void>\n  onClose(): void\n}\n\nexport const CartModal: React.FC<IProps> = ({\n  recipe,\n  initialSelection = [],\n  onConfirm,\n  onClose,\n  isLoading,\n}) => {\n  const [selection, updateSelection] = React.useState(initialSelection)\n\n  const onConfirmAndClose = async () => {\n    await onConfirm(selection)\n    onClose()\n  }\n\n  const onToggleSidedish = (sidedishId: ID) => {\n    updateSelection(sel => {\n      if (sel.includes(sidedishId)) {\n        return RM.reject(RM.equals(sidedishId), sel)\n      } else {\n        return RM.append(sidedishId, sel)\n      }\n    })\n  }\n\n  return (\n    <Modal\n      isOpen={true}\n      toggle={onClose}\n      className=\"modal__container\"\n      autoFocus={true}\n      backdrop=\"static\"\n      fade={false}\n    >\n      <ModalHeader toggle={onClose} tag={Container} className=\"modal__header\">\n        <span>\n          <Trans>Do you want to add something?</Trans>\n        </span>\n      </ModalHeader>\n      <ModalBody className=\"modal__body\">\n        {isLoading || !recipe ? (\n          <div className=\"modal__body__content\">\n            <Pacman />\n          </div>\n        ) : (\n          <>\n            <div className=\"modal__body__content\">\n              <h3 className=\"modal__body__food__name\">{recipe.nameLabel}</h3>\n              <span className=\"modal__body__food_description\">\n                {recipe.descriptionLabel}\n              </span>\n              <SidedishPicker\n                recipe={recipe}\n                selection={selection}\n                onToggle={onToggleSidedish}\n              />\n            </div>\n            <div className=\"modal__body__button__line\">\n              <div className=\"modal__body__button__strip\" />\n              <CartOrderButton\n                recipe={recipe}\n                selection={selection}\n                onConfirm={onConfirmAndClose}\n              />\n            </div>\n          </>\n        )}\n      </ModalBody>\n    </Modal>\n  )\n}\n","import {\n  addMinutes,\n  endOfMinute,\n  getMinutes,\n  startOfMinute,\n  subMinutes,\n} from 'date-fns'\n\nexport function createTimeSteps(start: Date, end: Date, minuteStep: number) {\n  let current = startOfMinute(timeClampUp(start, minuteStep))\n  const steps: Date[] = []\n  const endMinute = endOfMinute(subMinutes(end, 1))\n  do {\n    steps.push(current)\n    current = addMinutes(current, minuteStep)\n  } while (current <= endMinute)\n  return steps\n}\n\nexport function timeClampUp(time: Date, minuteStep: number) {\n  return addMinutes(timeClampDown(time, minuteStep), minuteStep)\n}\n\nexport function timeClampDown(time: Date, minuteStep: number) {\n  return subMinutes(time, getMinutes(time) % minuteStep)\n}\n","import React from 'react'\nimport { ButtonProps } from 'reactstrap'\nimport styled from 'styled-components'\n\nimport { PickerButton } from '../../common/PickerButton'\nimport { formatTime } from '../../helpers/formats'\n\ninterface IProps extends ButtonProps {\n  time: Date\n  isSelected: boolean\n  canBeSelected: boolean\n}\n\nconst Time = styled.div`\n  font-size: 1.2rem;\n`\n\nexport const TimePickerButton: React.FC<IProps> = ({\n  time,\n  ...buttonProps\n}) => (\n  <PickerButton\n    size=\"xs\"\n    outline={true}\n    width=\"10rem\"\n    data-testid={`timePickerButton__${time.getTime()}`}\n    {...buttonProps}\n  >\n    <Time>{formatTime(time)}</Time>\n  </PickerButton>\n)\n","import { DateFormat } from '@lingui/macro'\nimport {\n  closestIndexTo,\n  eachDayOfInterval,\n  isEqual,\n  startOfDay,\n} from 'date-fns'\nimport { isWithinInterval } from 'date-fns/fp'\nimport React, { Fragment } from 'react'\nimport styled from 'styled-components'\n\nimport { createTimeSteps } from './createTimeSteps'\nimport { TimePickerButton } from './TimePickerButton'\n\ninterface IProps {\n  minDate: Date\n  maxDate: Date\n  minuteStep: number\n  onStepChange(step: Date): void\n  initialTime?: Date\n  filterIntervals?: Interval[]\n}\n\nconst TimePickerContainer = styled.div`\n  margin-top: 1rem;\n`\n\nconst TimePickerDay = styled.div`\n  font-size: 1rem;\n  font-weight: bold;\n  text-align: left;\n  margin: 0 0 0.2rem 0.2rem;\n`\n\nexport const TimePicker: React.FC<IProps> = ({\n  minDate,\n  maxDate,\n  minuteStep,\n  onStepChange,\n  initialTime,\n  filterIntervals = [],\n}) => {\n  const steps = React.useMemo(\n    () => {\n      const allSteps = createTimeSteps(minDate, maxDate, minuteStep)\n      if (filterIntervals.length) {\n        return allSteps.filter(step =>\n          filterIntervals.some(isWithinInterval(step)),\n        )\n      }\n      return allSteps\n    },\n    [minDate, maxDate, minuteStep, filterIntervals],\n  )\n\n  const days = React.useMemo(\n    () => {\n      return eachDayOfInterval({ start: minDate, end: maxDate })\n    },\n    [minDate, maxDate],\n  )\n\n  const [stepIdx, setStepIdx] = React.useState(0)\n\n  React.useEffect(\n    () => {\n      if (initialTime) {\n        setStepIdx(closestIndexTo(initialTime, steps))\n      }\n    },\n    [initialTime],\n  )\n\n  React.useEffect(() => {\n    onStepChange(steps[stepIdx])\n  }, [])\n\n  return (\n    <TimePickerContainer>\n      {days.map(day => (\n        <Fragment key={day.getDate()}>\n          <TimePickerDay>\n            <DateFormat\n              value={day}\n              format={{ month: 'long', day: 'numeric', weekday: 'long' }}\n            />\n          </TimePickerDay>\n          {steps.map((step, idx) =>\n            isEqual(day, startOfDay(step)) ? (\n              <TimePickerButton\n                key={step.getTime()}\n                time={step}\n                isSelected={idx === stepIdx}\n                canBeSelected={true}\n                onClick={() => {\n                  setStepIdx(idx)\n                  onStepChange(step)\n                }}\n              />\n            ) : null,\n          )}\n        </Fragment>\n      ))}\n    </TimePickerContainer>\n  )\n}\n","import '../../common/Modal.css'\n\nimport { Trans } from '@lingui/macro'\nimport { isoDate } from '@speedlo/graphql'\nimport { addMinutes, isAfter } from 'date-fns'\nimport { useObserver } from 'mobx-react-lite'\nimport React from 'react'\nimport { Container, Modal, ModalBody, ModalHeader } from 'reactstrap'\n\nimport { useRoot } from '../../app/useRoot'\nimport { PrimaryButton } from '../../common/Buttons'\nimport {\n  useMOrderDeliveryTime,\n  useQOrderTimePicker,\n} from '../../graph/generated'\nimport { RM } from '../../helpers/ramda'\nimport { i18n } from '../../i18n'\nimport { TimePicker } from '../timePicker/TimePicker'\n\nexport const OrderTimePicker: React.FC = () => {\n  const { order } = useRoot()\n\n  const { data, loading } = useQOrderTimePicker({ branchId: order.branchId! })\n\n  const [updateOrder] = useMOrderDeliveryTime()\n\n  const selectedTime = React.useRef<Date | undefined>(order.deliverAt)\n  const onConfirmAndClose = () => {\n    const time = selectedTime.current\n    updateOrder({\n      orderId: order.orderId!,\n      deliverAt: time && isoDate(time),\n    })\n    order.setDeliverAt(time)\n    order.closeTimePicker()\n  }\n\n  const getStartTime = () => {\n    const { companyBranch } = data\n    const openAt =\n      companyBranch.isOpen || !companyBranch.willOpenAt\n        ? new Date()\n        : new Date(companyBranch.willOpenAt)\n    return openAt\n  }\n\n  const getEndTime = () => {\n    const { companyBranch } = data\n    if (companyBranch.isOpen && companyBranch.willCloseAt) {\n      return new Date(companyBranch.willCloseAt)\n    }\n    const nextBusinessHour = companyBranch.businessHours.find(\n      RM.propEq('closed', false),\n    )\n    return nextBusinessHour ? new Date(nextBusinessHour.closeAt) : null\n  }\n\n  const getFilterIntervals = (): Interval[] => {\n    const { companyBranch } = data\n    return companyBranch.businessHours\n      .filter(RM.propEq('closed', true))\n      .map(bhour => ({\n        start: new Date(bhour.openAt),\n        end: new Date(bhour.closeAt),\n      }))\n  }\n\n  const getMinuteOffset = () => {\n    const { defaultDeliveryTime, defaultPickupTime } = data.companyBranch\n\n    if (order.usingDeliveryOrderMethod) {\n      return defaultDeliveryTime\n    }\n    if (order.usingPickupOrderMethod) {\n      return defaultPickupTime\n    }\n\n    return 0\n  }\n\n  const renderModalContent = () => {\n    if (loading) {\n      return null\n    }\n\n    const minDate = getStartTime()\n    const maxDate = getEndTime()\n    if (maxDate === null || isAfter(minDate, maxDate)) {\n      return (\n        <Trans>\n          It's not possible to pick a specific order time at this moment.\n        </Trans>\n      )\n    }\n\n    const minuteOffset = getMinuteOffset()\n\n    return (\n      <TimePicker\n        minuteStep={15}\n        minDate={addMinutes(minDate, minuteOffset)}\n        maxDate={addMinutes(maxDate, minuteOffset)}\n        initialTime={selectedTime.current}\n        filterIntervals={getFilterIntervals()}\n        onStepChange={time => (selectedTime.current = time)}\n      />\n    )\n  }\n\n  React.useEffect(\n    () => {\n      if (\n        data &&\n        data.companyBranch &&\n        data.companyBranch.delayedDeliveryEnabled\n      ) {\n        order.enableDelayedOrder()\n      }\n    },\n    [data],\n  )\n\n  const header = order.usingDeliveryOrderMethod\n    ? i18n.t`Deliver at what time?`\n    : i18n.t`When you will pickup the order?`\n\n  return useObserver(() => (\n    <Modal\n      isOpen={order.timePickerOpen}\n      toggle={order.closeTimePicker}\n      className=\"modal__container\"\n      autoFocus={true}\n      backdrop=\"static\"\n      fade={false}\n    >\n      <ModalHeader\n        toggle={order.closeTimePicker}\n        tag={Container}\n        className=\"modal__header\"\n      >\n        <span>{header}</span>\n      </ModalHeader>\n      <ModalBody className=\"modal__body\">\n        <div className=\"modal__body__content\">{renderModalContent()}</div>\n        <div className=\"modal__body__button__line\">\n          <div className=\"modal__body__button__strip\" />\n          <PrimaryButton\n            onClick={onConfirmAndClose}\n            size=\"md\"\n            className=\"modal__body__button\"\n          >\n            {i18n.t`Confirm time`.toLocaleUpperCase()}\n          </PrimaryButton>\n        </div>\n      </ModalBody>\n    </Modal>\n  ))\n}\n","import React from 'react'\nimport { Field, FieldType } from 'react-form'\nimport { Input } from 'reactstrap'\nimport styled from 'styled-components'\n\ninterface IProps {\n  field: FieldType\n  defaultValue?: boolean\n  validate?(value: boolean): string | null\n}\n\nconst CheckboxContainerStyled = styled.div`\n  display: flex;\n  margin-bottom: 0.5rem;\n`\n\nconst CheckboxStyled = styled(Input)`\n  -webkit-appearance: none;\n  -moz-appearance: none;\n  background-color: white;\n  border: 1px solid;\n  border-color: ${({ invalid }: { invalid: boolean }) =>\n    invalid ? 'red' : '#c5c5c5'};\n  width: 2rem;\n  height: 2rem;\n  min-width: 2rem;\n  border-radius: 0.25rem;\n  position: relative;\n  margin: 0;\n  outline: none;\n  &:checked {\n    background-color: white;\n  }\n  &:checked:after {\n    content: '\\\\2714';\n    font-size: 2rem;\n    position: absolute;\n    top: -0.5rem;\n    left: 0.1rem;\n    color: #1d1d1d;\n    overflow: hidden;\n  }\n`\n\nconst LabelStyled = styled.div`\n  margin: 0 0 0 0.8rem;\n  vertical-align: top;\n`\n\nexport const FormInputCheckbox: React.FC<IProps> = ({\n  field,\n  defaultValue = false,\n  validate,\n  children,\n  ...props\n}) => (\n  <Field field={field} defaultValue={defaultValue} validate={validate}>\n    {fieldApi => (\n      <CheckboxContainerStyled>\n        <CheckboxStyled\n          type=\"checkbox\"\n          value={fieldApi.value}\n          onChange={checked => fieldApi.setValue(checked.target.checked)}\n          invalid={fieldApi.touched && Boolean(fieldApi.error)}\n          {...props}\n        />\n        <LabelStyled>{children}</LabelStyled>\n      </CheckboxContainerStyled>\n    )}\n  </Field>\n)\n","import { observable } from 'mobx'\nimport { useObserver } from 'mobx-react-lite'\nimport React, { useCallback, useRef } from 'react'\nimport { Button, Collapse } from 'reactstrap'\nimport styled from 'styled-components'\n\nimport { useRoot } from '../../app/useRoot'\nimport { FormInputCheckbox } from '../../common/FormInputCheckbox'\nimport { i18n } from '../../i18n'\nimport { TAgreement } from '../../models/OrderModel'\n\nconst ButtonStyled = styled(Button)`\n  padding: 0 0.5rem;\n  font-size: 0.8rem;\n  color: darkgray;\n`\n\nconst GdprAgreementStyled = styled.div`\n  font-size: 0.8rem !important;\n  color: darkgray;\n  margin: 0.5rem 0 0.5rem 0;\n  & .row {\n    margin: 0;\n  }\n`\n\nconst hideConfirmed = (agreement: TAgreement) => {\n  if (agreement.isConfirmed) {\n    // it's necessary to hide confirmed agreements like this\n    // because react-form already has validation errors stored\n    // for mandatory ones and is unable to forget it by not rendering field\n    return { style: { display: 'none' } }\n  }\n  return {}\n}\n\nexport const OrderAgreements: React.FC = () => {\n  const descOpen = useRef(observable.array<ID>([])).current\n  const toggleId = useCallback(\n    (id: ID) => () => {\n      if (descOpen.includes(id)) {\n        descOpen.remove(id)\n      } else {\n        descOpen.push(id)\n      }\n    },\n    [],\n  )\n  const { order } = useRoot()\n  return useObserver(() => (\n    <>\n      {order.agreements.map((agreement, idx) => (\n        <div key={agreement.id} {...hideConfirmed(agreement)}>\n          <FormInputCheckbox\n            field={['agreements', idx, 'isConfirmed']}\n            validate={checked =>\n              agreement.isMandatory && !(agreement.isConfirmed || checked)\n                ? 'Agreement is mandatory'\n                : null\n            }\n            data-testid={`orderAgreement__Check__${agreement.id}`}\n          >\n            <span dangerouslySetInnerHTML={{ __html: agreement.name }} />\n            {agreement.isMandatory && ' * '}\n            {agreement.description && (\n              <>\n                <ButtonStyled\n                  color=\"link\"\n                  onClick={toggleId(agreement.id)}\n                  data-testid={`orderAgreement__MoreButton__${agreement.id}`}\n                >\n                  {descOpen.includes(agreement.id)\n                    ? i18n.t`Less`.toLocaleLowerCase()\n                    : i18n.t`More...`.toLocaleLowerCase()}\n                </ButtonStyled>\n                <Collapse isOpen={descOpen.includes(agreement.id)}>\n                  <GdprAgreementStyled\n                    data-testid={`orderAgreement__Info__${agreement.id}`}\n                    dangerouslySetInnerHTML={{\n                      __html: agreement.description,\n                    }}\n                  />\n                </Collapse>\n              </>\n            )}\n          </FormInputCheckbox>\n        </div>\n      ))}\n    </>\n  ))\n}\n","module.exports = __webpack_public_path__ + \"static/media/logo-commerce-01.6d4e5108.svg\";","module.exports = __webpack_public_path__ + \"static/media/logo-commerce-02.8afb6c6f.svg\";","module.exports = __webpack_public_path__ + \"static/media/logo-doveze.e13c0122.svg\";","module.exports = __webpack_public_path__ + \"static/media/logo-gopay.48aa4030.png\";","import React from 'react'\nimport { Col } from 'reactstrap'\n\nexport const ColStyle = ({ children }) => (\n  <Col className=\"pl-sm-0\" sm=\"12\" md=\"12\" lg=\"10\" xl=\"8\">\n    {children}\n  </Col>\n)\n\nexport const ColStyleLeft = ({ children }) => (\n  <Col className=\"pl-sm-0\" sm=\"8\" md=\"8\" lg=\"6\" xl=\"5\">\n    {children}\n  </Col>\n)\n\nexport const ColStyleRight = ({ children }) => (\n  <Col className=\"pl-sm-0\" sm=\"4\" md=\"4\" lg=\"4\" xl=\"3\">\n    {children}\n  </Col>\n)\n","import { SECOND, useNow, useTimer } from '@speedlo/hooks'\nimport { differenceInMinutes } from 'date-fns'\n\nimport { FCompanyBranchStatusFragment } from '../graph/generated'\n\nexport type TStatus = FCompanyBranchStatusFragment\n\nexport type TStatusDecision = 'Open' | 'Closed' | 'ClosingSoon' | 'OpeningSoon'\n\ninterface IProps {\n  status: TStatus\n  updateInterval?: number\n  openSoonThresholdInMinutes?: number\n  closeSoonThresholdInMinutes?: number\n  onRefresh?(): void\n}\n\nexport interface IShopStatus {\n  decision: TStatusDecision\n  openingIn: number\n  closingIn: number\n}\n\nexport function useShopStatus({\n  status,\n  updateInterval = 30 * SECOND,\n  openSoonThresholdInMinutes = 30,\n  closeSoonThresholdInMinutes = 30,\n}: IProps) {\n  const getNow = useNow()\n\n  useTimer({\n    interval: updateInterval,\n    enabled: Boolean(updateInterval),\n  })\n\n  const now = getNow()\n  const { isOpen, willCloseAt, willOpenAt } = status\n\n  let decision: TStatusDecision\n\n  const openingIn = willOpenAt ? differenceInMinutes(willOpenAt, now) : 0\n  const closingIn = willCloseAt ? differenceInMinutes(willCloseAt, now) : 0\n\n  if (isOpen) {\n    if (willCloseAt && closingIn <= 0) {\n      decision = 'Closed'\n    } else {\n      decision = isSoon(willCloseAt, closeSoonThresholdInMinutes, now)\n        ? 'ClosingSoon'\n        : 'Open'\n    }\n  } else {\n    if (willOpenAt && openingIn <= 0) {\n      decision = 'Open'\n    } else {\n      decision = isSoon(willOpenAt, openSoonThresholdInMinutes, now)\n        ? 'OpeningSoon'\n        : 'Closed'\n    }\n  }\n\n  const shopStatus: IShopStatus = {\n    decision,\n    openingIn,\n    closingIn,\n  }\n  return shopStatus\n}\n\nfunction isSoon(time: Maybe<string>, threshold: number, now: Date) {\n  return time ? Math.abs(differenceInMinutes(time, now)) <= threshold : false\n}\n","import React from 'react'\n\nimport { FAddressFragment } from '../graph/generated'\nimport { i18n } from '../i18n'\n\ninterface IProps {\n  address?: FAddressFragment\n}\n\nexport const ShopAddress: React.FC<IProps> = ({ address }) => {\n  if (!address || !address.location) {\n    return <span>{i18n.t`Unknown address`}</span>\n  }\n  const { location } = address\n  return (\n    <span>{`${location.street} ${location.houseNumber},\\n ${\n      location.city\n    }`}</span>\n  )\n}\n","import React from 'react'\nimport styled from 'styled-components'\n\ninterface IProps {\n  className: string\n  imageName: string\n  fallbackColor?: string\n  fixed?: boolean\n  size?: 'cover' | 'contain' | 'inherit'\n  children?: any\n  component?: any\n}\n\nexport const BackgroundThemed: React.FC<IProps> = ({\n  imageName,\n  fallbackColor = '#5b453c',\n  fixed = false,\n  size = 'inherit',\n  children,\n  component = 'div',\n  ...otherProps\n}) =>\n  React.createElement(\n    styled(component)`\n      background-image: ${props => `url(${props.theme[imageName]})`};\n      background-attachment: ${props => (fixed ? 'fixed' : 'inherit')};\n      background-repeat: no-repeat;\n      background-position: left top;\n      background-size: ${props => size};\n    `,\n    otherProps,\n    children,\n  )\n\nexport default BackgroundThemed\n","import { useObserver } from 'mobx-react-lite'\nimport React from 'react'\nimport { GoogleMap, GoogleMapProps, withGoogleMap } from 'react-google-maps'\nimport styled from 'styled-components'\n\nimport { TMapModel } from '../models/MapModel'\n\ninterface IBaseMapProps extends GoogleMapProps {\n  model: TMapModel\n}\n\nconst MapContainerStyled = styled.div`\n  border-radius: 0 0 0.5rem 0.5rem;\n  overflow: hidden;\n  height: calc(100% - 3.75rem);\n`\n\nconst MapElement = styled.div`\n  height: 100%;\n  position: relative;\n`\n\nconst BaseMapContainer = withGoogleMap(({ children }) => <>{children}</>)\n\nconst getMapOptions = (): google.maps.MapOptions => {\n  return {\n    streetViewControl: false,\n    mapTypeControl: false,\n    fullscreenControl: false,\n    zoomControlOptions: {\n      position: google.maps.ControlPosition.RIGHT_TOP,\n    },\n  }\n}\n\nexport const BaseMap: React.FC<IBaseMapProps> = ({ model, children }) => {\n  return useObserver(() => (\n    <BaseMapContainer\n      containerElement={\n        <MapContainerStyled\n          className=\"map__container\"\n          data-testid=\"googleMap\"\n        />\n      }\n      mapElement={<MapElement />}\n    >\n      <GoogleMap\n        ref={model.setMapRef}\n        zoom={model.zoom}\n        center={model.center}\n        onCenterChanged={model.updatePosition}\n        onZoomChanged={model.updateZoom}\n        onClick={model.onClick}\n        options={getMapOptions()}\n      >\n        {children}\n      </GoogleMap>\n    </BaseMapContainer>\n  ))\n}\n","import { buildQuery } from './buildQuery'\n\nexport { buildQuery }\n","import { Plural, Trans } from '@lingui/react'\nimport { useObserver } from 'mobx-react-lite'\nimport React from 'react'\n\nimport { useRoot } from '../../app/useRoot'\nimport { AlertModal } from '../../common/AlertModal'\nimport { FCompanyBranchStatus } from '../../graph/types'\nimport { useShopStatus } from '../../hooks/useShopStatus'\nimport { i18n } from '../../i18n'\n\ninterface IProps {\n  status: FCompanyBranchStatus.Fragment\n}\n\nexport const ShopClosingTimeModal: React.FC<IProps> = ({ status }) => {\n  const { user } = useRoot()\n  const { decision, openingIn } = useShopStatus({\n    status,\n    // Do not want update here as it would be showing modal every time :)\n    updateInterval: 0,\n  })\n  return useObserver(() => (\n    <AlertModal\n      isOpen={\n        (decision === 'Closed' || decision === 'OpeningSoon') &&\n        !user.closingTimeAlertHidden\n      }\n      onClose={user.hideClosingTime}\n      headerText={i18n.t`We are closed right now`}\n    >\n      {i18n.t`We're sorry, but we do not accept new orders at this time.`}\n      {decision === 'OpeningSoon' && (\n        <Trans>\n          You can prepare your order because we are{' '}\n          <Plural\n            value={openingIn}\n            one=\"opening in 1 minute\"\n            other=\"opening in # minutes\"\n          />\n          !\n        </Trans>\n      )}\n    </AlertModal>\n  ))\n}\n","import './ShopHeaderIcons.css'\n\nimport React from 'react'\n\nimport { ColStyle } from '../../common/ColStyle'\n\nimport logoCommerce01 from './logo-commerce-01.svg'\nimport logoCommerce02 from './logo-commerce-02.svg'\nimport logoDoveze from './logo-doveze.svg'\nimport logoGoPay from './logo-gopay.png'\n\nexport const ShopHeaderIcons = () => (\n  <ColStyle>\n    <img\n      src={logoDoveze}\n      className=\"shop__header__icons__doveze\"\n      data-testid=\"ShopHeaderIcons__AppLogo\"\n      alt=\"logo Doveze.cz\"\n    />\n    <img\n      src={logoCommerce02}\n      className=\"shop__header__icons__commerce\"\n      alt=\"MasterCard\"\n    />\n    <img\n      src={logoCommerce01}\n      className=\"shop__header__icons__commerce\"\n      data-testid=\"ShopHeaderIcons__VisaLogo\"\n      alt=\"VISA\"\n    />\n    <img\n      src={logoGoPay}\n      className=\"shop__header__icons__gopay\"\n      alt=\"GoPay\"\n      data-testid=\"ShopHeaderIcons__GoPayLogo\"\n    />\n  </ColStyle>\n)\n","import { DateFormat, Plural, Trans } from '@lingui/react'\nimport { isSameDay } from 'date-fns'\nimport React from 'react'\nimport styled from 'styled-components'\n\nimport { useRoot } from '../../app/useRoot'\nimport { FCompanyBranchStatusFragment } from '../../graph/generated'\nimport { useShopStatus } from '../../hooks/useShopStatus'\n\ninterface IProps {\n  status: FCompanyBranchStatusFragment\n  deliveryTime: number\n  pickupTime: number\n}\n\nexport const StatusDisplayOpen = styled.span`\n  font-style: italic;\n  color: #0f9849;\n`\n\nexport const StatusDisplayClosed = styled.span`\n  font-style: italic;\n  color: #b40000;\n`\n\nexport const ShopStatusDisplay: React.FC<IProps> = ({\n  status,\n  deliveryTime,\n  pickupTime,\n}) => {\n  const { order } = useRoot()\n  const { decision, openingIn, closingIn } = useShopStatus({\n    status,\n  })\n\n  if (!status) {\n    return null\n  }\n\n  if (status.isOpen === false) {\n    if (!status.willOpenAt) {\n      return (\n        <StatusDisplayClosed>\n          <Trans>We are closed until further notice</Trans>\n        </StatusDisplayClosed>\n      )\n    }\n    const closestBH = status.businessHours[0]\n    if (closestBH && closestBH.closedNote) {\n      return <StatusDisplayClosed>{closestBH.closedNote}</StatusDisplayClosed>\n    }\n  }\n\n  switch (decision) {\n    case 'Open':\n      let timingDisplay\n      if (order.usingDeliveryOrderMethod && status.defaultDeliveryTimeEnabled) {\n        timingDisplay = (\n          <Trans>We are delivering in {deliveryTime} minutes</Trans>\n        )\n      }\n      if (order.usingPickupOrderMethod && status.defaultPickupTimeEnabled) {\n        timingDisplay = (\n          <Trans>We can prepare your order in {pickupTime} minutes</Trans>\n        )\n      }\n      return (\n        <StatusDisplayOpen data-testid=\"statusDisplayOpen\">\n          {timingDisplay}\n        </StatusDisplayOpen>\n      )\n    case 'OpeningSoon':\n      return (\n        <StatusDisplayClosed>\n          <Plural\n            value={openingIn}\n            one=\"Opening in 1 minute\"\n            other=\"Opening in # minutes\"\n          />\n        </StatusDisplayClosed>\n      )\n    case 'ClosingSoon':\n      return (\n        <StatusDisplayOpen>\n          <Plural\n            value={closingIn}\n            one=\"Closing in 1 minute\"\n            other=\"Closing in # minutes\"\n          />\n        </StatusDisplayOpen>\n      )\n    case 'Closed':\n      return (\n        <StatusDisplayClosed>\n          {status.willOpenAt ? (\n            <Trans>We will open at {formatOpenTime(status.willOpenAt)}</Trans>\n          ) : (\n            <Trans>Closed</Trans>\n          )}\n        </StatusDisplayClosed>\n      )\n  }\n}\n\nexport function formatOpenTime(openAt: string) {\n  const openAtDate = new Date(openAt)\n  const nowDate = new Date()\n  let format: Intl.DateTimeFormatOptions = {\n    hour: 'numeric',\n    minute: 'numeric',\n  }\n  if (!isSameDay(openAtDate, nowDate)) {\n    format = {\n      ...format,\n      weekday: 'long',\n    }\n  }\n  return <DateFormat value={openAtDate} format={format} />\n}\n","import { Trans } from '@lingui/macro'\nimport React from 'react'\nimport { Button } from 'reactstrap'\nimport styled from 'styled-components'\n\nimport { PrimaryRoutedButton } from '../../common/Buttons'\nimport { Desktop, Mobile } from '../../common/Responsive'\nimport { QOrderFinishQuery } from '../../graph/generated'\nimport { i18n } from '../../i18n'\n\ninterface IProps {\n  finish: QOrderFinishQuery\n}\nconst CenteredButtonContainer = styled.div`\n  text-align: center;\n`\n\nexport const FinishViewFooter: React.FC<IProps> = ({\n  finish: { androidApp, iosApp },\n}) => (\n  <>\n    <Desktop>\n      {(androidApp || iosApp) && (\n        <div className=\"finish__view__apps__propagation\">\n          <div className=\"finish__view__apps__propagation__header\">\n            <Trans>What about mobile app?</Trans>\n          </div>\n          <div className=\"finish__view__apps__propagation__description\">\n            <Trans>\n              We have prepared mobile app, so you could order from anywhere!\n            </Trans>\n          </div>\n\n          {androidApp && (\n            <a href={androidApp.url}>\n              <Button\n                className=\"finish__view__apps__propagation__button\"\n                color=\"secondary\"\n              >\n                Google Play\n              </Button>\n            </a>\n          )}\n\n          {iosApp && (\n            <a href={iosApp.url}>\n              <Button\n                className=\"finish__view__apps__propagation__button\"\n                color=\"secondary\"\n              >\n                App Store\n              </Button>\n            </a>\n          )}\n        </div>\n      )}\n      <CenteredButtonContainer>\n        <PrimaryRoutedButton\n          to=\"/\"\n          className=\"finish__view__submit__line__button\"\n          data-testid=\"finishViewFooterBackButton\"\n        >\n          {i18n.t`Back to home page`.toLocaleUpperCase()}\n        </PrimaryRoutedButton>\n      </CenteredButtonContainer>\n    </Desktop>\n\n    <Mobile>\n      <div\n        className=\"finish__view__submit__line\"\n        style={{ textAlign: 'center' }}\n      >\n        <div className=\"finish__view__submit__line__strip\" />\n        <PrimaryRoutedButton\n          to=\"/\"\n          className=\"finish__view__submit__line__button\"\n          data-testid=\"finishViewFooterBackButton\"\n        >\n          {i18n.t`Back to home page`.toLocaleUpperCase()}\n        </PrimaryRoutedButton>\n      </div>\n    </Mobile>\n  </>\n)\n","import React from 'react'\nimport { Redirect } from 'react-router-dom'\n\nimport { useRoot } from '../../app/useRoot'\nimport Pacman from '../../common/Pacman'\nimport { QOrderFinishQuery, useQOrderFinish } from '../../graph/generated'\n\ninterface IProps {\n  render(result: QOrderFinishQuery): ReactNode\n}\n\nexport const FinishViewLoader: React.FC<IProps> = ({ render }) => {\n  const { order } = useRoot()\n  if (!order.hasOrder) {\n    return <Redirect to=\"/\" />\n  }\n\n  const { data, loading } = useQOrderFinish({\n    branchId: order.branchId!,\n    orderId: order.orderId!,\n  })\n\n  if (loading) {\n    return <Pacman />\n  }\n\n  return render(data)\n}\n","import { Trans } from '@lingui/macro'\nimport React from 'react'\nimport styled from 'styled-components'\n\nimport {\n  FOrderFinishedFragment,\n  FOrderFinishedItems,\n  PaymentGateEnum,\n} from '../../graph/generated'\nimport { RM } from '../../helpers/ramda'\nimport { i18n } from '../../i18n'\n\ninterface IProps {\n  order: FOrderFinishedFragment\n}\n\nconst HeaderThemed = styled.div`\n  background-color: ${({ theme }) => theme.primary};\n`\n\nconst PriceThemed = styled.div`\n  background-color: ${({ theme }) => theme.primary};\n`\n\nconst PriceCornerThemed = styled.div`\n  border-top-color: ${({ theme }) => theme.primary} !important;\n`\n\nexport const FinishViewOrder: React.FC<IProps> = ({ order }) => (\n  <>\n    <HeaderThemed className=\"finish__view__header\">\n      <div className=\"finish__view__header__inner\">\n        <span className=\"flaticon-transport-1 finish__view__header__icon\" />\n        <h3>\n          <Trans>It's done! Thank you :-)</Trans>\n        </h3>\n      </div>\n    </HeaderThemed>\n    <h4>\n      <Trans>Your order was successfully accepted!</Trans>{' '}\n      {getPaymentInfo(order)}\n    </h4>\n    <div className=\"finish__view__items\">\n      <div className=\"finish__view__items__look__to\">\n        <Trans>You can look forward to:</Trans>\n      </div>\n      {order.items.map(item => (\n        <OrderItem key={item.id} {...item} />\n      ))}\n      <PriceCornerThemed className=\"finish__view__items__price__corner\" />\n      <PriceThemed className=\"finish__view__items__price\">\n        {getPaymentPrice(order)} <b>{order.totalSum.formattedValue}</b>\n      </PriceThemed>\n    </div>\n  </>\n)\n\nconst hasMethod = RM.pathEq(['paymentMethod', 'paymentType', 'enum'])\n\nfunction getPaymentInfo({ orderPayments }: FOrderFinishedFragment) {\n  if (orderPayments.some(hasMethod(PaymentGateEnum.Cash))) {\n    return i18n.t`You will pay at pickup.`\n  }\n  if (orderPayments.some(hasMethod(PaymentGateEnum.Gopay))) {\n    return i18n.t`You have payed.`\n  }\n  return null\n}\n\nfunction getPaymentPrice({ orderPayments, totalSum }: FOrderFinishedFragment) {\n  if (orderPayments.some(hasMethod(PaymentGateEnum.Cash))) {\n    return i18n.t`Total cost to be payed:`\n  }\n  if (orderPayments.some(hasMethod(PaymentGateEnum.Gopay))) {\n    return i18n.t`Total cost payed:`\n  }\n  return null\n}\n\nfunction OrderItem({ recipe, sideDishes }: FOrderFinishedItems) {\n  return (\n    <div>\n      <b>{recipe.nameLabel}</b>\n      {sideDishes.length\n        ? ` + ${sideDishes.map(RM.path(['recipe', 'nameLabel'])).join(',')}`\n        : null}\n    </div>\n  )\n}\n"],"sourceRoot":""}