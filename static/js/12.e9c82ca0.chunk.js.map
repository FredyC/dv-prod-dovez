{"version":3,"sources":["segments/shop/OrderAddress.tsx","segments/shop/ShopCloseAlert.tsx","segments/shop/ShopIntro.tsx","segments/shop/ShopLogo.tsx","segments/shop/ShopOpeningHours.tsx","segments/shop/Sticker.tsx","segments/shop/ShopHeader.tsx","segments/shop/ShopHeaderView.tsx","segments/finish/FinishView.tsx","segments/map/PickupMapBranch.tsx","segments/map/PickupMap.tsx","segments/map/OrderMap.tsx","segments/map/views/MapView.tsx","segments/orderForm/OrderPaymentMethod.tsx","segments/orderForm/OrderForm.tsx","segments/orderForm/OrderFormView.tsx","segments/shop/ShopOverview.tsx","app/DesktopApp.tsx"],"names":["OrderAddress","_ref","address","_useRoot","useRoot","order","location","useObserver","orderMethod","DeliveryTypeEnum","Messenger","react_default","a","createElement","i18n","_","Pickup","ShopAddress","StyledShopCloseAlert","styled","Alert","_templateObject","theme","primary","ShopCloseAlert","_ref2","status","_useShopStatus","useShopStatus","decision","closingIn","closingInPlural","ShopIntroStyled","div","withConfig","displayName","componentId","ShopIntro","intro","data-testid","headerText","LogoLink","url","children","href","react_router_dom","to","LogoContainerStyled","ShopLogo","props","ShopLogo_LogoLink","BackgroundThemed","className","imageName","size","StyledShopOpeningHours","Container","ShopOpeningHours","branch","openingHours","businessHours","filter","RM","propEq","fluid","length","map","businessHour","idx","key","concat","formatTime","openAt","closeAt","ShopStatusDisplay","deliveryTime","defaultDeliveryTime","pickupTime","defaultPickupTime","StickerThemed","IconStyled","span","Sticker","_ref2$success","success","cn","order-method-unselected","order-method-selected","StyledShopHeader","StyledLanguagePicker","LanguagePicker","ShopHeader","reactstrap_es","ColStyle","ShopHeaderIcons","ShopCloseAlert_ShopCloseAlert","Fragment","ShopLogo_ShopLogo","homepageUrl","react_router","exact","path","render","Sticker_Sticker","_lingui_react","id","ShopIntro_ShopIntro","ShopClosingTimeModal","OrderAddress_OrderAddress","ShopOpeningHours_ShopOpeningHours","ShopHeaderView","observer","business","_useQShopHeaderIntro","useQShopHeaderIntro","brandId","isBrand","hasOrder","undefined","branchId","skip","isValid","context","noBatch","fetchPolicy","dataIntro","data","loadingIntro","loading","_useQShopHeaderBranch","useQShopHeaderBranch","dataBranch","loadingBranch","ShopHeader_ShopHeader","FinishView","Object","objectDestructuringEmpty","shop_ShopHeaderView","FinishViewLoader","result","FinishViewOrder","FinishViewSupport","companyBranch","FinishViewFooter","finish","StyledPickupMapBranch","tertiaryText","_ref3","Color","lighten","toString","PickupMapBranch","_ref4","onConfirm","onClose","shopStatus","onClick","name","Buttons","color","disabled","pickupEnabled","_ref5","openingIn","values","toLocaleUpperCase","getButtonText","mapByOrderMethod","_mapByOrderMethod","defineProperty","createFactory","DeliveryMap","_useState","useState","_useState2","slicedToArray","activeBranchId","setActiveBranch","useDisposable","when","useEffect","prefetchFoodMenu","onConfirmPickup","useCallback","asyncToGenerator","regenerator_default","mark","_callee","wrap","_context","prev","next","setBranch","createPickupOrder","stop","_x","apply","this","arguments","renderBranchMarker","lib","position","gpsToLatLng","gps","renderBranchInfo","getPixelPositionOffset","width","x","y","mapPaneName","OverlayView","OVERLAY_MOUSE_TARGET","PickupMapBranch_PickupMapBranch","PickupMap_graphql","variables","renderLoading","branches","businessBranch","find","activeBranch","MapPanning","OrderMap","BaseMap","model","MapView","history","useRouterContext","OrderMethod","OrderMap_OrderMap","push","OrderPaymentMethod","OrderPaymentButton","method","PaymentGateEnum","Gopay","Cash","OrderFormTipInput","OrderForm","orderModel","_useQOrderForm","useQOrderForm","orderId","React","orderStateCategory","OrderStateCategoryEnum","InCart","orderCancel","replace","canSubmit","isVamInitialized","countWares","OrderFormSetup","form","isSubmitting","OrderFormAutoFill","onFill","setAllValues","OrderFormInputs","OrderPaymentMethod_OrderPaymentMethod","OrderAgreements","OrderSubmitLine","submitForm","OrderFormView","memo","OrderGoPayModal","OrderErrorModal","OrderTimePicker","ShopOverview","FoodMenuView","CartView","OrderFormView_OrderFormView","OrderFormStorageNotice","DesktopApp","useReleaseCabinet","alert","component"],"mappings":"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","file":"static/js/12.e9c82ca0.chunk.js","sourcesContent":["import { useObserver } from 'mobx-react-lite'\nimport React from 'react'\n\nimport { useRoot } from '../../app/useRoot'\nimport { ShopAddress } from '../../common/ShopAddress'\nimport { DeliveryTypeEnum, FAddressFragment } from '../../graph/generated'\nimport { i18n } from '../../i18n'\n\ninterface IProps {\n  address: Maybe<FAddressFragment>\n}\n\nexport const OrderAddress: React.FC<IProps> = ({ address }) => {\n  const { order, location } = useRoot()\n\n  return useObserver(() => {\n    switch (order.orderMethod) {\n      case DeliveryTypeEnum.Messenger:\n        return (\n          <span>\n            {i18n.t`Order to address`}: <b>{location.address}</b>\n          </span>\n        )\n      case DeliveryTypeEnum.Pickup:\n        return (\n          <span>\n            {i18n.t`Pickup at address`}:{' '}\n            <b>\n              <ShopAddress address={address} />\n            </b>\n          </span>\n        )\n      default:\n        return null\n    }\n  })\n}\n","import React from 'react'\nimport { Alert } from 'reactstrap'\nimport styled from 'styled-components'\n\nimport { FCompanyBranchStatusFragment } from '../../graph/generated'\nimport { useShopStatus } from '../../hooks/useShopStatus'\nimport { i18n } from '../../i18n'\n\ninterface IProps {\n  status: FCompanyBranchStatusFragment\n}\n\nconst StyledShopCloseAlert = styled(Alert)`\n  background: ${({ theme }) => theme.primary};\n  color: white;\n  text-align: center;\n  border-radius: 0.7rem;\n  position: fixed;\n  top: 0.1rem;\n  z-index: 3;\n  padding: 0.4rem 1rem;\n`\n\nexport const ShopCloseAlert: React.FC<IProps> = ({ status }) => {\n  const { decision, closingIn } = useShopStatus({\n    status,\n  })\n  if (decision === 'ClosingSoon') {\n    const closingInPlural = i18n.plural({\n      value: closingIn,\n      one: 'closing in 1 minute',\n      few: 'closing in # minutes',\n      other: 'closing in # minutes',\n    })\n    return (\n      <StyledShopCloseAlert>\n        {i18n.t`Beware! We are ${closingInPlural}. Finish your order quickly.`}\n      </StyledShopCloseAlert>\n    )\n  }\n  return null\n}\n","import React from 'react'\nimport styled from 'styled-components/macro'\n\nimport { QShopHeaderIntroIntro } from '../../graph/generated'\n\ninterface IProps {\n  intro?: Maybe<QShopHeaderIntroIntro>\n}\n\nconst ShopIntroStyled = styled.div`\n  margin: 0.8rem 1rem 1rem 1.3rem;\n`\n\nexport const ShopIntro: React.FC<IProps> = ({ intro }) => (\n  <ShopIntroStyled data-testid=\"headerText\">\n    {intro ? intro.headerText : ''}\n  </ShopIntroStyled>\n)\n","import React from 'react'\nimport { Link } from 'react-router-dom'\nimport styled from 'styled-components/macro'\n\nimport { BackgroundThemed } from '../../common/BackgroundThemed'\n\ninterface IProps {\n  url: Maybe<string>\n}\n\nconst LogoLink: React.FC<IProps> = ({ url, children }) =>\n  url ? <a href={url}>{children}</a> : <Link to=\"/\">{children}</Link>\n\nconst LogoContainerStyled = styled.div`\n  height: 200px;\n  width: 400px;\n  flex: 0 0 400px;\n  & .shop__header__logo {\n    height: 100%;\n  }\n`\n\nexport const ShopLogo: React.FC<IProps> = props => (\n  <LogoContainerStyled>\n    <LogoLink {...props}>\n      <BackgroundThemed\n        className=\"shop__header__logo\"\n        imageName=\"storeLogo\"\n        size=\"cover\"\n      />\n    </LogoLink>\n  </LogoContainerStyled>\n)\n","import { RM } from '@speedlo/tools'\nimport React from 'react'\nimport { Container } from 'reactstrap'\nimport styled from 'styled-components/macro'\n\nimport { FShopOpeningHoursFragment } from '../../graph/generated'\nimport { formatTime } from '../../helpers/formats'\nimport { ShopStatusDisplay } from './ShopStatusDisplay'\n\ninterface IProps {\n  branch: Maybe<FShopOpeningHoursFragment>\n}\n\nconst StyledShopOpeningHours = styled(Container)`\n  margin: 0.4rem 0 0 0.1rem;\n  display: flex;\n\n  & div.times,\n  & div.status {\n    padding-left: 2rem;\n  }\n\n  & div.icon {\n    margin: -0.2rem 0 0 -1rem;\n    position: absolute;\n  }\n`\n\nexport const ShopOpeningHours: React.FC<IProps> = ({ branch }) => {\n  if (!branch) {\n    return null\n  }\n  const openingHours = branch.businessHours.filter(RM.propEq('closed', false))\n  return (\n    <StyledShopOpeningHours fluid={true}>\n      <div className=\"icon flaticon-clock\" />\n      {openingHours.length > 0 && (\n        <div className=\"times\">\n          {openingHours.map((businessHour, idx) => (\n            <div data-testid=\"openingHours\" key={idx}>\n              {`${formatTime(businessHour.openAt)} - ${formatTime(\n                businessHour.closeAt,\n              )}`}\n            </div>\n          ))}\n        </div>\n      )}\n      <div className=\"status\">\n        {branch && (\n          <ShopStatusDisplay\n            status={branch}\n            deliveryTime={branch.defaultDeliveryTime}\n            pickupTime={branch.defaultPickupTime}\n          />\n        )}\n      </div>\n    </StyledShopOpeningHours>\n  )\n}\n","import { cn } from '@speedlo/ui'\nimport React from 'react'\nimport styled from 'styled-components/macro'\n\nconst StickerThemed = styled.div`\n  background: ${({ theme }) => theme.primary};\n  color: white;\n  margin-top: 1rem;\n  padding: 0;\n  border-radius: 0 0.7rem 0.7rem 0;\n  white-space: nowrap;\n  flex: none;\n\n  & p {\n    display: inline-block;\n    margin: 0.6rem 1rem 0 0;\n    vertical-align: top;\n    white-space: nowrap;\n  }\n`\n\nconst IconStyled = styled.span`\n  margin: 0.5rem 1rem 0 0.1rem;\n  &:before,\n  :after {\n    font-size: 1.8rem;\n    margin: 0 0 0 1rem;\n  }\n`\n\ninterface IProps {\n  success?: boolean\n}\n\nexport const Sticker: React.FC<IProps> = ({ success = false, children }) => (\n  <StickerThemed\n    className={cn('right__sticker', {\n      'order-method-unselected': !success,\n      'order-method-selected': success,\n    })}\n  >\n    <IconStyled className=\"flaticon-transport\" />\n    <p>{children}</p>\n  </StickerThemed>\n)\n","import { Trans } from '@lingui/macro'\nimport React from 'react'\nimport { Route } from 'react-router-dom'\nimport { Row } from 'reactstrap'\nimport styled from 'styled-components/macro'\n\nimport { ColStyle } from '../../common/ColStyle'\nimport { LanguagePicker } from '../../common/LanguagePicker'\nimport {\n  QShopHeaderBranchBranch,\n  QShopHeaderIntroIntro,\n} from '../../graph/generated'\nimport { OrderAddress } from './OrderAddress'\nimport { ShopCloseAlert } from './ShopCloseAlert'\nimport { ShopClosingTimeModal } from './ShopClosingTimeModal'\nimport { ShopHeaderIcons } from './ShopHeaderIcons'\nimport { ShopIntro } from './ShopIntro'\nimport { ShopLogo } from './ShopLogo'\nimport { ShopOpeningHours } from './ShopOpeningHours'\nimport { Sticker } from './Sticker'\n\ninterface IProps {\n  branch: QShopHeaderBranchBranch | null\n  intro: QShopHeaderIntroIntro | null\n}\n\nconst StyledShopHeader = styled.div`\n  display: flex;\n  min-height: 200px;\n  & div.info {\n    display: flex;\n    flex-direction: column;\n    align-items: flex-start;\n  }\n`\n\nconst StyledLanguagePicker = styled(LanguagePicker)`\n  position: absolute;\n  left: 3rem;\n`\n\nexport const ShopHeader: React.FC<IProps> = ({ branch, intro }) => (\n  <div>\n    <Row className=\"justify-content-md-center\">\n      <ColStyle>\n        <ShopHeaderIcons />\n        <StyledLanguagePicker />\n      </ColStyle>\n      {branch && <ShopCloseAlert status={branch} />}\n    </Row>\n\n    <Row className=\"row-white justify-content-md-center\">\n      <ColStyle>\n        <StyledShopHeader data-testid=\"shopHeader\">\n          <>\n            <ShopLogo url={intro ? intro.homepageUrl : null} />\n\n            <div className=\"info\">\n              <Route\n                exact={true}\n                path=\"/\"\n                render={() => (\n                  <>\n                    <Sticker>\n                      <Trans>Choose your delivery option below</Trans>\n                    </Sticker>\n                    <ShopIntro intro={intro} />\n                  </>\n                )}\n              />\n              <Route\n                path=\"/order\"\n                render={() => (\n                  <>\n                    {branch && <ShopClosingTimeModal status={branch} />}\n                    <Sticker success={true}>\n                      <OrderAddress address={branch ? branch.address : null} />\n                    </Sticker>\n                    <ShopOpeningHours branch={branch} />\n\n                    <ShopIntro intro={intro} />\n                  </>\n                )}\n              />\n              <Route\n                path=\"/finish\"\n                render={() => (\n                  <>\n                    <Sticker success={true}>\n                      <Trans>Order was send</Trans>\n                    </Sticker>\n                    <ShopOpeningHours branch={branch} />\n                    <ShopIntro intro={intro} />\n                  </>\n                )}\n              />\n            </div>\n          </>\n        </StyledShopHeader>\n      </ColStyle>\n    </Row>\n  </div>\n)\n","import { observer } from 'mobx-react-lite'\nimport React from 'react'\n\nimport { useRoot } from '../../app/useRoot'\nimport {\n  useQShopHeaderBranch,\n  useQShopHeaderIntro,\n} from '../../graph/generated'\nimport { ShopHeader } from './ShopHeader'\n\nexport const ShopHeaderView = observer(() => {\n  const { order, business } = useRoot()\n\n  const { data: dataIntro, loading: loadingIntro } = useQShopHeaderIntro(\n    {\n      brandId:\n        business.isBrand && !order.hasOrder ? business.brandId : undefined,\n      // need to use branchId from order first as it reflects branch for which\n      // order is being made and it might have different eg. business hours\n      // then the one obtained through business code\n      branchId:\n        business.isBrand && !order.hasOrder\n          ? undefined\n          : order.branchId || business.branchId!,\n    },\n    {\n      skip: !business.isValid,\n      context: { noBatch: true },\n      fetchPolicy: 'cache-first',\n    },\n  )\n\n  const { data: dataBranch, loading: loadingBranch } = useQShopHeaderBranch(\n    {\n      branchId: order.branchId!,\n    },\n    {\n      skip: !order.branchId,\n      fetchPolicy: 'cache-first',\n    },\n  )\n\n  return (\n    <ShopHeader\n      branch={loadingBranch ? null : dataBranch.branch}\n      intro={loadingIntro ? null : dataIntro.intro}\n    />\n  )\n})\n\nexport default ShopHeaderView\n","import './FinishView.css'\n\nimport React from 'react'\nimport { Row } from 'reactstrap'\n\nimport { ColStyle } from '../../common/ColStyle'\nimport ShopHeaderView from '../shop/ShopHeaderView'\nimport { FinishViewFooter } from './FinishViewFooter'\nimport { FinishViewLoader } from './FinishViewLoader'\nimport { FinishViewOrder } from './FinishViewOrder'\nimport { FinishViewSupport } from './FinishViewSupport'\n\ninterface IProps {}\n\nexport const FinishView: React.FC<IProps> = ({}) => (\n  <>\n    <ShopHeaderView />\n    <Row className=\"justify-content-md-center\">\n      <ColStyle>\n        <div className=\"finish__view\">\n          <FinishViewLoader\n            render={result => (\n              <>\n                <FinishViewOrder order={result.order} />\n                <FinishViewSupport branch={result.companyBranch} />\n                <FinishViewFooter finish={result} />\n              </>\n            )}\n          />\n        </div>\n      </ColStyle>\n    </Row>\n  </>\n)\n","import { Plural, Trans } from '@lingui/macro'\nimport Color from 'color'\nimport React from 'react'\nimport styled from 'styled-components/macro'\n\nimport { PrimaryButton } from '../../common/Buttons'\nimport { ShopAddress } from '../../common/ShopAddress'\nimport { GPickupBranch } from '../../graph/types'\nimport { IShopStatus, useShopStatus } from '../../hooks/useShopStatus'\nimport { i18n } from '../../i18n'\n\ninterface IProps {\n  branch: GPickupBranch.Fragment\n  onConfirm(): void\n  onClose(): void\n}\n\nconst StyledPickupMapBranch = styled.div`\n  font-size: 1rem;\n  display: flex;\n  flex-direction: column;\n  background-color: white;\n  max-width: 18rem;\n  min-width: 13rem;\n  border-radius: 8px;\n  box-shadow: 0 2px 7px 1px rgba(0, 0, 0, 0.3);\n\n  > header {\n    flex: 0 0 auto;\n    background-color: ${({ theme }) => theme.primary};\n    color: ${({ theme }) => theme.tertiaryText};\n    padding: 0.4rem;\n    padding-right: 1.3rem;\n    border-radius: 8px 8px 0 0;\n  }\n\n  > p {\n    flex: 1 1 0;\n    margin: 0.5rem;\n  }\n\n  > button {\n    flex: 1 0 auto;\n    margin: 0 0.3rem 0.3rem 0.3rem;\n  }\n\n  > .close {\n    position: absolute;\n    right: 0;\n    top: 0;\n    padding: 0.5rem;\n    font-size: 0.9rem;\n    cursor: pointer;\n\n    &:hover {\n      border-radius: 0 8px 0 0;\n      background-color: ${({ theme }) =>\n        Color(theme.primary)\n          .lighten(0.5)\n          .toString()};\n    }\n  }\n`\n\nexport const PickupMapBranch: React.FC<IProps> = ({\n  branch,\n  onConfirm,\n  onClose,\n}) => {\n  const shopStatus = useShopStatus({\n    status: branch,\n  })\n  return (\n    <StyledPickupMapBranch>\n      <div className=\"close\" onClick={onClose}>\n        ðŸ—™\n      </div>\n      <header>{branch.name}</header>\n      <p>\n        <ShopAddress address={branch.address} />\n      </p>\n      <PrimaryButton\n        color=\"primary\"\n        data-testid=\"submitPickupBranch\"\n        disabled={!branch.pickupEnabled}\n        onClick={onConfirm}\n      >\n        {branch.pickupEnabled ? (\n          getButtonText(shopStatus)\n        ) : (\n          <Trans>Delivery only</Trans>\n        )}\n      </PrimaryButton>\n    </StyledPickupMapBranch>\n  )\n}\n\nfunction getButtonText({ decision, openingIn, closingIn }: IShopStatus) {\n  switch (decision) {\n    case 'Closed':\n      return <Trans>Closed</Trans>\n    case 'ClosingSoon':\n      return (\n        <Plural\n          value={closingIn}\n          one=\"Closing in 1 minute\"\n          other=\"Closing in # minutes\"\n        />\n      )\n    case 'OpeningSoon':\n      return (\n        <Plural\n          value={openingIn}\n          one=\"Opening in 1 minute\"\n          other=\"Opening in # minutes\"\n        />\n      )\n    default:\n      return i18n.t`Pickup here`.toLocaleUpperCase()\n  }\n}\n","import './PickupMap.css'\n\nimport { Marker, OverlayView } from '@react-google-maps/api'\nimport { RM } from '@speedlo/tools'\nimport { when } from 'mobx'\nimport { useDisposable, useObserver } from 'mobx-react-lite'\nimport React, { useCallback, useEffect, useState } from 'react'\n\nimport { useRoot } from '../../app/useRoot'\nimport { GPickupBranch } from '../../graph/types'\nimport { gpsToLatLng } from '../../helpers/gps'\nimport { MapPanning } from './atoms/MapPanning'\nimport { QueryPickupMapBranch, QueryPickupMapBrand } from './PickupMap.graphql'\nimport { PickupMapBranch } from './PickupMapBranch'\n\ninterface IProps {\n  onConfirm(): void\n}\n\nexport const PickupMap: React.FC<IProps> = ({ onConfirm }) => {\n  const { order, business, map } = useRoot()\n  const [activeBranchId, setActiveBranch] = useState<MaybeID>(null)\n\n  useDisposable(() =>\n    when(\n      () => business.branchId !== null && activeBranchId === null,\n      () => {\n        setActiveBranch(business.branchId)\n      },\n    ),\n  )\n\n  useEffect(() => {\n    if (activeBranchId) {\n      order.prefetchFoodMenu(activeBranchId)\n    }\n  }, [activeBranchId])\n\n  const onConfirmPickup = useCallback(\n    async (branchId: ID) => {\n      // it's necessary to set asap so correct data are displayed further\n      order.setBranch(branchId)\n      await order.createPickupOrder(branchId)\n      onConfirm()\n    },\n    [onConfirm],\n  )\n\n  const renderBranchMarker = (branch: GPickupBranch.Fragment) => (\n    <Marker\n      key={branch.id}\n      position={gpsToLatLng(branch.gps)}\n      onClick={() => setActiveBranch(branch.id)}\n    />\n  )\n\n  const renderBranchInfo = (branch: GPickupBranch.Fragment) => (\n    <OverlayView\n      key={branch.id}\n      position={gpsToLatLng(branch.gps)}\n      getPixelPositionOffset={width => ({\n        x: width === 0 ? -131 : -(width / 2),\n        y: 8,\n      })}\n      mapPaneName={OverlayView.OVERLAY_MOUSE_TARGET}\n    >\n      <PickupMapBranch\n        branch={branch}\n        onClose={() => {\n          setActiveBranch(null)\n        }}\n        onConfirm={() => {\n          onConfirmPickup(branch.id)\n        }}\n      />\n    </OverlayView>\n  )\n\n  return useObserver(() => {\n    if (business.isBrand) {\n      return (\n        <QueryPickupMapBrand\n          variables={{ brandId: business.brandId! }}\n          renderLoading={false}\n          render={({ branches }) => {\n            const businessBranch =\n              branches && branches.find(RM.propEq('id', business.branchId))\n            const activeBranch =\n              activeBranchId !== null &&\n              branches &&\n              branches.find(RM.propEq('id', activeBranchId))\n            return (\n              <>\n                <MapPanning\n                  map={map}\n                  gps={businessBranch && businessBranch.gps}\n                />\n                {branches && branches.map(renderBranchMarker)}\n                {activeBranch && renderBranchInfo(activeBranch)}\n              </>\n            )\n          }}\n        />\n      )\n    }\n    return (\n      <QueryPickupMapBranch\n        variables={{ branchId: business.branchId! }}\n        renderLoading={false}\n        render={({ branch }) => (\n          <>\n            <MapPanning map={map} gps={branch && branch.gps} />\n            {branch && (\n              <>\n                {renderBranchMarker(branch)}\n                {renderBranchInfo(branch)}}\n              </>\n            )}\n          </>\n        )}\n      />\n    )\n  })\n}\n","import { useObserver } from 'mobx-react-lite'\nimport React, { createFactory } from 'react'\n\nimport { useRoot } from '../../app/useRoot'\nimport { BaseMap } from '../../common/BaseMap'\nimport { DeliveryTypeEnum } from '../../graph/generated'\nimport { DeliveryMap } from './DeliveryMap'\nimport { PickupMap } from './PickupMap'\n\ninterface IProps {\n  onConfirm(): void\n}\n\nconst mapByOrderMethod = {\n  [DeliveryTypeEnum.Messenger]: createFactory<IProps>(DeliveryMap),\n  [DeliveryTypeEnum.Pickup]: createFactory<IProps>(PickupMap),\n}\n\nexport const OrderMap: React.FC<IProps> = ({ onConfirm }) => {\n  const { order, map } = useRoot()\n  return useObserver(() => (\n    <BaseMap model={map}>\n      {mapByOrderMethod[order.orderMethod]({ onConfirm })}\n    </BaseMap>\n  ))\n}\n","import './MapView.css'\n\nimport { useRouterContext } from '@speedlo/hooks'\nimport React from 'react'\nimport { Row } from 'reactstrap'\n\nimport { ColStyle } from '../../../common/ColStyle'\nimport { OrderMethod } from '../../destination/OrderMethod'\nimport ShopHeaderView from '../../shop/ShopHeaderView'\nimport { OrderMap } from '../OrderMap'\n\nexport const MapView = () => {\n  const { history } = useRouterContext()\n  return (\n    <>\n      <ShopHeaderView />\n      <Row className=\"justify-content-md-center\">\n        <ColStyle>\n          <div className=\"map__view\">\n            <div className=\"map__view__header\">\n              <OrderMethod />\n            </div>\n            <OrderMap onConfirm={() => history.push(`/order`)} />\n          </div>\n        </ColStyle>\n      </Row>\n    </>\n  )\n}\n","import './OrderPaymentMethod.css'\n\nimport React from 'react'\n\nimport { PaymentGateEnum } from '../../graph/generated'\nimport { i18n } from '../../i18n'\nimport { OrderFormTipInput } from './OrderFormTipInput'\nimport { OrderPaymentButton } from './OrderPaymentButton'\n\nexport const OrderPaymentMethod: React.FC = () => (\n  <div className=\"order__payment__method\">\n    <OrderPaymentButton method={PaymentGateEnum.Gopay}>\n      {i18n.t`Pay by card`.toLocaleUpperCase()}\n    </OrderPaymentButton>\n    <OrderPaymentButton method={PaymentGateEnum.Cash}>\n      {i18n.t`Pay by cash`.toLocaleUpperCase()}\n    </OrderPaymentButton>\n\n    <OrderFormTipInput />\n  </div>\n)\n","import { Trans } from '@lingui/macro'\nimport { useRouterContext } from '@speedlo/hooks'\nimport { observer } from 'mobx-react-lite'\nimport React from 'react'\n\nimport { useRoot } from '../../app/useRoot'\nimport { OrderStateCategoryEnum, useQOrderForm } from '../../graph/generated'\nimport { OrderAgreements } from './OrderAgreements'\nimport { OrderFormAutoFill } from './OrderFormAutoFill'\nimport { OrderFormInputs } from './OrderFormInputs'\nimport { OrderFormSetup } from './OrderFormSetup'\nimport { OrderPaymentMethod } from './OrderPaymentMethod'\nimport { OrderSubmitLine } from './OrderSubmitLine'\n\nexport const OrderForm = observer(() => {\n  const { order: orderModel } = useRoot()\n  const { history } = useRouterContext()\n\n  const { data, loading } = useQOrderForm(\n    { orderId: orderModel.orderId! },\n    { skip: !orderModel.orderId },\n  )\n\n  React.useEffect(() => {\n    if (\n      !loading &&\n      data.order.orderStateCategory !== OrderStateCategoryEnum.InCart\n    ) {\n      orderModel.orderCancel()\n      history.replace('/')\n    }\n  })\n\n  const canSubmit =\n    orderModel.isVamInitialized && !loading && data.order.countWares > 0\n\n  return (\n    <OrderFormSetup\n      render={(form, isSubmitting) => (\n        <div className=\"order__form\">\n          <div className=\"order__form__inner\">\n            <OrderFormAutoFill onFill={values => form.setAllValues(values)} />\n            <OrderFormInputs />\n            <OrderPaymentMethod />\n            <OrderAgreements />\n          </div>\n          <OrderSubmitLine\n            onClick={form.submitForm}\n            canSubmit={canSubmit}\n            isSubmitting={isSubmitting}\n          >\n            <Trans>Place order</Trans>\n          </OrderSubmitLine>\n        </div>\n      )}\n    />\n  )\n})\n","import './OrderFormView.css'\n\nimport React from 'react'\n\nimport { OrderErrorModal } from './OrderErrorModal'\nimport { OrderForm } from './OrderForm'\nimport { OrderGoPayModal } from './OrderGoPayModal'\nimport { OrderTimePicker } from './OrderTimePicker'\n\nexport const OrderFormView = React.memo(() => {\n  return (\n    <>\n      <OrderForm />\n      <OrderGoPayModal />\n      <OrderErrorModal />\n      <OrderTimePicker />\n    </>\n  )\n})\n","import './ShopOverview.css'\n\nimport React from 'react'\nimport { Redirect } from 'react-router-dom'\nimport { Row } from 'reactstrap'\n\nimport { useRoot } from '../../app/useRoot'\nimport BackgroundThemed from '../../common/BackgroundThemed'\nimport { ColStyleLeft, ColStyleRight } from '../../common/ColStyle'\nimport { i18n } from '../../i18n'\nimport { CartView } from '../cart/CartView'\nimport { FoodMenuView } from '../foodMenu/FoodMenuView'\nimport { OrderFormStorageNotice } from '../orderForm/OrderFormStorageNotice'\nimport { OrderFormView } from '../orderForm/OrderFormView'\nimport ShopHeaderView from './ShopHeaderView'\n\nexport const ShopOverview: React.FC = () => {\n  const { order: orderModel } = useRoot()\n  if (!orderModel.hasOrder) {\n    return <Redirect to=\"/\" />\n  }\n  return (\n    <>\n      <ShopHeaderView />\n      <Row className=\"justify-content-md-center\">\n        <ColStyleLeft>\n          <div className=\"shop__overview__column\">\n            <FoodMenuView />\n          </div>\n        </ColStyleLeft>\n\n        <ColStyleRight>\n          <div\n            className=\"shop__overview__column cart__column\"\n            data-testid=\"CartColumn\"\n          >\n            <div className=\"cart__column__header\">\n              <span className=\"flaticon-cart cart__column__header__icon\" />\n              <h4>{i18n.t`Your order`}</h4>\n            </div>\n\n            <BackgroundThemed\n              className=\"cart__column__cart\"\n              imageName=\"backgroundCart\"\n            >\n              <CartView />\n            </BackgroundThemed>\n\n            <OrderFormView />\n          </div>\n        </ColStyleRight>\n        <OrderFormStorageNotice />\n      </Row>\n    </>\n  )\n}\n","import { useReleaseCabinet } from '@speedlo/tools'\nimport React from 'react'\nimport { Route } from 'react-router-dom'\nimport { Container } from 'reactstrap'\n\nimport { FinishView } from '../segments/finish/FinishView'\nimport { MapView } from '../segments/map/views/MapView'\nimport { ShopOverview } from '../segments/shop/ShopOverview'\n\nconst DesktopApp = () => {\n  useReleaseCabinet(alert)\n  return (\n    <Container fluid={true}>\n      <Route exact={true} path=\"/\" component={MapView} />\n      <Route path=\"/order\" component={ShopOverview} />\n      <Route path=\"/finish\" component={FinishView} />\n    </Container>\n  )\n}\n\nexport default DesktopApp\n"],"sourceRoot":""}