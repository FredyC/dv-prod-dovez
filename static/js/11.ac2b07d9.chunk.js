(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{1199:function(e,t,a){},1200:function(e,t,a){},1201:function(e,t,a){},1202:function(e,t,a){},1203:function(e,t,a){},1204:function(e,t,a){},1205:function(e,t,a){},1206:function(e,t,a){},1207:function(e,t,a){},1208:function(e,t,a){},1209:function(e,t,a){},1213:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(54),i=a(55),o=a(100),l=(a(1199),a(907)),m=a(908),u=a(911),s=a(909),d=a(912),b=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){window.scrollTo(0,0)}},{key:"render",value:function(){return null}}]),t}(n.PureComponent),p=a(44),_=a(1015),f=a(992),E=a(1e3),h=a(1010),v=a(1004),y=a(990),k=a(1007),C=a(1013),g=(a(1200),a(204)),N=function(e){var t=e.text,a=e.buttonText,n=e.buttonRight,c=void 0!==n&&n,i=e.onButtonClick,o=!1===c?r.a.createElement(g.a,{className:"mobile__header__button","data-testid":"MobileHeaderButton__Left",onClick:i},a):null,l=!0===c?r.a.createElement(g.a,{className:"mobile__header__button","data-testid":"MobileHeaderButton__Right",onClick:i,isConfirm:!0},a):null;return r.a.createElement("div",{className:"mobile__header"},o,r.a.createElement("div",{className:"mobile__header__text"},t),l)},O=(a(1201),a(17)),I=a(36),w=a(885),S=a(1006),j=a(916),B=function(e){var t=e.method,a=e.disabled,n=e.onClick,c=e.children,i=Object(I.a)(e,["method","disabled","onClick","children"]);return r.a.createElement(j.a,{observe:!0,render:function(e){return r.a.createElement(w.Field,{field:"payment",render:function(o){return r.a.createElement(g.e,Object.assign({selected:o.value===t,disabled:a||e.isSubmitting,onClick:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){o.setValue(t),n()})},i),e.isSubmitting&&o.value===t?r.a.createElement(S.a,null):c)}})}})},M=function(e){var t=e.onConfirm;return r.a.createElement("div",{className:"mobile__confirm__payment__method"},r.a.createElement(B,{method:O.n.Gopay,onClick:t,"data-testid":"mobilePaymentMethodGoPay"},r.a.createElement("span",{className:"flaticon-credit-card"},p.b._("Pay by card").toLocaleUpperCase())),r.a.createElement(B,{method:O.n.Cash,onClick:t,"data-testid":"mobilePaymentMethodCash"},r.a.createElement("span",{className:"flaticon-money"},p.b._("Pay by cash").toLocaleUpperCase())))},x=function(e){var t=e.history;return r.a.createElement("div",{className:"mobile__confirm__view"},r.a.createElement(N,{text:p.b._("Order confirmation"),buttonText:p.b._("Cancel"),onButtonClick:function(){return t.goBack()}}),r.a.createElement(v.a,{render:function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(b,null),r.a.createElement(y.a,null),r.a.createElement(k.a,null),r.a.createElement(f.a,null),r.a.createElement(C.a,null),r.a.createElement(E.a,{onFill:function(t){return e.setAllValues(t)}}),r.a.createElement("div",{className:"mobile__confirm__view__form"},r.a.createElement("h3",null,r.a.createElement(o.Trans,{id:"Where and to whom we deliver?"})),r.a.createElement(h.a,null),r.a.createElement(_.a,null)),r.a.createElement("div",{className:"mobile__confirm__view__submit"},r.a.createElement("h4",null,r.a.createElement(o.Trans,{id:"Place order"})),r.a.createElement(M,{onConfirm:e.submitForm})))}}))},T=(a(1202),a(205)),P=a(917),L=a(42),F=a(1012),R=function(){var e=Object(L.c)().map,t=Object(T.useRouterContext)().history;return r.a.createElement("div",null,r.a.createElement(N,{text:p.b._("Enter the address"),buttonText:p.b._("Back"),onButtonClick:function(){return t.goBack()}}),r.a.createElement("div",{className:"mobile__map__view"},r.a.createElement(P.a,{model:e},r.a.createElement(F.a,{onConfirm:function(){return t.push("/order")}}))))},D=a(932),$=(a(933),a(884)),U=a(937),V=a(1016),z=a(938),A=a(939),G=function(e){return Object(D.a)(e),r.a.createElement(i.p,{className:"justify-content-md-center"},r.a.createElement($.a,null,r.a.createElement("div",{className:"finish__view__mobile"},r.a.createElement(V.a,{render:function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(z.a,{order:e.order}),r.a.createElement(A.a,{branch:e.companyBranch}),r.a.createElement(U.a,{finish:e}))}}))))},q=(a(1203),a(915)),H=a(940),J=a(935),W=a(101),K=a(6),Q=a(8),X=a.n(Q),Y=a(53);function Z(){var e=Object(K.a)(["\n  query GMobileShopIntro($brandId: ID, $branchId: ID) {\n    intro: applicationSettings(brand: $brandId, companyBranch: $branchId) {\n      headerText\n      homepageUrl\n    }\n  }\n"]);return Z=function(){return e},e}var ee=X()(Z()),te=Object(Y.a)(ee),ae=function(){var e=Object(L.c)().business;return Object(W.b)(function(){return r.a.createElement(te,{variables:e.brandOrBranch,skip:!e.isValid,renderLoading:function(){return null},render:function(e){var t=e.intro.headerText;return r.a.createElement("div",{"data-testid":"MobileShopIntro"},t)}})})},ne=function(){return r.a.createElement("div",{className:"mobile__intro"},r.a.createElement(q.b,{className:"mobile__intro__logo","data-testid":"MobileIntroView__BackgroundThemed",imageName:"storeLogoMobile",size:"cover",fixed:!1},r.a.createElement(J.a,null)),r.a.createElement("div",{className:"mobile__intro__info"},r.a.createElement(ae,null),r.a.createElement(c.Route,null,function(e){var t=e.history;return r.a.createElement(H.a,{onChange:function(e){e.usingDeliveryOrderMethod?t.push("/delivery"):e.usingPickupOrderMethod&&t.push("/pickup")}})})))},re=(a(1204),a(982)),ce=a(1011),ie=a(84),oe=(a(1205),a(1206),a(4)),le=a.n(oe),me=a(355),ue=a(1009),se=a(984),de=a(1005),be=a(120),pe=(a(1207),a(24)),_e=a(14),fe=pe.c.div.withConfig({displayName:"MobileCartSummary__MobileCartSummaryCountThemed",componentId:"ytjrzk-0"})(["background-color:",";"],function(e){return e.theme.secondary}),Ee=pe.c.span.withConfig({displayName:"MobileCartSummary__MobileCartSummaryPriceThemed",componentId:"ytjrzk-1"})(["color:",";"],function(e){return e.theme.primary}),he=function(e){var t=e.count,a=e.price,n=e.isLoading,c=e.onClick;Object(_e.b)(t,n);var i=t>0||!0===n;return r.a.createElement("div",{className:"mobile__cart__summary","data-testid":"mobileCartSummary",onClick:c},i?r.a.createElement("div",{className:"mobile__cart__summary__toggle"},r.a.createElement("span",{className:"flaticon-chevron-up"})):null,r.a.createElement("div",{className:"mobile__cart__summary__info"},r.a.createElement("span",{className:"flaticon-cart"}),i?r.a.createElement(fe,{className:"mobile__cart__summary__count","data-testid":"mobileCartSummary__Count"},t||"?"):null,i?r.a.createElement("div",{className:"mobile__cart__summary__cart__with__price","data-testid":"mobileCartSummary__Price"},r.a.createElement(o.Trans,{id:"In the cart you have goods for<0>{price}</0>",values:{price:a},components:[r.a.createElement(Ee,{className:"mobile__cart__summary__price"})]})):r.a.createElement("span",{"data-testid":"cartIsEmpty"},p.b._("Cart is empty"))))},ve=function(e){var t=e.orderId,a=Object(T.useRouterContext)().history,c=Object(me.a)(be.a,{suspend:!1,variables:{orderId:t}}),i=c.data,o=c.loading,l=c.refetch;Object(se.a)(l);var m=Object(n.useState)(!1),u=Object(ie.a)(m,2),s=u[0],d=u[1],b=0,p="???",_=!0;if(i&&i.order){var f=i.order,E=f.countWares,h=f.totalSum;b=E,_=0===E,p=h.formattedValue}Object(n.useEffect)(function(){0===b&&!0===s&&d(!1)},[b,s]);return r.a.createElement("div",{className:le()("mobile__sliding__cart",{mobile__sliding__cart__open:s})},r.a.createElement("div",{className:"mobile__cart__view"},r.a.createElement(he,{count:b,price:p,isLoading:o||!(i&&i.order),onClick:function(){d(function(e){return!(e||0===b)})}}),s?r.a.createElement(r.a.Fragment,null,r.a.createElement(ue.a,{orderId:t}),r.a.createElement(de.a,{canSubmit:!_,onClick:function(){return a.push("/confirm")}})):null))},ye=a(934),ke=a(206);function Ce(){var e=Object(K.a)(["\n  query GMobileShopStatus($branchId: ID!) {\n    branch: companyBranch(id: $branchId) {\n      id\n      ...FCompanyBranchStatus\n    }\n  }\n  ","\n"]);return Ce=function(){return e},e}var ge=X()(Ce(),O.d),Ne=Object(ke.a)(ge),Oe=function(e){var t=e.branchId;return r.a.createElement(Ne,{variables:{branchId:t},render:function(e){var t=e.branch;return t&&r.a.createElement(ye.a,{status:t})}})},Ie=function(){var e=Object(L.c)().order;return e.hasOrder?Object(W.b)(function(){return r.a.createElement("div",{className:"mobile__order__view"},r.a.createElement(ce.a,null),r.a.createElement(ve,{orderId:e.orderId}),r.a.createElement(re.a,null),r.a.createElement(Oe,{branchId:e.branchId}))}):r.a.createElement(c.Redirect,{to:"/"})},we=a(11),Se=a.n(we),je=a(18),Be=a(67),Me=a(188),xe=(a(1208),a(913)),Te=a(936),Pe=pe.c.div.withConfig({displayName:"MobilePickupList__StatusDisplayPosition",componentId:"sc-2yxmv2-0"})([""]),Le=function(e){var t=e.branches,a=e.onSelect,n=e.onShowMap,c=e.onPrefetch;return r.a.createElement("div",{className:"mobile__pickup__list"},t&&t.map(function(e){return r.a.createElement("div",{className:"mobile__pickup__list__item","data-testid":"MobilePickupList",key:e.id},r.a.createElement("div",{className:"mobile__pickup__list__header"},e.name),r.a.createElement(xe.a,{address:e.address}),r.a.createElement(Pe,null,r.a.createElement(Te.a,{status:e,deliveryTime:e.defaultDeliveryTime,pickupTime:e.defaultPickupTime})),r.a.createElement("div",{className:"mobile__pickup__list__buttons"},r.a.createElement(g.d,{onClick:function(){return n(e)}},r.a.createElement("span",{className:"flaticon-signs"},p.b._("Show on map").toLocaleUpperCase())),e.pickupEnabled?r.a.createElement(g.b,{onClick:function(){return a(e)},onMouseEnter:function(){return c(e.id)}},r.a.createElement("span",{className:"flaticon-mark"},p.b._("Choose").toLocaleUpperCase())):r.a.createElement(g.b,{disabled:!0},r.a.createElement("span",{className:"flaticon-mark"},p.b._("Delivery only").toLocaleLowerCase()))))}))},Fe=a(892),Re=a(980),De=a(79),$e=pe.c.div.withConfig({displayName:"MobilePickupMap__ButtonStripeContainerStyled",componentId:"i1yiwv-0"})(["margin-top:2rem;z-index:10;"]),Ue=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.panToBranch()}},{key:"componentDidUpdate",value:function(){this.panToBranch()}},{key:"panToBranch",value:function(){var e=this.props,t=e.model,a=e.branch;a&&t.panToLocation(a.gps)}},{key:"render",value:function(){var e=this.props,t=e.model,a=e.branch,n=e.onSelect,c=a?Object(De.a)({latitude:Number(a.gps.latitude),longitude:Number(a.gps.longitude)}):void 0;return r.a.createElement("div",null,r.a.createElement("div",{className:"mobile__map__view"},r.a.createElement(P.a,{model:t},r.a.createElement(Fe.Marker,{position:c}))),a&&a.pickupEnabled&&r.a.createElement($e,null,r.a.createElement(Re.a,null,r.a.createElement(g.b,{onClick:n,"data-testid":"mobilePickupMap__SubmitButton"},p.b._("Choose branch").toLocaleUpperCase()))),a&&!a.pickupEnabled&&r.a.createElement($e,null,r.a.createElement(Re.a,null,r.a.createElement(g.b,{disabled:!0,"data-testid":"mobilePickupMap__SubmitButton"},p.b._("Delivery only").toLocaleLowerCase()))))}}]),t}(n.PureComponent),Ve=function(e){var t=e.history,a=e.match,n=Object(L.c)(),c=n.order,i=n.map,o=n.business,l=function(){var e=Object(je.a)(Se.a.mark(function e(a){return Se.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.createPickupOrder(a);case 2:t.push("/order");case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),m=function(e){return r.a.createElement(N,{text:e?e.name:p.b._("Choose branch"),buttonText:p.b._("Back"),onButtonClick:function(){return t.goBack()}})},u=function(e){return r.a.createElement(Ue,{model:i,branch:e,onSelect:function(){return e&&l(e.id)}})},s=a.params.branchId;return o.isBrand?r.a.createElement(Me.d,{variables:{brandId:o.brandId},renderLoading:!s,render:function(e){var a=e.branches,n=a&&a.find(Be.a.propEq("id",s))||null;return r.a.createElement(r.a.Fragment,null,m(n),n?u(n):function(e){return r.a.createElement(Le,{branches:e,onShowMap:function(e){var a=e.id;return t.push("/pickup/".concat(a))},onSelect:function(e){var t=e.id;return l(t)},onPrefetch:function(e){return c.prefetchFoodMenu(e)}})}(a))}}):r.a.createElement(Me.c,{variables:{branchId:o.branchId},renderLoading:!1,render:function(e,t){var a=e.branch;t.loading;return r.a.createElement(r.a.Fragment,null,m(a),u(a))}})},ze=(a(1209),a(1210)),Ae=a.n(ze);function Ge(){var e=Object(K.a)(["\n  query GSmartBanner($branchId: ID!, $platform: MobilePlatformEnum!) {\n    app: mobileApplicationSettings(\n      companyBranch: $branchId\n      platform: $platform\n    ) {\n      title\n      url\n      icon\n    }\n  }\n"]);return Ge=function(){return e},e}var qe=X()(Ge()),He=Object(ke.a)(qe),Je=pe.c.div.withConfig({displayName:"MobileSmartBanner__SmartBannerContainer",componentId:"sf9ud3-0"})(["border-bottom:1px solid #8f8f8f;height:81px;position:absolute;z-index:1;top:3rem;width:100%;"]),We=function(e){return r.a.createElement(L.b,{observe:!0,render:function(e){var t=e.business,a=function(){var e=new Ae.a(window.navigator.userAgent).getOS();if("iOS"===e.name)return O.l.Ios;if("Android"===e.name)return O.l.Android;return null}();if(!t.isValid||null===a)return null;var n=t.ensureBannerForCurrentBranch();if(!n.shouldBeVisible)return null;return r.a.createElement(He,{variables:{branchId:n.branchId,platform:a},render:function(e){var t=e.app;return t?r.a.createElement(Je,null,r.a.createElement("div",{className:"smartbanner smartbanner-ios smartbanner-top"},r.a.createElement("div",{className:"smartbanner-container"},r.a.createElement("a",{className:"smartbanner-close",onClick:n.setClosedNow},"\xd7"),r.a.createElement("span",{className:"smartbanner-icon",style:{backgroundImage:"url(".concat(t.icon,")")}}),r.a.createElement("div",{className:"smartbanner-info"},r.a.createElement("div",{className:"smartbanner-title"},t.title),r.a.createElement("div",{className:"smartbanner-description"},r.a.createElement(o.Trans,{id:"Free"}))),r.a.createElement("div",{className:"smartbanner-wrapper"},r.a.createElement("a",{href:t.url,onClick:n.setInstalledNow,className:"smartbanner-button"},r.a.createElement("span",{className:"smartbanner-button-text"},r.a.createElement(o.Trans,{id:"Show app"}))))))):null}})}})};t.default=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(c.Route,{path:"/",component:We}),r.a.createElement(i.e,{fluid:!0},r.a.createElement(c.Route,{exact:!0,path:"/",component:ne}),r.a.createElement(c.Route,{path:"/pickup/:branchId?",component:Ve}),r.a.createElement(c.Route,{path:"/delivery",component:R}),r.a.createElement(c.Route,{path:"/order",component:Ie}),r.a.createElement(c.Route,{path:"/confirm",component:x}),r.a.createElement(c.Route,{path:"/finish",component:G})))}}}]);
//# sourceMappingURL=11.ac2b07d9.chunk.js.map