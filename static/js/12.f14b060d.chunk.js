(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{1023:function(e,a,n){"use strict";n.r(a);var t=n(88),r=n(1),c=n.n(r),l=n(64),o=n(48),i=n(891),m=(n(892),n(872)),s=n(89),u=n(106),d=n(42),p=n(32),f=n(30),h=n(58),E=n(880),b=n(31),g=function(e){var a=e.address,n=Object(d.b)(),t=n.order,r=n.location;return Object(u.useObserver)(function(){switch(t.orderMethod){case p.a.Messenger:return c.a.createElement("span",null,b.b._("Order to address"),": ",c.a.createElement("b",null,r.address));case p.a.Pickup:return c.a.createElement("span",null,b.b._("Pickup at address"),":"," ",c.a.createElement("b",null,c.a.createElement(E.a,{address:a})));default:return null}})},_=(n(938),n(877)),v=function(e){var a=e.status,n=Object(_.a)({status:a}),t=n.decision,r=n.closingIn;if("ClosingSoon"===t){var l=b.b._("{closingIn, plural, one {closing in 1 minute} few {closing in # minutes} other {closing in # minutes}}",{closingIn:r});return c.a.createElement(o.a,{className:"shop__header__alert"},b.b._("Beware! We are {closingInPlural}. Finish your order quickly.",{closingInPlural:l}))}return null},y=n(893),O=n(894),w=f.default.div.withConfig({displayName:"ShopIntro__ShopIntroStyled",componentId:"sc-1y9oodo-0"})(["margin:0.8rem 1rem 1rem 1.3rem;"]),I=function(e){var a=e.intro;return c.a.createElement(w,{"data-testid":"headerText"},a?a.headerText:"")},j=n(122),C=n(881),k=function(e){var a=e.url,n=e.children;return a?c.a.createElement("a",{href:a},n):c.a.createElement(j.b,{to:"/"},n)},N=f.default.div.withConfig({displayName:"ShopLogo__LogoContainerStyled",componentId:"sc-1w8zqwj-0"})(["height:200px;width:400px;flex:0 0 400px;& .shop__header__logo{height:100%;}"]),x=function(e){return c.a.createElement(N,null,c.a.createElement(k,e,c.a.createElement(C.a,{className:"shop__header__logo",imageName:"storeLogo",size:"cover"})))},S=n(217),P=n(146),F=n(895),T=Object(f.default)(o.e).withConfig({displayName:"ShopOpeningHours__ShopOpeningHoursContainer",componentId:"sc-12n5y3v-0"})(["margin:0.4rem 0 0 0.1rem;display:flex;"]),H=f.default.div.withConfig({displayName:"ShopOpeningHours__ShopOpeningHoursTimes",componentId:"sc-12n5y3v-1"})(["padding-left:2rem;"]),L=f.default.div.withConfig({displayName:"ShopOpeningHours__ShopOpeningHoursStatus",componentId:"sc-12n5y3v-2"})(["padding-left:2rem;"]),M=f.default.div.withConfig({displayName:"ShopOpeningHours__ShopOpeningHoursIcon",componentId:"sc-12n5y3v-3"})(["margin:-0.2rem 0 0 -1rem;position:absolute;"]),R=function(e){var a=e.branch,n=a.businessHours.filter(P.a.propEq("closed",!1));return c.a.createElement(T,{fluid:!0},c.a.createElement(M,{className:"flaticon-clock"}),n.length>0&&c.a.createElement(H,null,n.map(function(e,a){return c.a.createElement("div",{"data-testid":"openingHours",key:a},"".concat(Object(S.b)(e.openAt)," - ").concat(Object(S.b)(e.closeAt)))})),c.a.createElement(L,null,c.a.createElement(F.a,{status:a,deliveryTime:a.defaultDeliveryTime,pickupTime:a.defaultPickupTime})))},B=n(10),z=n.n(B),V=f.default.div.withConfig({displayName:"Sticker__StickerThemed",componentId:"sc-13gdre2-0"})(["background:",";color:white;margin-top:1rem;padding:0;border-radius:0 0.7rem 0.7rem 0;white-space:nowrap;flex:none;& p{display:inline-block;margin:0.6rem 1rem 0 0;vertical-align:top;white-space:nowrap;}"],function(e){return e.theme.primary}),q=f.default.span.withConfig({displayName:"Sticker__IconStyled",componentId:"sc-13gdre2-1"})(["margin:0.5rem 1rem 0 0.1rem;&:before,:after{font-size:1.8rem;margin:0 0 0 1rem;}"]),A=function(e){var a=e.success,n=void 0!==a&&a,t=e.children;return c.a.createElement(V,{className:z()("right__sticker",{"order-method-unselected":!n,"order-method-selected":n})},c.a.createElement(q,{className:"flaticon-transport"}),c.a.createElement("p",null,t))},U=f.default.div.withConfig({displayName:"ShopHeader__ShopHeaderStyled",componentId:"sc-16i2701-0"})(["display:flex;min-height:200px;"]),D=f.default.div.withConfig({displayName:"ShopHeader__ShopHeaderInfoStyled",componentId:"sc-16i2701-1"})(["display:flex;flex-direction:column;align-items:flex-start;"]),G=function(e){var a=e.branch,n=e.intro,t=e.isLoading;return c.a.createElement("div",null,c.a.createElement(o.p,{className:"justify-content-md-center"},c.a.createElement(O.a,null)),c.a.createElement(o.p,{className:"row-white justify-content-md-center"},c.a.createElement(m.a,null,c.a.createElement(U,{"data-testid":"shopHeader"},t||!a?null:c.a.createElement(c.a.Fragment,null,c.a.createElement(x,{url:n?n.homepageUrl:null}),c.a.createElement(D,null,c.a.createElement(l.Route,{exact:!0,path:"/",render:function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement(A,null,c.a.createElement(h.Trans,{id:"Choose your delivery option below"})),c.a.createElement(I,{intro:n}))}}),c.a.createElement(l.Route,{path:"/order",render:function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement(y.a,{status:a}),c.a.createElement(A,{success:!0},c.a.createElement(g,{address:a.address})),c.a.createElement(R,{branch:a}),c.a.createElement(v,{status:a}),c.a.createElement(I,{intro:n}))}}),c.a.createElement(l.Route,{path:"/finish",render:function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement(A,{success:!0},c.a.createElement(h.Trans,{id:"Order was send"})),c.a.createElement(R,{branch:a}),c.a.createElement(I,{intro:n}))}})))))))},J=Object(u.observer)(function(){var e=Object(d.b)(),a=e.order,n=e.business,t=Object(p.G)(Object(s.a)({},n.brandOrBranch,{branchId:a.branchId||n.branchId}),{skip:!n.isValid}),r=t.data,l=t.loading;return c.a.createElement(G,{branch:r.branch,intro:r.intro,isLoading:l})}),W=n(896),Y=n(897),K=n(898),Q=n(899),X=function(e){return Object(i.a)(e),c.a.createElement(c.a.Fragment,null,c.a.createElement(J,null),c.a.createElement(o.p,{className:"justify-content-md-center"},c.a.createElement(m.a,null,c.a.createElement("div",{className:"finish__view"},c.a.createElement(Y.a,{render:function(e){return c.a.createElement(c.a.Fragment,null,c.a.createElement(K.a,{order:e.order}),c.a.createElement(Q.a,{branch:e.companyBranch}),c.a.createElement(W.a,{finish:e}))}})))))},Z=(n(944),n(123)),$=n(900),ee=n(142),ae=n(882),ne=n(933),te=n(22),re=n.n(te),ce=n(26),le=n(63),oe=(n(980),n(878)),ie=n(15),me=n(104),se=n(883),ue=n(199),de=n(216),pe=n.n(de),fe=n(87),he=f.default.div.withConfig({displayName:"PickupMapBranch__StyledPickupMapBranch",componentId:"sc-1kkamvy-0"})(["font-size:1rem;display:flex;flex-direction:column;background-color:white;max-width:18rem;min-width:13rem;border-radius:8px;box-shadow:0 2px 7px 1px rgba(0,0,0,0.3);> header{flex:0 0 auto;background-color:",";color:",";padding:0.4rem;padding-right:1.3rem;border-radius:8px 8px 0 0;}> p{flex:1 1 0;margin:0.5rem;}> button{flex:1 0 auto;margin:0 0.3rem 0.3rem 0.3rem;}> .close{position:absolute;right:0;top:0;padding:0.5rem;font-size:0.9rem;cursor:pointer;&:hover{border-radius:0 8px 0 0;background-color:",";}}"],function(e){return e.theme.primary},function(e){return e.theme.tertiaryText},function(e){var a=e.theme;return pe()(a.primary).lighten(.5).toString()}),Ee=function(e){var a=e.branch,n=e.onConfirm,t=e.onClose,r=Object(_.a)({status:a});return c.a.createElement(he,null,c.a.createElement("div",{className:"close",onClick:t},"\ud83d\uddd9"),c.a.createElement("header",null,a.name),c.a.createElement("p",null,c.a.createElement(E.a,{address:a.address})),c.a.createElement(fe.b,{color:"primary","data-testid":"submitPickupBranch",disabled:!a.pickupEnabled,onClick:n},a.pickupEnabled?function(e){var a=e.decision,n=e.openingIn,t=e.closingIn;switch(a){case"Closed":return c.a.createElement(h.Trans,{id:"Closed"});case"ClosingSoon":return c.a.createElement(h.Trans,{id:"{closingIn, plural, one {Closing in 1 minute} other {Closing in # minutes}}",values:{closingIn:t}});case"OpeningSoon":return c.a.createElement(h.Trans,{id:"{openingIn, plural, one {Opening in 1 minute} other {Opening in # minutes}}",values:{openingIn:n}});default:return b.b._("Pickup here").toLocaleUpperCase()}}(r):c.a.createElement(h.Trans,{id:"Delivery only"})))};var be,ge=(be={},Object(ee.a)(be,p.a.Messenger,Object(r.createFactory)(ne.a)),Object(ee.a)(be,p.a.Pickup,Object(r.createFactory)(function(e){var a=e.onConfirm,n=Object(d.b)(),t=n.order,l=n.business,o=n.map,i=Object(r.useState)(null),m=Object(le.a)(i,2),s=m[0],p=m[1];Object(u.useDisposable)(function(){return Object(ie.when)(function(){return null!==l.branchId&&null===s},function(){p(l.branchId)})}),Object(r.useEffect)(function(){s&&t.prefetchFoodMenu(s)},[s]);var f=Object(r.useCallback)(function(){var e=Object(ce.a)(re.a.mark(function e(n){return re.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.setBranch(n),e.next=3,t.createPickupOrder(n);case 3:a();case 4:case"end":return e.stop()}},e)}));return function(a){return e.apply(this,arguments)}}(),[a]),h=function(e){return c.a.createElement(oe.Marker,{key:e.id,position:Object(me.a)(e.gps),onClick:function(){return p(e.id)}})},E=function(e){return c.a.createElement(oe.OverlayView,{key:e.id,position:Object(me.a)(e.gps),getPixelPositionOffset:function(e){return{x:0===e?-131:-e/2,y:8}},mapPaneName:oe.OverlayView.OVERLAY_MOUSE_TARGET},c.a.createElement(Ee,{branch:e,onClose:function(){p(null)},onConfirm:function(){f(e.id)}}))};return Object(u.useObserver)(function(){return l.isBrand?c.a.createElement(ue.d,{variables:{brandId:l.brandId},renderLoading:!1,render:function(e){var a=e.branches,n=a&&a.find(P.a.propEq("id",l.branchId)),t=null!==s&&a&&a.find(P.a.propEq("id",s));return c.a.createElement(c.a.Fragment,null,c.a.createElement(se.a,{map:o,gps:n&&n.gps}),a&&a.map(h),t&&E(t))}}):c.a.createElement(ue.c,{variables:{branchId:l.branchId},renderLoading:!1,render:function(e){var a=e.branch;return c.a.createElement(c.a.Fragment,null,c.a.createElement(se.a,{map:o,gps:a&&a.gps}),a&&c.a.createElement(c.a.Fragment,null,h(a),E(a),"}"))}})})})),be),_e=function(e){var a=e.onConfirm,n=Object(d.b)(),t=n.order,r=n.map;return Object(u.useObserver)(function(){return c.a.createElement(ae.a,{model:r},ge[t.orderMethod]({onConfirm:a}))})},ve=function(){var e=Object(Z.useRouterContext)().history;return c.a.createElement(c.a.Fragment,null,c.a.createElement(J,null),c.a.createElement(o.p,{className:"justify-content-md-center"},c.a.createElement(m.a,null,c.a.createElement("div",{className:"map__view"},c.a.createElement("div",{className:"map__view__header"},c.a.createElement($.a,null)),c.a.createElement(_e,{onConfirm:function(){return e.push("/order")}})))))},ye=(n(981),n(215)),Oe=n(931),we=n(932),Ie=n(913),je=(n(993),n(914)),Ce=n(936),ke=n(922),Ne=n(934),xe=n(925),Se=(n(924),n(926)),Pe=n(928),Fe=function(){return c.a.createElement("div",{className:"order__payment__method"},c.a.createElement(Pe.a,{method:p.i.Gopay,"data-testid":"orderPaymentMethod__GoPay"},b.b._("Pay by card").toLocaleUpperCase()),c.a.createElement(Pe.a,{method:p.i.Cash,"data-testid":"orderPaymentMethod__Cash"},b.b._("Pay by cash").toLocaleUpperCase()),c.a.createElement(Se.a,null))},Te=n(907),He=Object(u.observer)(function(){var e=Object(d.b)().order,a=Object(p.D)({orderId:e.orderId},{skip:!e.orderId}),n=a.data,t=a.loading,r=e.isVamInitialized&&!t&&n.order.countWares>0;return c.a.createElement(xe.a,{render:function(e,a){return c.a.createElement("div",{className:"order__form"},c.a.createElement("div",{className:"order__form__inner"},c.a.createElement(ke.a,{onFill:function(a){return e.setAllValues(a)}}),c.a.createElement(Ne.a,null),c.a.createElement(Fe,null),c.a.createElement(Ce.a,null)),c.a.createElement(Te.a,{onClick:e.submitForm,canSubmit:r,isSubmitting:a},c.a.createElement(h.Trans,{id:"Place order"})))}})}),Le=n(929),Me=n(935),Re=c.a.memo(function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement(He,null),c.a.createElement(Le.a,null),c.a.createElement(je.a,null),c.a.createElement(Me.a,null))}),Be=function(){var e=Object(d.b)().order;return e.hasOrder?c.a.createElement(ye.a,{branchId:e.branchId},c.a.createElement(c.a.Fragment,null,c.a.createElement(J,null),c.a.createElement(o.p,{className:"justify-content-md-center"},c.a.createElement(m.b,null,c.a.createElement("div",{className:"shop__overview__column"},c.a.createElement(we.a,null))),c.a.createElement(m.c,null,c.a.createElement("div",{className:"shop__overview__column cart__column"},c.a.createElement("div",{className:"cart__column__header"},c.a.createElement("span",{className:"flaticon-cart cart__column__header__icon"}),c.a.createElement("h4",null,b.b._("Your order"))),c.a.createElement(C.b,{className:"cart__column__cart",imageName:"backgroundCart"},c.a.createElement(Oe.a,null)),c.a.createElement(Re,null))),c.a.createElement(Ie.a,null)))):c.a.createElement(l.Redirect,{to:"/"})};a.default=function(){return Object(t.useReleaseCabinet)(alert),c.a.createElement(o.e,{fluid:!0},c.a.createElement(l.Route,{exact:!0,path:"/",component:ve}),c.a.createElement(l.Route,{path:"/order",component:Be}),c.a.createElement(l.Route,{path:"/finish",component:X}))}},938:function(e,a,n){},944:function(e,a,n){},980:function(e,a,n){},981:function(e,a,n){},993:function(e,a,n){}}]);
//# sourceMappingURL=12.f14b060d.chunk.js.map