(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{426:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,n=(a=r(0))&&a.__esModule?a:{default:a},l=r(184),d=r(435),o=r(577),u=r(581),i=r(746),c=r(764);var s=()=>n.default.createElement(d.Container,{fluid:!0},n.default.createElement(l.Route,{path:"/",component:i.ShopHeaderView}),n.default.createElement(l.Route,{exact:!0,path:"/",component:u.MapView}),n.default.createElement(l.Route,{path:"/order",component:c.ShopOverview}),n.default.createElement(l.Route,{path:"/finish",component:o.FinishView}));t.default=s},577:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FinishView=void 0,r(494);var a,n=(a=r(0))&&a.__esModule?a:{default:a},l=r(435),d=r(445),o=r(495),u=r(496),i=r(497),c=r(498);t.FinishView=(({})=>n.default.createElement(l.Row,{className:"justify-content-md-center"},n.default.createElement(d.ColStyle,null,n.default.createElement("div",{className:"finish__view"},n.default.createElement(u.FinishViewLoader,{render:e=>n.default.createElement(n.default.Fragment,null,n.default.createElement(i.FinishViewOrder,{order:e.order}),n.default.createElement(c.FinishViewSupport,{branch:e.companyBranch}),n.default.createElement(o.FinishViewFooter,{finish:e}))})))))},581:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MapView=void 0,r(582);var a,n=(a=r(0))&&a.__esModule?a:{default:a},l=r(21),d=r(435),o=r(445),u=r(499),i=r(586);t.MapView=(()=>n.default.createElement(d.Row,{className:"justify-content-md-center"},n.default.createElement(o.ColStyle,null,n.default.createElement("div",{className:"map__view"},n.default.createElement("div",{className:"map__view__header"},n.default.createElement(u.OrderMethod,null)),n.default.createElement(l.Route,null,({history:e})=>n.default.createElement(i.OrderMap,{onConfirm:()=>e.push("/order")}))))))},582:function(e,t,r){},586:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OrderMap=void 0;var a=r(183),n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};a.get||a.set?Object.defineProperty(t,r,a):t[r]=e[r]}return t.default=e,t}(r(0)),l=r(472),d=r(48),o=r(97),u=r(540),i=r(741);const c={[o.DeliveryTypeEnum.Messenger]:(0,n.createFactory)(u.DeliveryMap),[o.DeliveryTypeEnum.Pickup]:(0,n.createFactory)(i.PickupMap)};t.OrderMap=(({onConfirm:e})=>n.default.createElement(d.WithRoot,{render:t=>n.default.createElement(l.BaseMap,{model:t.map,render:()=>n.default.createElement(a.Observer,null,()=>t.business.isValid?(0,c[t.order.orderMethod])({rootModel:t,onConfirm:e}):null)})}))},741:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PickupMap=void 0,r(742);var a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};a.get||a.set?Object.defineProperty(t,r,a):t[r]=e[r]}return t.default=e,t}(r(0)),n=r(453),l=r(98),d=r(744),o=r(188),u=r(745);t.PickupMap=class extends a.Component{constructor(){super(...arguments),this.state={branchId:null},this.setNoBranch=(()=>{this.setState({branchId:null})}),this.renderSite=(e=>a.default.createElement(n.Marker,{key:e.id,position:{lat:e.gps.latitude,lng:e.gps.longitude},onClick:()=>this.setActiveBranch(e.id)},this.state.branchId===e.id?a.default.createElement(n.InfoWindow,{onCloseClick:this.setNoBranch,defaultOptions:{maxWidth:200}},a.default.createElement(u.PickupMapBranch,{branch:e,onConfirm:()=>{this.props.rootModel.order.setBranch(e.id),this.onConfirm(e.id)}})):null))}componentDidMount(){this.setActiveBranch(this.props.rootModel.business.branchId)}setActiveBranch(e){this.setState({branchId:e}),this.props.rootModel.order.prefetchFoodMenu(e)}onConfirm(e){this.props.rootModel.order.createPickupOrder(e,this.props.onConfirm)}render(){const{map:e,business:t}=this.props.rootModel;return t.isBrand?a.default.createElement(o.QueryPickupMapBrand,{variables:{brandId:t.brandId},renderLoading:!1,render:({branches:r})=>{const n=r&&r.find(l.RM.propEq("id",t.branchId));return a.default.createElement(a.default.Fragment,null,a.default.createElement(d.MapPanning,{map:e,gps:n&&n.gps}),r&&r.map(this.renderSite))}}):a.default.createElement(o.QueryPickupMapBranch,{variables:{branchId:t.branchId},renderLoading:!1,render:({branch:t})=>a.default.createElement(a.default.Fragment,null,a.default.createElement(d.MapPanning,{map:e,gps:t&&t.gps}),t&&this.renderSite(t))})}}},742:function(e,t,r){},744:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MapPanning=void 0;var a,n=(a=r(0))&&a.__esModule?a:{default:a};t.MapPanning=class extends n.default.PureComponent{componentDidMount(){this.executePanning()}componentDidUpdate(){this.executePanning()}executePanning(){const{map:e,gps:t}=this.props;e&&t&&e.panToLocation(t)}render(){return null}}},745:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PickupMapBranch=void 0;var a=r(94),n=c(r(0)),l=c(r(60)),d=r(439),o=r(483),u=r(470),i=r(61);function c(e){return e&&e.__esModule?e:{default:e}}const s=l.default.div.withConfig({displayName:"PickupMapHeaderStyled"})`
  background-color: ${({theme:e})=>e.primary};
  color: ${({theme:e})=>e.tertiaryText};
  text-align: center;
  padding: 0.4rem 0.2rem 0.2rem 0.2rem;
  height: 2rem;
  vertical-align: middle;
`;t.PickupMapBranch=(({branch:e,onConfirm:t})=>n.default.createElement("div",{className:"pickup__map"},n.default.createElement(s,{className:"pickup__map__header"},e.name),n.default.createElement("div",{className:"pickup__map__info"},n.default.createElement(o.ShopAddress,{address:e.address})),n.default.createElement(u.ShopStatus,{status:e,render:r=>n.default.createElement(d.PrimaryButton,{color:"primary","data-testid":"submitPickupBranch",disabled:!e.pickupEnabled,onClick:t},e.pickupEnabled?function({decision:e,openingIn:t,closingIn:r}){switch(e){case"Closed":return n.default.createElement(a.Trans,{id:"Closed"});case"ClosingSoon":return n.default.createElement(a.Trans,{id:"{closingIn, plural, one {Closing in 1 minute} other {Closing in # minutes}}",values:{closingIn:r}});case"OpeningSoon":return n.default.createElement(a.Trans,{id:"{openingIn, plural, one {Opening in 1 minute} other {Opening in # minutes}}",values:{openingIn:t}});default:return i.i18n._("Pickup here").toLocaleUpperCase()}}(r):n.default.createElement(a.Trans,{id:"Delivery only"}))})))},746:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ShopHeaderView=void 0;var a,n=(a=r(0))&&a.__esModule?a:{default:a},l=r(48),d=r(747),o=r(763);const u=e=>n.default.createElement(l.WithRoot,{observe:!0,render:e=>n.default.createElement(o.QueryShopHeader,{variables:{branchId:e.order.branchId||e.business.branchId},skip:!e.business.isValid,renderLoading:!1,render:({branch:e},{loading:t})=>n.default.createElement(d.ShopHeader,{branch:e,isLoading:t})})});t.ShopHeaderView=u;var i=u;t.default=i},747:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ShopHeader=void 0;var a=r(94),n=E(r(0)),l=r(21),d=r(435),o=E(r(60)),u=r(445),i=r(748),c=r(749),s=r(542),m=r(543),f=r(759),p=r(760),h=r(761),_=r(762);function E(e){return e&&e.__esModule?e:{default:e}}const v=o.default.div.withConfig({displayName:"ShopHeaderStyled"})`
  display: flex;
  min-height: 200px;
`,y=o.default.div.withConfig({displayName:"ShopHeaderInfoStyled"})`
  display: flex;
  flex-direction: column;
  align-items: flex-start;
`;t.ShopHeader=(({branch:e,isLoading:t})=>n.default.createElement("div",null,n.default.createElement(d.Row,{className:"justify-content-md-center"},n.default.createElement(m.ShopHeaderIcons,null)),n.default.createElement(d.Row,{className:"row-white justify-content-md-center"},n.default.createElement(u.ColStyle,null,n.default.createElement(v,{"data-testid":"shopHeader"},t?null:n.default.createElement(n.default.Fragment,null,n.default.createElement(p.ShopLogo,{url:e&&e.homepageUrl||""}),n.default.createElement(y,null,n.default.createElement(l.Route,{exact:!0,path:"/",render:()=>n.default.createElement(n.default.Fragment,null,n.default.createElement(_.Sticker,null,n.default.createElement(a.Trans,{id:"Choose your delivery option below"})),n.default.createElement(f.ShopIntro,{branch:e}))}),n.default.createElement(l.Route,{path:"/order",render:()=>n.default.createElement(n.default.Fragment,null,n.default.createElement(s.ShopClosingTimeModal,{status:e}),n.default.createElement(_.Sticker,{success:!0},n.default.createElement(i.OrderAddress,{address:e&&e.address})),n.default.createElement(h.ShopOpeningHours,{branch:e}),n.default.createElement(f.ShopIntro,{branch:e}))}),n.default.createElement(l.Route,{path:"/finish",render:()=>n.default.createElement(n.default.Fragment,null,n.default.createElement(_.Sticker,{success:!0},n.default.createElement(a.Trans,{id:"Order was send"})),n.default.createElement(h.ShopOpeningHours,{branch:e}),n.default.createElement(f.ShopIntro,{branch:e}))})),n.default.createElement(c.ShopCloseAlert,{status:e})))))))},748:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OrderAddress=void 0;var a,n=(a=r(0))&&a.__esModule?a:{default:a},l=r(483),d=r(48),o=r(97),u=r(61);t.OrderAddress=(({address:e})=>n.default.createElement(d.WithRoot,{render:t=>{switch(t.order.orderMethod){case o.DeliveryTypeEnum.Messenger:return n.default.createElement("span",null,u.i18n._("Order to address"),": ",n.default.createElement("b",null,t.location.address));case o.DeliveryTypeEnum.Pickup:return n.default.createElement("span",null,u.i18n._("Pickup at address"),":"," ",n.default.createElement("b",null,n.default.createElement(l.ShopAddress,{address:e})));default:return null}}}))},749:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ShopCloseAlert=void 0,r(750);var a,n=r(94),l=(a=r(0))&&a.__esModule?a:{default:a},d=r(435),o=r(470);t.ShopCloseAlert=(({status:e,now:t})=>e?l.default.createElement(o.ShopStatus,{now:t,status:e,render:({decision:e,closingIn:t})=>"ClosingSoon"===e?l.default.createElement(d.Alert,{className:"shop__header__alert"},l.default.createElement(n.Trans,{id:"Beware! We are {closingIn, plural, one {closing in 1 minute} other {closing in # minutes}} . Finish your order quickly.",values:{closingIn:t}})):null}):null)},750:function(e,t,r){},759:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ShopIntro=void 0;var a=n(r(0));function n(e){return e&&e.__esModule?e:{default:e}}const l=n(r(60)).default.div.withConfig({displayName:"ShopIntroStyled"})`
  margin: 0.8rem 1rem 1rem 1.3rem;
`;t.ShopIntro=(({branch:e})=>a.default.createElement(l,{"data-testid":"headerText"},e?e.headerText:""))},760:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ShopLogo=void 0;var a=o(r(0)),n=r(184),l=o(r(60)),d=r(486);function o(e){return e&&e.__esModule?e:{default:e}}const u=({url:e,children:t})=>e?a.default.createElement("a",{href:e},t):a.default.createElement(n.Link,{to:"/"},t),i=l.default.div.withConfig({displayName:"LogoContainerStyled"})`
  height: 200px;
  width: 400px;
  flex: 0 0 400px;
  & .shop__header__logo {
    height: 100%;
  }
`;t.ShopLogo=(e=>a.default.createElement(i,null,a.default.createElement(u,e,a.default.createElement(d.BackgroundThemed,{className:"shop__header__logo",imageName:"storeLogo",size:"cover"}))))},761:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ShopOpeningHours=void 0;var a=o(r(0)),n=o(r(60)),l=r(61),d=r(544);function o(e){return e&&e.__esModule?e:{default:e}}const u=n.default.div.withConfig({displayName:"ContainerStyled"})`
  margin: 0.4rem 0 0 0.1rem;
`,i=n.default.div.withConfig({displayName:"OpeningHoursStyled"})`
  margin: -0.2rem 0 0 1.35rem;
  display: inline-block;
  vertical-align: middle;
`,c=n.default.span.withConfig({displayName:"StatusDisplayPosition"})`
  padding-left: 2rem;
`;t.ShopOpeningHours=(({branch:e})=>a.default.createElement(u,null,a.default.createElement("span",{className:"flaticon-clock"}),e&&e.businessHours.map(e=>a.default.createElement(i,{"data-testid":"openingHours",key:e.id},e.closed?e.closedNote||l.i18n._("Closed"):`${e.openAt} - ${e.closeAt}`)),a.default.createElement(c,null,a.default.createElement(d.ShopStatusDisplay,{status:e}))))},762:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sticker=void 0;var a=d(r(185)),n=d(r(0)),l=d(r(60));function d(e){return e&&e.__esModule?e:{default:e}}const o=l.default.div.withConfig({displayName:"StickerThemed"})`
  background: ${({theme:e})=>e.primary};
  color: white;
  margin-top: 1rem;
  padding: 0;
  border-radius: 0 0.7rem 0.7rem 0;
  white-space: nowrap;
  flex: none;

  & p {
    display: inline-block;
    margin: 0.6rem 1rem 0 0;
    vertical-align: top;
    white-space: nowrap;
  }
`,u=l.default.span.withConfig({displayName:"IconStyled"})`
  margin: 0.5rem 1rem 0 0.1rem;
  &:before,:after {
  font-size: 1.8rem;
  margin: 0 0 0 1rem;
  }
}
`;t.Sticker=(({success:e=!1,children:t})=>n.default.createElement(o,{className:(0,a.default)("right__sticker",{"order-method-unselected":!e,"order-method-selected":e})},n.default.createElement(u,{className:"flaticon-transport"}),n.default.createElement("p",null,t)))},763:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QueryShopHeader=t.ShopHeaderQuery=void 0;var a,n=(a=r(18))&&a.__esModule?a:{default:a},l=r(99),d=r(25);const o=n.default`
  query GShopHeader($branchId: ID!) {
    branch: companyBranch(id: $branchId) {
      id
      name
      phone
      homepageUrl
      headerText
      address {
        ...GAddress
      }
      ...GCompanyBranchStatus
    }
  }
  ${d.AddressFragment}
  ${d.CompanyBranchStatusFragment}
`;t.ShopHeaderQuery=o;const u=(0,l.buildQuery)(o);t.QueryShopHeader=u},764:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ShopOverview=void 0,r(765);var a=m(r(0)),n=r(435),l=m(r(486)),d=r(445),o=r(61),u=r(545),i=r(549),c=r(555),s=r(807);function m(e){return e&&e.__esModule?e:{default:e}}t.ShopOverview=(()=>a.default.createElement(n.Row,{className:"justify-content-md-center"},a.default.createElement(d.ColStyleLeft,null,a.default.createElement("div",{className:"shop__overview__column"},a.default.createElement(i.FoodMenuView,null))),a.default.createElement(d.ColStyleRight,null,a.default.createElement("div",{className:"shop__overview__column cart__column"},a.default.createElement("div",{className:"cart__column__header"},a.default.createElement("span",{className:"flaticon-cart cart__column__header__icon"}),a.default.createElement("h4",null,o.i18n._("Your order"))),a.default.createElement(l.default,{className:"cart__column__cart",imageName:"backgroundCart"},a.default.createElement(u.CartView,null)),a.default.createElement(s.OrderFormView,null))),a.default.createElement(c.OrderFormStorageNotice,null)))},765:function(e,t,r){},807:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OrderFormView=void 0,r(808);var a,n=(a=r(0))&&a.__esModule?a:{default:a},l=r(442),d=r(557),o=r(810),u=r(556),i=r(571);t.OrderFormView=(()=>n.default.createElement(l.WithOrder,{render:e=>n.default.createElement(n.default.Fragment,null,n.default.createElement(u.QueryOrderForm,{variables:{orderId:e.orderId},renderLoading:!1,render:({order:t})=>t&&0!==t.countWares?n.default.createElement(o.OrderForm,{order:e}):null}),n.default.createElement(i.OrderGoPayModal,{order:e}),n.default.createElement(d.OrderErrorModal,null))}))},808:function(e,t,r){},810:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OrderForm=void 0;var a,n=(a=r(0))&&a.__esModule?a:{default:a},l=r(558),d=r(566),o=r(568),u=r(833),i=r(569);t.OrderForm=(({order:e})=>n.default.createElement(o.OrderFormSetup,{order:e,render:t=>n.default.createElement("div",{className:"order__form"},n.default.createElement("div",{className:"order__form__inner"},n.default.createElement(d.OrderFormInputs,null),n.default.createElement(u.OrderPaymentMethod,null),n.default.createElement(l.OrderAgreements,null)),n.default.createElement(i.OrderSubmitLine,{onClick:t.submitForm,canSubmit:e.isVamInitialized}))}))},833:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OrderPaymentMethod=void 0,r(834);var a,n=(a=r(0))&&a.__esModule?a:{default:a},l=r(97),d=r(61),o=r(836);t.OrderPaymentMethod=(()=>n.default.createElement("div",{className:"order__payment__method"},n.default.createElement(o.OrderPaymentButton,{method:l.PaymentGateEnum.Gopay,"data-testid":"orderPaymentMethod__GoPay"},d.i18n._("Pay by card").toLocaleUpperCase()),n.default.createElement(o.OrderPaymentButton,{method:l.PaymentGateEnum.Cash,"data-testid":"orderPaymentMethod__Cash"},d.i18n._("Pay by cash").toLocaleUpperCase())))},834:function(e,t,r){},836:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OrderPaymentButton=void 0;var a,n=(a=r(0))&&a.__esModule?a:{default:a},l=r(447),d=r(439);function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}var u=function(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var n=0;for(a=Object.getOwnPropertySymbols(e);n<a.length;n++)t.indexOf(a[n])<0&&(r[a[n]]=e[a[n]])}return r};function i({show:e}){return e?n.default.createElement("span",{className:"flaticon-mark order__payment__method__button__checked"}):n.default.createElement("div",{className:"order__payment__method__button__unchecked"})}t.OrderPaymentButton=(e=>{var{children:t,disabled:r,method:a}=e,c=u(e,["children","disabled","method"]);return n.default.createElement(l.Field,{field:"payment",render:e=>n.default.createElement(d.SelectButtonThemed,o({disabled:r,selected:e.value===a,onClick:()=>{e.setValue(a)}},c),n.default.createElement(i,{show:e.value===a}),t)})})}}]);
//# sourceMappingURL=3.772c21cb.chunk.js.map