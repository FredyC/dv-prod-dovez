(window.webpackJsonpdoveze=window.webpackJsonpdoveze||[]).push([[1],{1070:function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return c}),n.d(t,"c",function(){return l});var r=n(0),a=n.n(r),o=n(1360),i=function(e){var t=e.children;return a.a.createElement(o.a,{className:"pl-sm-0",sm:"12",md:"12",lg:"10",xl:"8"},t)},c=function(e){var t=e.children;return a.a.createElement(o.a,{className:"pl-sm-0",sm:"8",md:"8",lg:"6",xl:"5"},t)},l=function(e){var t=e.children;return a.a.createElement(o.a,{className:"pl-sm-0",sm:"4",md:"4",lg:"4",xl:"3"},t)}},1071:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=[]},1072:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(59),a=n(23),o=n(168);function i(){var e=Object(a.b)(),t=Object(o.a)(),n=Object(r.g)().history;Object(r.i)(function(){return e.initialized},function(){t.hasOrder||(t.log("redirect for empty order"),n.push("/"))})}},1073:function(e,t,n){"use strict";n.d(t,"b",function(){return p}),n.d(t,"a",function(){return f});var r=n(35),a=n(123),o=n(277),i=n(55),c=n(0),l=n.n(c),s=n(1365),u=n(1363),d=n(1366),m=n(168),p="<hidden>",f=Object(i.a)(function(e){var t=e.name,n=e.label,i=e.errorForceDisplay,c=void 0!==i&&i,f=Object(a.a)(e,["name","label","errorForceDisplay"]),b=Object(m.a)(),h=Object(o.d)(t),g=Object(r.a)(h,2),v=g[0],y=g[1],O=l.a.createElement(s.a,{for:t,hidden:!n},f.placeholder||n),E=c||v.touched;return l.a.createElement(l.a.Fragment,null,O,l.a.createElement(u.a,Object.assign({},y(),f,{type:"text",valid:v.touched&&!v.error,invalid:E&&Boolean(v.error),disabled:b.disableInteraction})),E&&v.error!==p?l.a.createElement(d.a,{valid:!1,tooltip:!1},v.error):null)})},1075:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(59),a=n(293);function o(e){var t=e.status,n=e.updateInterval,o=void 0===n?30*r.a:n,c=e.openSoonThresholdInMinutes,l=void 0===c?15:c,s=e.closeSoonThresholdInMinutes,u=void 0===s?30:s,d=Object(r.c)();Object(r.h)({interval:o,enabled:o>0});var m=d(),p=t.isOpen,f=t.willCloseAt,b=t.willOpenAt,h=b?Object(a.a)(b,m):0,g=f?Object(a.a)(f,m):0;return{decision:p?f&&g<=0?"Closed":i(f,u,m)?"ClosingSoon":"Open":b&&h<=0?"Open":i(b,l,m)?"OpeningSoon":"Closed",openingIn:h,closingIn:g,closedNote:t.currentInterval?t.currentInterval.closedNote:null}}function i(e,t,n){return!!e&&Math.abs(Object(a.a)(e,n))<=t}},1079:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(0),a=n.n(r),o=n(45),i=function(e){var t=e.address;if(!t||!t.location)return a.a.createElement("span",null,o.b._("Unknown address"));var n=t.location;return a.a.createElement("span",null,"".concat(n.street," ").concat(n.houseNumber,",\n ").concat(n.city))}},1080:function(e,t,n){"use strict";n.d(t,"a",function(){return b});var r=n(35),a=n(161),o=n(294),i=n(296),c=n(191),l=n(295),s=n(0),u=n.n(s),d=n(23),m=n(52),p=n(274),f=15;function b(){var e=Object(d.b)(),t=e.order,n=e.cart,a=!t.branchId,o=(0,Object(m.z)({branchId:t.branchId},{skip:a}).getStash)(function(e){return e.delayedOrder}),i=u.a.useCallback(function(){return null===o?null:(e=o.intervals,p.a.flatten(e.map(h)));var e},[o]),c=u.a.useCallback(function(){return null!==o&&o.intervals.length>0},[o]),l=Object(m.o)(),s=Object(r.a)(l,1)[0],f=u.a.useCallback(function(e){s({orderId:t.orderId,withGoods:n.withGoods,deliverAt:e}),t.setDeliverAt(e)},[n,t,s]);return{getSteps:i,canBeDelayed:c,isEnabled:Boolean(o)&&o.enabled,changeDeliveryTime:f}}function h(e){var t,n,r=e.start,s=e.end,u=Object(a.a)((t=r,n=f,Object(c.a)(function(e,t){return Object(i.a)(e,Object(l.a)(e)%t)}(t,n),n))),d=[],m=Object(o.a)(Object(i.a)(s,1));do{d.push(u),u=Object(c.a)(u,f)}while(u<=m);return d}},1081:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(123),a=n(42),o=n(0),i=n.n(o),c=function(e){var t=e.imageName,n=(e.fallbackColor,e.fixed),o=void 0!==n&&n,c=e.size,l=void 0===c?"inherit":c,s=e.children,u=e.component,d=void 0===u?"div":u,m=Object(r.a)(e,["imageName","fallbackColor","fixed","size","children","component"]);return i.a.createElement(Object(a.d)(d).withConfig({displayName:"BackgroundThemed",componentId:"sc-1ju94id-0"})(["background-image:",";background-attachment:",";background-repeat:no-repeat;background-position:left top;background-size:",";"],function(e){return"url(".concat(e.theme[t],")")},function(e){return o?"fixed":"inherit"},function(e){return l}),m,s)};t.b=c},1082:function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n(95),a=n(41),o=n(23),i=n(52);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function l(e){var t=Object(o.b)().business;return Object(i.J)({branchSpecific:!t.isBrand||!!e,brandId:t.brandId,branchId:e||t.branchId},function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(n,!0).forEach(function(t){Object(r.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({skip:!t.isValid,fetchPolicy:"cache-first"},a.disableBatching))}},1083:function(e,t,n){"use strict";n.d(t,"a",function(){return f});var r=n(94),a=n(1074),o=n(20),i=n(55),c=n(0),l=n.n(c),s=n(23),u=n(51),d=n(276),m=function(e){return{streetViewControl:!1,mapTypeControl:!1,fullscreenControl:!1,clickableIcons:!1,draggableCursor:"default",minZoom:10,zoomControlOptions:{position:e?google.maps.ControlPosition.RIGHT_CENTER:google.maps.ControlPosition.RIGHT_TOP}}},p=["places"],f=Object(i.a)(function(e){var t=e.model,n=e.isMobile,i=void 0!==n&&n,c=e.children,f=Object(s.b)().user,b=Object(a.e)({id:"script-loader",version:"weekly",googleMapsApiKey:u.a.googleMapsApi,libraries:p,language:f.language}),h=b.isLoaded,g=b.loadError,v=b.url,y=Reflect.has(window,"google");return g||h&&!y?(g&&o.a.withScope(function(e){e.setExtras({googleMapUrl:v}),o.a.captureException(g)}),l.a.createElement("h2",null,l.a.createElement(r.Trans,{id:"Cannot load map right now. Please try again later."}))):h?l.a.createElement(a.a,{zoom:t.zoom,center:t.center,onCenterChanged:t.updatePosition,onZoomChanged:t.updateZoom,onClick:t.onClick,onLoad:t.setMapRef,onUnmount:function(){return t.setMapRef(null)},options:m(i),mapContainerStyle:{borderRadius:"0 0 0.5rem 0.5rem",overflow:"hidden",height:i?"100%":"calc(100% - 3.75rem)"}},"function"===typeof c?c():c):l.a.createElement(d.a,{noMargin:!0})})},1084:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(59),a=n(23),o=n(52);function i(e){var t=Object(a.b)().user,n=Object(o.A)({branchId:e},{skip:!e,fetchPolicy:"cache-first"});return Object(r.d)(function(){return t.language},function(){n.refetch()}),n}},1091:function(e,t,n){"use strict";n.d(t,"a",function(){return y}),n.d(t,"b",function(){return O});var r=n(40),a=n.n(r),o=n(62),i=n(35),c=n(59),l=n(20),s=n(277),u=n(0),d=n.n(u),m=n(1367),p=n(1073),f=n(52),b=n(168),h=n(45),g=n(1119),v=n(1120),y=50,O=function(e){var t=e.children,n=Object(b.a)(),r=Object(c.g)().history,u=Object(v.a)(),O=u.executeGoPayPayment,_=u.paymentErrorModal,j=Object(f.u)(),w=Object(i.a)(j,1)[0],k=d.a.useMemo(function(){return Object(s.b)(function(e){return{firstname:e.string().required(p.b),lastname:e.string().required(p.b),phonePrefix:e.string().required(p.b),phone:e.string().required(p.b).matches(/\d+/,h.b._("Only numbers allowed for phone")),email:e.string().required(p.b).email(h.b._("Invalid email format")),note:e.string().notRequired().max(y,function(e){var t=e.value;return h.b._("Maximum length is {NOTE_MAX_LENGTH, plural, other {# characters}}. Typed {0, plural, one {# character} other {# characters}}",{0:t.length,NOTE_MAX_LENGTH:y})})}})},[]),C=Object(g.a)().isOrderInCart;d.a.useEffect(function(){n.hasOrder&&!C&&r.replace("/")});var I=d.a.useCallback(function(){var e=Object(o.a)(a.a.mark(function e(t){var o,i,c,s,u;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.submitStarted(),o=E(t,n),e.next=4,w(o);case 4:if(i=e.sent){e.next=8;break}return n.submitFailed(),e.abrupt("return");case 8:if(c=i.submitOrder,s=c.userErrors,u=c.gopayUrl,!s.length){e.next=12;break}return n.submitFailed(s),e.abrupt("return");case 12:if(n.paymentMethod!==f.f.Cash){e.next=16;break}return n.submitFinished(),r.replace("/finish"),e.abrupt("return");case 16:n.paymentMethod===f.f.Gopay?u?O(u).finally(function(){n.submitFinished()}):(l.a.withScope(function(e){e.setExtras({variables:o}),l.a.captureMessage("No gopayUrl received for GoPay payment")}),n.submitFailed()):(l.a.withScope(function(e){e.setExtras({variables:o}),l.a.captureMessage("Unknown payment mode ".concat(n.paymentMethod))}),n.submitFailed());case 17:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),[O,r,n,w]),P=Object(s.f)({initialValues:{firstname:"",lastname:"",email:"",phone:"",phonePrefix:"",note:"",agreements:[]},validationSchema:k,onSubmit:I,onFormChanges:console.log});return d.a.useEffect(function(){n.root.cart.setOrderSubmitting(P.state.isSubmitting)},[P.state,n.root.cart]),d.a.createElement(d.a.Fragment,null,_,d.a.createElement(s.a,{value:P},d.a.createElement(m.a,{onSubmit:P.handlers.handleSubmit},t)))};function E(e,t){return{orderId:t.orderId,customer:{firstName:e.firstname,lastName:e.lastname,emails:[{email:e.email}],phones:[{phone:"".concat(e.phonePrefix).concat(e.phone)}]},note:e.note,tips:t.tips,paymentGate:t.paymentMethod,deliverAt:t.deliverAt,agreements:e.agreements}}},1093:function(e,t,n){"use strict";var r=n(94),a=(n(401),n(55)),o=n(0),i=n.n(o),c=n(731),l=n(727),s=n(728),u=n(729),d=n(23),m=n(121),p=n(1080),f=n(45),b=n(35),h=n(42),g=n(59),v=n(1371),y=n(1372),O=n(335),E=n(274),_=n(123),j=n(1109),w=n(286),k=h.d.div.withConfig({displayName:"Time",componentId:"c3eeou-0"})(["font-size:1.2rem;"]),C=function(e){var t=e.time,n=Object(_.a)(e,["time"]);return i.a.createElement(j.a,Object.assign({size:"xs",outline:!0,width:"10rem","data-testid":"timePickerButton__".concat(t.getTime())},n),i.a.createElement(k,null,Object(w.b)(t)))},I=h.d.div.withConfig({displayName:"TimePickerContainer",componentId:"sc-1341ije-0"})(["margin-top:1rem;"]),P=h.d.div.withConfig({displayName:"TimePickerDay",componentId:"sc-1341ije-1"})(["font-size:1rem;font-weight:bold;text-align:left;margin:0 0 0.2rem 0.2rem;"]),N=function(e){var t=e.steps,n=e.initialTime,a=e.onStepChange,c=Object(g.c)(),l=i.a.useMemo(function(){var e=t.filter(Object(v.a)(c()));return E.a.sort(E.a.ascend(E.a.invoker(0,"getTime")),e)},[c,t]),s=i.a.useMemo(function(){return E.a.uniq(E.a.map(y.a,l))},[l]),u=i.a.useState(0),d=Object(b.a)(u,2),m=d[0],p=d[1];return i.a.useEffect(function(){n&&p(O.a.closestIndexTo(n,l))},[n,l]),i.a.createElement(I,null,s.map(function(e){return i.a.createElement(o.Fragment,{key:e.getDate()},i.a.createElement(P,null,i.a.createElement(r.DateFormat,{value:e,format:{month:"long",day:"numeric",weekday:"long"}})),l.map(function(t,n){return O.a.isEqual(e,O.a.startOfDay(t))?i.a.createElement(C,{key:t.getTime(),time:t,isSelected:n===m,canBeSelected:!0,onClick:function(){p(n),a(t)}}):null}))}))};n.d(t,"a",function(){return S});var S=Object(a.a)(function(){var e=Object(d.b)().order,t=Object(p.a)(),n=t.getSteps,a=t.canBeDelayed,o=t.changeDeliveryTime,b=i.a.useRef(e.deliverAt),h=i.a.useCallback(function(e){b.current=e},[]),g=function(){var t=b.current;o(t),e.closeTimePicker()},v=e.usingDeliveryOrderMethod?f.b._("Deliver at what time?"):f.b._("When you will pickup the order?");return i.a.createElement(c.a,{isOpen:e.timePickerOpen,toggle:e.closeTimePicker,className:"modal__container",autoFocus:!0,backdrop:"static",fade:!1},i.a.createElement(l.a,{toggle:e.closeTimePicker,tag:s.a,className:"modal__header"},i.a.createElement("span",null,v)),i.a.createElement(u.a,{className:"modal__body"},i.a.createElement("div",{className:"modal__body__content"},a()?i.a.createElement(N,{steps:n(),initialTime:e.deliverAt,onStepChange:h}):i.a.createElement(r.Trans,{id:"It's not possible to pick a specific order time at this moment."})),i.a.createElement("div",{className:"modal__body__button__line"},a()?i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"modal__body__button__strip"}),i.a.createElement(m.a,{size:"md",onClick:g,className:"modal__body__button"},i.a.createElement(r.Trans,{id:"Confirm time"}))):null)))})},1094:function(e,t,n){},1096:function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n(275),a=n(55),o=n(0),i=n.n(o),c=n(23),l=Object(a.a)(function(e){var t=e.className,n=Object(c.b)(),a=n.business,o=n.user;return a.isValid?i.a.createElement(r.a,{availableLanguages:a.branch.supportedLanguages,selectedLanguage:o.language,onChange:function(e){e!==o.language&&(o.selectLanguage(e),setTimeout(function(){window.location.reload()},300))},className:t,backgroundColor:"white",arrowColor:"#5A5A5A"}):null})},1097:function(e,t,n){"use strict";n.d(t,"a",function(){return p});var r=n(94),a=n(55),o=n(0),i=n.n(o),c=n(23),l=n(154),s=n(121),u=n(1080),d=n(1075),m=n(45),p=Object(a.a)(function(e){var t=e.status,n=Object(c.b)(),a=n.user,o=n.order,p=Object(d.a)({status:t,updateInterval:0}),f=p.decision,b=p.openingIn,h=p.closedNote,g=Object(u.a)(),v=g.canBeDelayed,y=g.isEnabled;return o.isDelayed?null:i.a.createElement(l.a,{isOpen:("Closed"===f||"OpeningSoon"===f)&&!a.closingTimeAlertHidden,onClose:a.hideClosingTime,headerText:m.b._("We are closed right now")},i.a.createElement("p",null,h||m.b._("We're sorry, but we do not accept new orders at this time.")),"OpeningSoon"===f&&i.a.createElement("p",null,i.a.createElement(r.Trans,{id:"You can prepare your order because we are {openingIn, plural, one {opening in 1 minute} other {opening in # minutes}} !",values:{openingIn:b}})),y&&v()&&i.a.createElement(s.a,{onClick:function(){a.hideClosingTime(),o.openTimePicker()}},i.a.createElement(r.Trans,{id:"Select preorder time"})))})},1098:function(e,t,n){"use strict";n.d(t,"a",function(){return i});n(1136);var r=n(382),a=n(0),o=n.n(a),i=function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement("img",{src:Object(r.getLogo)("doveze"),className:"shop__header__icons__doveze","data-testid":"ShopHeaderIcons__AppLogo",alt:"logo Doveze.cz"}),o.a.createElement("img",{src:Object(r.getLogo)("mastercard"),className:"shop__header__icons__commerce",alt:"MasterCard"}),o.a.createElement("img",{src:Object(r.getLogo)("visa"),className:"shop__header__icons__commerce","data-testid":"ShopHeaderIcons__VisaLogo",alt:"VISA"}),o.a.createElement("img",{src:Object(r.getLogo)("gopay"),className:"shop__header__icons__gopay",alt:"GoPay","data-testid":"ShopHeaderIcons__GoPayLogo"}))}},1099:function(e,t,n){"use strict";n.d(t,"a",function(){return b});var r=n(95),a=n(42),o=n(94),i=n(81),c=n(0),l=n.n(c),s=n(72),u=n(23),d=n(1075);function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var p=a.d.span.withConfig({displayName:"StyledStatusDisplayOpen",componentId:"ul92ph-0"})(["font-style:italic;color:#0f9849;"]),f=a.d.span.withConfig({displayName:"StyledStatusDisplayClosed",componentId:"ul92ph-1"})(["font-style:italic;color:#b40000;"]),b=function(e){var t=e.status,n=e.deliveryTime,r=e.pickupTime,a=Object(u.b)().order,i=Object(d.a)({status:t}),c=i.decision,m=i.openingIn,b=i.closingIn;if(!t)return null;if(!1===t.isOpen){if(!t.willOpenAt)return l.a.createElement(f,null,l.a.createElement(o.Trans,{id:"We are closed until further notice"}));var g=t.businessHours[0];if(g&&g.closedNote)return l.a.createElement(f,null,g.closedNote)}switch(c){case"Open":var v;return a.usingDeliveryOrderMethod&&t.defaultDeliveryTimeEnabled&&(v=l.a.createElement(o.Trans,{id:"We are delivering in {deliveryTime} minutes",values:{deliveryTime:n}})),a.usingPickupOrderMethod&&t.defaultPickupTimeEnabled&&(v=l.a.createElement(o.Trans,{id:"We can prepare your order in {pickupTime} minutes",values:{pickupTime:r}})),l.a.createElement(s.a,{path:"/order",render:function(){return l.a.createElement(p,{"data-testid":"statusDisplayOpen"},v)}});case"OpeningSoon":return l.a.createElement(f,null,l.a.createElement(o.Trans,{id:"{openingIn, plural, one {Opening in 1 minute} other {Opening in # minutes}}",values:{openingIn:m}}));case"ClosingSoon":return l.a.createElement(p,null,l.a.createElement(o.Trans,{id:"{closingIn, plural, one {Closing in 1 minute} other {Closing in # minutes}}",values:{closingIn:b}}));case"Closed":return l.a.createElement(f,null,t.willOpenAt?l.a.createElement(o.Trans,{id:"We will open at {0}",values:{0:h(t.willOpenAt)}}):l.a.createElement(o.Trans,{id:"Closed"}))}};function h(e){var t=new Date,n={hour:"numeric",minute:"numeric"};return Object(i.a)(e,t)||(n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(n,!0).forEach(function(t){Object(r.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},n,{weekday:"long"})),l.a.createElement(o.DateFormat,{value:e,format:n})}},1100:function(e,t,n){"use strict";n.d(t,"a",function(){return m});var r=n(42),a=n(94),o=n(0),i=n.n(o),c=n(210),l=n(273),s=n(121),u=n(122),d=r.d.div.withConfig({displayName:"CenteredButtonContainer",componentId:"sc-1yzqtn3-0"})(["text-align:center;"]),m=function(e){var t=e.finish,n=t.androidApp,r=t.iosApp,o=function(){return i.a.createElement(c.b,{to:"/"},i.a.createElement(s.a,{className:"finish__view__submit__line__button"},i.a.createElement(a.Trans,{id:"Back to home page"})))};return i.a.createElement(i.a.Fragment,null,i.a.createElement(u.a,null,(n||r)&&i.a.createElement("div",{className:"finish__view__apps__propagation"},i.a.createElement("div",{className:"finish__view__apps__propagation__header"},i.a.createElement(a.Trans,{id:"What about mobile app?"})),i.a.createElement("div",{className:"finish__view__apps__propagation__description"},i.a.createElement(a.Trans,{id:"We have prepared mobile app, so you could order from anywhere!"})),n&&i.a.createElement("a",{href:n.url},i.a.createElement(l.a,{className:"finish__view__apps__propagation__button",color:"secondary"},"Google Play")),r&&i.a.createElement("a",{href:r.url},i.a.createElement(l.a,{className:"finish__view__apps__propagation__button",color:"secondary"},"App Store"))),i.a.createElement(d,null,o())),i.a.createElement(u.b,null,i.a.createElement("div",{className:"finish__view__submit__line",style:{textAlign:"center"}},i.a.createElement("div",{className:"finish__view__submit__line__strip"}),o())))}},1101:function(e,t,n){"use strict";n.d(t,"a",function(){return p});var r=n(42),a=n(94),o=n(0),i=n.n(o),c=n(52),l=n(45),s=n(274),u=r.d.div.withConfig({displayName:"HeaderThemed",componentId:"s65dzo-0"})(["background-color:",";"],function(e){return e.theme.primary}),d=r.d.div.withConfig({displayName:"PriceThemed",componentId:"s65dzo-1"})(["background-color:",";"],function(e){return e.theme.primary}),m=r.d.div.withConfig({displayName:"PriceCornerThemed",componentId:"s65dzo-2"})(["border-top-color:"," !important;"],function(e){return e.theme.primary}),p=function(e){var t=e.order;return i.a.createElement(i.a.Fragment,null,i.a.createElement(u,{className:"finish__view__header"},i.a.createElement("div",{className:"finish__view__header__inner"},i.a.createElement("span",{className:"flaticon-transport-1 finish__view__header__icon"}),i.a.createElement("h3",null,i.a.createElement(a.Trans,{id:"It's done! Thank you :-)"})))),i.a.createElement("h4",null,i.a.createElement(a.Trans,{id:"Your order was successfully accepted!"})," ",function(e){var t=e.orderPayments;if(t.some(f(c.g.Cash)))return l.b._("You will pay at pickup.");if(t.some(f(c.g.Credit)))return l.b._("You have payed.");return null}(t)),i.a.createElement("div",{className:"finish__view__items"},i.a.createElement("div",{className:"finish__view__items__look__to"},i.a.createElement(a.Trans,{id:"You can look forward to:"})),t.items.map(function(e){return i.a.createElement(b,Object.assign({key:e.id},e))}),i.a.createElement(m,{className:"finish__view__items__price__corner"}),i.a.createElement(d,{className:"finish__view__items__price"},function(e){var t=e.orderPayments;e.totalSum;if(t.some(f(c.g.Cash)))return l.b._("Total cost to be payed:");if(t.some(f(c.g.Credit)))return l.b._("Total cost payed:");return null}(t)," ",i.a.createElement("b",null,t.totalSum.formattedValue))))},f=function(e){return function(t){return t.paymentMethod.paymentType.enum===e}};function b(e){var t=e.recipe,n=e.sideDishes;return i.a.createElement("div",null,i.a.createElement("b",null,t.nameLabel),n.length?" + ".concat(n.map(s.a.path(["recipe","nameLabel"])).join(",")):null)}},1102:function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n(42),a=n(94),o=n(0),i=n.n(o),c=r.d.a.withConfig({displayName:"PhoneNumberLinkStyled",componentId:"sc-1y14w99-0"})(["color:inherit;text-decoration:none;&:hover{text-decoration:underline;}"]),l=function(e){var t=e.branch;return i.a.createElement("div",{className:"finish__view__support"},i.a.createElement("h4",null,i.a.createElement(a.Trans,{id:"Any question? Do you have a problem? Call:"})),i.a.createElement("span",{className:"flaticon-technology finish__view__support__icon"}),i.a.createElement("span",{className:"finish__view__support__phone"},i.a.createElement(c,{href:"tel:".concat(t.phone)},t.phone)))}},1103:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(23),a=n(52);function o(){var e=Object(r.b)().order,t=Object(a.F)({branchId:e.branchId,orderId:e.orderId},{skip:!(e.branchId&&e.orderId)}),n=t.data;return t.loading||!n?null:n}},1104:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(59),a=n(1137),o=n(0),i=n.n(o),c=n(23),l=n(52);function s(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=Object(r.g)().history,n=Object(c.b)(),a=n.order,o=n.location,s=i.a.useMemo(function(){var e=new window.URL(window.location.href),t=e.searchParams.has("pickup"),n=e.searchParams.get("address");return{isPickup:t,searchAddress:n&&u(n)}},[]);i.a.useEffect(function(){s.isPickup&&(a.useOrderMethod(l.a.Pickup),e&&t.push("/pickup"))},[a,e,t,s.isPickup]),i.a.useEffect(function(){s.searchAddress&&(o.resetResolution(),o.setInitialSearchAddress(s.searchAddress),e&&t.push("/delivery"))},[t,s.searchAddress,e,o])}function u(e){try{return a.Base64.decode(e)}catch(t){return null}}},1105:function(e,t,n){"use strict";n(1139);var r=n(0),a=n.n(r);t.a=function(e){var t=e.children;return a.a.createElement("div",{className:"button__stripe"},a.a.createElement("div",{className:"button__stripe__bar"}),a.a.createElement("div",{className:"button__stripe__button"},t))}},1106:function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n(1074),a=n(0),o=n.n(a),i=n(23),c=n(149);function l(){var e=Object(i.b)().map,t=Object(r.d)(),n=o.a.useRef(null);return function(r){var a=n.current;(!a||a.latitude!==r.latitude&&a.longitude!==r.longitude)&&function(r){if(t){var a=Object(c.b)(r);e.log("panning to %j",a),t.panTo(a),n.current=r}else e.log("cannot pan map as ref is not available")}(r)}}},1107:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(42),a=n(1074),o=n(0),i=n.n(o),c=n(149),l=r.d.div.withConfig({displayName:"StyledPickupMapMarker",componentId:"sc-18o5u5p-0"})(["cursor:pointer;color:white;opacity:0.5;&::before{font-size:1.3rem;margin:0;padding:0.5rem;background-color:#ff0000;border-radius:1rem;}"]),s=function(e){var t=e.branch,n=e.onClick;return i.a.createElement(a.c,{position:Object(c.a)(t.gps),mapPaneName:a.c.OVERLAY_MOUSE_TARGET,getPixelPositionOffset:function(e,t){return{x:0===e?-12:-e/2,y:0===t?-12:-t/2}}},i.a.createElement(l,{className:"flaticon-restaurant","data-testid":"PickupMapMarker",title:t.name,onClick:n}))}},1108:function(e,t,n){"use strict";n.d(t,"a",function(){return p});var r=n(95),a=n(190),o=n(35),i=n(41),c=n(23),l=n(52);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(n,!0).forEach(function(t){Object(r.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var d=1,m=[];function p(){var e=Object(c.b)(),t=e.order,n=e.cart,r=Object(i.useApolloClient)(),s=Object(l.l)(i.disableBatching),p=Object(o.a)(s,1)[0];return function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:m,a={orderId:t.orderId,recipeId:e,sideDishes:r,withGoods:n.withGoods,withPresence:n.withPresence};return p(a,{optimisticResponse:f(a)})};function f(e){var t=r.readQuery({query:l.h,variables:{orderId:e.orderId,withGoods:n.withGoods,withPresence:n.withPresence}},!0);if(t){var o="-".concat(d++);return{__typename:"Mutation",add:u({},t.order,{countWares:t.order.countWares+1,totalSum:u({},t.order.totalSum,{value:-1}),items:function(){if(!n.withGoods)return t.order.items;var i=r.readFragment({id:"Recipe-".concat(e.recipeId),fragment:l.b,fragmentName:"FRecipe"},!0);return i?[].concat(Object(a.a)(t.order.items),[{__typename:"OrderRecipe",automatic:!1,id:o,price:{__typename:"PriceConverted",formattedValue:"???",value:-1},recipe:i,sideDishes:[]}]):t.order.items}(),presence:n.withPresence?[].concat(Object(a.a)(t.order.presence),[{__typename:"OrderRecipe",id:o,recipe:{__typename:"Recipe",id:e.recipeId}}]):t.order.presence})}}}}},1109:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(123),a=n(42),o=n(0),i=n.n(o),c=n(273),l=Object(a.d)(function(e){e.isSelected,e.width;var t=Object(r.a)(e,["isSelected","width"]);return i.a.createElement(c.a,t)}).withConfig({displayName:"PickerButtonStyled",componentId:"sc-19g322n-0"})(["border-radius:0.6rem;margin:0.5rem;background-color:"," !important;color:"," !important;&:hover{border-color:"," !important;}width:",";@media (max-width:370px){width:100%;}&.btn-outline-secondary{color:#2e2e2e;border-color:#d4d4d4;}&.btn-outline-secondary.active{color:white;}"],function(e){return e.isSelected?e.theme.tertiary:"transparent"},function(e){return e.isSelected?e.theme.tertiaryText:"initial"},function(e){return e.theme.tertiaryHover},function(e){return e.width}),s=function(e){var t=e.isSelected,n=(e.onSelect,e.children),a=Object(r.a)(e,["isSelected","onSelect","children"]);return i.a.createElement(l,Object.assign({isSelected:t},a),n)}},1110:function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n(12),a=n(42),o=n(0),i=n.n(o),c=n(122);function l(){var e=Object(r.a)(["\n      position: fixed;\n      bottom: 0;\n      width: 100%;\n  "]);return l=function(){return e},e}var s=a.d.div.withConfig({displayName:"StyledButtonStrip",componentId:"sc-4alr49-0"})(["margin:0;margin-bottom:1rem;text-align:center;position:sticky;bottom:1rem;"," div.strip{background-color:#d4d4d4;position:relative;top:3.2rem;z-index:0;height:1.6rem;width:100%;}button{margin:1rem;padding:0.8rem 1.6rem;z-index:1;position:relative;}"],Object(c.d)(l())),u=function(e){var t=e.children;return i.a.createElement(s,null,i.a.createElement("div",{className:"strip"}),t)}},1116:function(e,t,n){"use strict";n.d(t,"a",function(){return p});var r=n(94),a=(n(401),n(55)),o=n(0),i=n.n(o),c=n(731),l=n(727),s=n(728),u=n(729),d=n(273),m=n(23),p=function(){var e=Object(m.b)().order;return Object(a.d)(function(){return i.a.createElement(c.a,{isOpen:e.hasErrors,toggle:e.clearErrors,className:"modal__container"},i.a.createElement(l.a,{toggle:e.clearErrors,tag:s.a,className:"modal__header"},i.a.createElement("span",null,i.a.createElement(r.Trans,{id:"Order can not be completed"}))),i.a.createElement(u.a,{className:"modal__body"},i.a.createElement("div",{className:"modal__body__content"},e.hasErrors&&e.submitErrors.map(function(e,t){return i.a.createElement("div",{key:t},e)})),i.a.createElement("div",{className:"modal__body__button__line"},i.a.createElement("div",{className:"modal__body__button__strip"}),i.a.createElement(d.a,{className:"modal__body__button",color:"primary",onClick:e.clearErrors},i.a.createElement(r.Trans,{id:"I understand"})),"/>")))})}},1117:function(e,t,n){"use strict";n.d(t,"a",function(){return o});n(1151);var r=n(277),a=(n(0),n(121),n(168)),o=(n(1091),function(){Object(a.a)(),Object(r.g)();return null})},1119:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(52),a=n(168);function o(){var e=Object(a.a)();return(0,Object(r.G)({orderId:e.orderId},{skip:!e.orderId}).getStash)(function(e){return{isOrderInCart:e.order.orderStateCategory===r.e.InCart,hasItemsInCart:e.order.countWares>0}})||{isOrderInCart:!0,hasItemsInCart:!0}}},1120:function(e,t,n){"use strict";n.d(t,"a",function(){return h});var r=n(95),a=n(35),o=n(41),i=n(59),c=n(1350),l=n(0),s=n.n(l),u=n(23),d=n(52),m=n(278),p=n(45);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(n,!0).forEach(function(t){Object(r.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function h(){var e=Object(u.b)(),t=e.order,n=e.business,r=Object(i.g)().history,l=Object(m.a)(),f=Object(a.a)(l,2),h=f[0],g=f[1],v=Object(d.j)({fetchPolicy:"no-cache"}),y=Object(a.a)(v,1)[0],O=s.a.useCallback(function(){r.replace("/finish")},[r]),E=s.a.useCallback(function(e){var t=n.branch.phone;g(p.b._("Payment status check has failed"),e.length?e.join("<br />"):p.b._("We were unable to verify status of your payment. Please contact operator using number {phone}",{phone:t}))},[g,n]),_=s.a.useCallback(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.orderId,n=arguments.length>1?arguments[1]:void 0;return e?(t.goPayStatusCheck(!0),y({orderId:e},{fetchPolicy:"no-cache",context:b({invalidateWithToken:n},o.disableBatching.context)}).then(function(e){return e?e.status:null}).finally(function(){return t.goPayStatusCheck(!1),null})):Promise.resolve(null)},[y,t]),j=Object(c.a)(_,{onError:E,onFinish:O});return{paymentErrorModal:h,executeGoPayPayment:j.executeGoPayPayment,paymentProcessing:j.paymentLoading}}},1121:function(e,t,n){"use strict";n.d(t,"a",function(){return g});var r=n(35),a=n(42),o=n(59),i=n(55),c=n(0),l=n.n(c),s=n(1353),u=n.n(s),d=n(1354),m=n.n(d),p=n(23),f=n(52),b=n(45),h=a.d.div.withConfig({displayName:"StyledOrderFormTipInput",componentId:"yjblkh-0"})(["margin:0.8rem 0 1.4rem 0;"]),g=Object(i.a)(function(){var e=Object(p.b)(),t=e.order,n=e.cart,a=Object(f.r)(),i=Object(r.a)(a,1)[0];return Object(o.d)(function(){return t.usingPaymentMethodWithTips?Number(t.tips):0},function(e){i({tips:e,orderId:t.orderId,withGoods:n.withGoods})}),t.usingPaymentMethodWithTips?l.a.createElement(h,null,l.a.createElement(u.a,null,l.a.createElement(m.a,{type:"select",value:t.tips,onChange:function(e){t.setTips(Number.parseInt(e.target.value,10))},disabled:t.disableInteraction,"data-testid":"orderTipsSelect"},l.a.createElement("option",{value:0},b.b._("Without tips")),l.a.createElement("option",{value:5},b.b._("Tips 5%")),l.a.createElement("option",{value:10},b.b._("Tips 10%")),l.a.createElement("option",{value:15},b.b._("Tips 15%")),l.a.createElement("option",{value:20},b.b._("Tips 20%")),l.a.createElement("option",{value:25},b.b._("Tips 25%"))))):null})},1123:function(e,t,n){"use strict";n.d(t,"a",function(){return m});var r=n(42),a=n(94),o=n(55),i=n(0),c=n.n(i),l=n(23),s=n(154),u=n(276),d=r.d.div.withConfig({displayName:"TextPadding",componentId:"e8hzje-0"})(["padding-bottom:2rem;"]),m=function(){var e=Object(l.b)().order;return Object(o.d)(function(){return c.a.createElement(s.a,{isOpen:e.isGoPayChecking,headerText:"GoPay platba"},c.a.createElement(d,null,c.a.createElement(a.Trans,{id:"Checking your GoPay payment, please wait..."})),c.a.createElement(u.a,{noMargin:!0}))})}},1124:function(e,t,n){"use strict";n.d(t,"a",function(){return _});var r=n(40),a=n.n(r),o=n(62),i=n(35),c=n(42),l=n(275),s=n(55),u=n(0),d=n.n(u),m=n(1368),p=n(1369),f=n(1363),b=n(23),h=n(121),g=n(52),v=n(1071),y=n(278),O=n(45),E=c.d.div.withConfig({displayName:"CodesPanel",componentId:"ucwmk-0"})(["margin-top:0.5rem;& button{margin-right:0.5rem;font-size:0.7rem;}"]),_=d.a.memo(function(){var e=Object(b.b)(),t=e.order,n=e.cart,r=Object(y.a)(),c=Object(i.a)(r,2),u=c[0],_=c[1],j=Object(g.I)({orderId:t.orderId},{skip:!t.orderId}).getStash,w=Object(g.p)(),k=Object(i.a)(w,1)[0],C=Object(g.q)(),I=Object(i.a)(C,1)[0],P=d.a.useCallback(function(){var e=Object(o.a)(a.a.mark(function e(r){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.orderId){e.next=2;break}return e.abrupt("return");case 2:return e.abrupt("return",k({code:r,orderId:t.orderId,withGoods:n.withGoods}));case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),[k,n,t]),N=function(){var e=Object(o.a)(a.a.mark(function e(r){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.orderId&&I({codeId:r,orderId:t.orderId,withGoods:n.withGoods});case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),S=Object(l.d)({onCodeAdd:P,onCodeErrors:function(e,t){_(O.b._('Promo code "{code}" is invalid',{code:e}),d.a.createElement("div",null,t.map(function(e){return d.a.createElement("div",{key:e},e)})))},getValidatingMessage:function(e){return O.b._("Validating promo code {code}...",{code:e})}}),x=S.inputProps,T=S.inputRef,M=j(function(e){return e.order.promoCodes})||v.a;return Object(s.d)(function(){return d.a.createElement(m.a,null,u,d.a.createElement(p.a,null,d.a.createElement(f.a,Object.assign({innerRef:T,autoComplete:"off",placeholder:O.b._("Promo codes")},x,{disabled:x.disabled||t.disableInteraction}))),d.a.createElement(E,{"data-testid":"promoCodesPanel"},M.map(function(e){var n=e.id,r=e.code;return d.a.createElement(h.b,{key:n,role:"button",disabled:t.disableInteraction,onClick:function(){return N(n)}},"".concat(r," \u2716"))})))})})},1125:function(e,t,n){"use strict";n.d(t,"a",function(){return p});var r=n(277),a=n(55),o=n(0),i=n.n(o),c=n(283),l=n.n(c),s=n(121),u=n(168),d=n(45),m=n(1119),p=Object(a.a)(function(e){var t=e.children,n=Object(r.g)(),a=Object(u.a)(),o=!0,c="";return Object(m.a)().hasItemsInCart?a.isVamInitialized?n.state.isValid?o=!1:c=d.b._("Form validation failed"):c=d.b._("Agreements are not initialized yet"):c=d.b._("Cart is empty"),i.a.createElement(i.a.Fragment,null,i.a.createElement(s.a,{id:"OrderSubmitButton",title:c,type:"submit",color:"primary",size:"md",disabled:o||n.state.isSubmitting},n.state.isSubmitting?i.a.createElement(l.a,{name:"circle",fadeIn:"none",color:"#ccc"}):t))})},1126:function(e,t,n){"use strict";n.d(t,"a",function(){return m});var r=n(42),a=n(94),o=n(55),i=n(0),c=n.n(i),l=n(121),s=n(1080),u=n(168),d=r.d.div.withConfig({displayName:"StyledOrderTimeButtons",componentId:"sc-14ao8bv-0"})(["margin:0 0 1.4rem 0;button{position:relative;padding-top:0.3rem;margin-bottom:0.2rem;height:2.8rem;}button:first-of-type{margin-right:0.8rem;}"]),m=function(){var e=Object(u.a)(),t=Object(s.a)(),n=t.isEnabled,r=t.changeDeliveryTime;return Object(o.d)(function(){return n?c.a.createElement(d,null,c.a.createElement(l.c,{"data-testid":"orderTimeButtonNow",selected:!e.isDelayed,disabled:e.disableInteraction,onClick:function(){return r(null)}},c.a.createElement(a.Trans,{id:"When possible"})),c.a.createElement(l.c,{"data-testid":"orderTimeButtonLater",selected:e.isDelayed,disabled:e.disableInteraction,onClick:e.openTimePicker},e.isDelayed?c.a.createElement(a.DateFormat,{value:e.deliverAt,format:{weekday:"long",hour:"numeric",minute:"numeric"}}):c.a.createElement(a.Trans,{id:"Choose time"}))):null})}},1127:function(e,t,n){"use strict";n.d(t,"a",function(){return g});var r=n(12),a=n(42),o=n(94),i=n(55),c=n(0),l=n.n(c),s=n(273),u=n(1361),d=n(23),m=n(122);function p(){var e=Object(r.a)(["\n    position: fixed;\n    top: 5rem;\n    font-size: 0.8rem;\n    "]);return p=function(){return e},e}function f(){var e=Object(r.a)(["\n    font-size: 0.9rem;\n    position: sticky;\n    bottom: 0;\n  "]);return f=function(){return e},e}var b=Object(a.d)(s.a).withConfig({displayName:"NoticeButton",componentId:"sc-1i7ezjr-0"})(["font-size:0.9rem;margin:0.2rem 1rem;padding:0.5em 1rem;"]),h=Object(a.d)(u.a).withConfig({displayName:"StorageNotice",componentId:"sc-1i7ezjr-1"})(["width:100%;z-index:5;",";",";padding:0.5rem 1rem;background-color:#d4eddadc;"],Object(m.c)(f()),Object(m.d)(p())),g=function(){var e=Object(d.b)().user;return Object(i.d)(function(){return null!==e.rememberForm?null:l.a.createElement(h,{"data-testid":"OrderFormStorageNotice",className:"animated slideInUp"},l.a.createElement("p",null,l.a.createElement(o.Trans,{id:"This app is using secure storage for keeping filled form data. It's not cookies, these are stored in your browser only."})),l.a.createElement(b,{color:"success",size:"sm",onClick:e.setFormRememberYes,"data-testid":"orderFormStorageNotice__Yes"},l.a.createElement(o.Trans,{id:"Always remember"})),l.a.createElement(b,{color:"secondary",size:"sm",onClick:e.setFormRememberNo,"data-testid":"orderFormStorageNotice__No"},l.a.createElement(o.Trans,{id:"Do not store"})))})}},1128:function(e,t,n){"use strict";var r=n(42),a=n(1074),o=n(59),i=n(55),c=n(0),l=n.n(c),s=n(23),u=n(149),d=n(40),m=n.n(d),p=n(95),f=n(62),b=n(35),h=n(52);function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(n,!0).forEach(function(t){Object(p.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var y=n(1084),O=n(121),E=n(1105),_=n(45),j=function(e){var t=e.enabled,n=e.onClick;return l.a.createElement(E.a,null,l.a.createElement(O.a,{color:"primary",disabled:!t,onClick:n,"data-testid":"AddressSubmit"},_.b._("Confirm address")))},w=n(12),k=n(94),C=n(1361),I=n(122),P=n(275),N=n(1363),S=n(190),x=n(156),T=n.n(x);var M=Object(i.a)(function(e){var t=e.onSearch,n=e.inputProps,r=e.isVisible,a=Object(s.b)().location,o=l.a.useRef(null);l.a.useEffect(function(){r&&null!==o.current&&o.current.focus()},[r]);var i=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=l.a.useCallback(T()(e,t),[].concat(Object(S.a)(n),[e,t]));return l.a.useEffect(function(){return function(){r.clear()}},[r]),r}(t,2e3);l.a.useEffect(function(){return function(){return i.clear()}},[i]);return l.a.createElement(N.a,Object.assign({className:Object(P.b)({hidden:!r}),onChange:function(e){var t=e.target.value||"";a.setSearchValue(t),0===t.trim().length&&a.clearAddress(),i()},onKeyPress:function(e){"Enter"===e.key&&(i.clear(),t())},onFocus:function(){o.current.select()},value:a.searchValue,innerRef:o,"data-testid":"SearchInput"},n))}),D=n(278),A=Object(i.a)(function(){var e=Object(s.b)().location,t=Object(D.a)(),n=Object(b.a)(t,2),r=n[0],a=n[1];if(!e.isGeolocationAvailable||e.isResolving)return null;return l.a.createElement(l.a.Fragment,null,r,l.a.createElement("div",{className:"gps",onClick:function(){e.log("geolocating..."),navigator.geolocation.getCurrentPosition(function(t){var n=t.coords,r=n.latitude,a=n.longitude;e.log("geolocated at coords %s, %s (acc: %s)",n.latitude,n.longitude,n.accuracy),e.setGeolocationPoint({latitude:r,longitude:a})},function(t){e.log("failed geolocation",t),e.disableGeolocation(),a(_.b._("Geolocation failed"),_.b._("Your browser does not support geolocation."))},{enableHighAccuracy:!0,maximumAge:6e4})}},l.a.createElement("span",{className:"flaticon-gps"})))}),R=n(283),z=n.n(R),L=function(e){var t=e.address,n=e.isVisible,r=e.isResolving,a=e.onValidClick;return l.a.createElement("div",{"data-testid":"ResolvedAddress",className:Object(P.b)("resolved__address",{wait:r,hidden:!n}),onClick:r?void 0:a},r?l.a.createElement(z.a,{name:"ball-beat",fadeIn:"none"}):t)},F=n(273),G=n(8);function B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var V=new Map;function W(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.count,n=void 0===t?1:t,r=e.watchLocation,a=void 0!==r&&r,c=Object(s.b)(),u=c.map,d=c.location,m=Object(i.c)(function(){return{results:null,phrase:d.searchValue,searching:!1,get url(){var e=["count=".concat(n),"lon=".concat(u.longitude),"lat=".concat(u.latitude),"zoom=".concat(u.zoom),"lang=cs,sk,en","enableCategories=1"];return"https://api.mapy.cz/suggest/?".concat(e.join("&"))}}}),f=l.a.useCallback(function(){if(0!==m.phrase.length){d.log("searching phrase: ".concat(m.phrase));var e="".concat(m.url,"&phrase=").concat(m.phrase);V.has(e)?m.results=V.get(e):(m.searching=!0,fetch(e).then(function(e){return e.json()}).then(function(t){var n=t.result.filter(H).map(q);V.set(e,n),m.results=n}).finally(function(){m.searching=!1}))}else m.results=null},[d,m]),b=l.a.useRef(Object(x.debounce)(f,500)),h=l.a.useCallback(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d.searchValue;d.log("onSearch ".concat(e)),m.phrase=e.trim(),b.current.clear(),f()},[f,d]);return Object(o.d)(function(){return d.searchValue},function(e){0===e.length&&(m.phrase="",m.results=null,b.current.clear())}),Object(o.e)(function(){return d.initialSearchAddress},function(e){e&&h(e)}),l.a.useEffect(function(){return Object(G.reaction)(function(){return m.url},function(){a&&b.current()})},[m.url,a]),function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?B(n,!0).forEach(function(t){Object(p.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},m,{onSearch:h})}function H(e){var t=e.userData,n=t.latitude,r=t.longitude;return n&&r}function q(e){var t=e.category,n=e.userData,r=n.id,a=n.latitude,o=n.longitude,i=n.suggestFirstRow,c=n.suggestSecondRow,l=[n.municipality,n.district,n.country,c].find(Boolean)||"";return{id:r,category:t,gps:{latitude:a,longitude:o},address:"".concat(i).concat(l?", ".concat(l):"")}}function U(){var e=Object(w.a)(["\n  position: absolute;\n  margin-top: 0.1rem;\n\n  > div,\n  button.hint:hover {\n    background-color: #ffffffaa;\n  }\n\n  > div {\n    display: flex;\n    flex-direction: column;\n    align-items: flex-start;\n    border: 1px solid transparent;\n    border-radius: 0.4rem;\n    padding: 0.375rem 0.75rem;\n    font-size: 1rem;\n    line-height: 1.5;\n    max-width: 25rem;\n    text-align: left;\n\n    & > p {\n      font-size: 0.8rem;\n      color: gray;\n    }\n\n    button {\n      &:hover,\n      &:hover:focus {\n        text-decoration: none;\n      }\n    }\n\n    button.done {\n      color: darkgray;\n    }\n  }\n\n  button.hint {\n    color: coral;\n    text-shadow: 0.5px 0.5px darkgray;\n    &:hover {\n      text-decoration: none;\n      transition: background-color 0.5s ease;\n    }\n  }\n"]);return U=function(){return e},e}var Y=r.d.div(U()),J=Object(i.a)(function(e){var t=Object(s.b)().location,n=Object(i.c)(function(){return{open:!1}}),r=W({count:5,watchLocation:n.open}),a=r.results,c=r.searching,u=r.onSearch;if(Object(o.d)(function(){return n.open},function(e){e&&u()}),Object(o.d)(function(){return t.searchValue},function(){n.open=!1}),!t.hasSearchValue)return null;var d=a&&a.filter(function(e){return e.address!==t.address});return l.a.createElement(Y,{className:Object(P.b)("animated",{bounceInLeft:n.open,bounceIn:!n.open}),key:n.open.toString()},n.open?l.a.createElement("div",null,l.a.createElement("p",null,l.a.createElement(k.Trans,{id:"Hint: Try moving map around and zooming closer to your location to improve these results."})),c&&l.a.createElement("div",null,"..."),d&&d.map(function(e){return l.a.createElement(F.a,{size:"sm",color:"link",key:e.id,onClick:function(){t.setSearchResult(e),n.open=!1}},e.address)}),l.a.createElement(F.a,{size:"sm",color:"link",onClick:function(){n.open=!1},className:"done"},d&&0===d.length?l.a.createElement(k.Trans,{id:"No match for map location"}):l.a.createElement(k.Trans,{id:"I don't see anything useful here."}))):l.a.createElement(F.a,{className:"hint",color:"link",onClick:function(){n.open=!0}},l.a.createElement(k.Trans,{id:"Looking for a different address?"})))});function Z(){var e=Object(w.a)(["\n    height: 2.3rem;\n    "]);return Z=function(){return e},e}var K=r.d.div.withConfig({displayName:"StyledDeliveryAddressSearch",componentId:"sc-1lgdvur-0"})(["width:90%;min-width:14rem;margin:1rem auto;text-align:center;div.container{display:flex;border-radius:1rem;border:1px solid #d4d4d4;background-color:white;","}input{height:auto;background:transparent;border:none;&:focus{box-shadow:initial;}&.hidden{display:none;}}div.gps{color:",";cursor:pointer;position:relative;top:0.2rem;}div.resolved__address{margin:0.4rem 0.7rem 0.4rem 0.7rem;font-size:1rem;color:green;width:100%;cursor:pointer;&.hidden{display:none;}&.wait{display:flex;justify-content:center;font-size:0.5rem;cursor:wait;}}.alert{pointer-events:none;margin-bottom:0;}"],Object(I.c)(Z()),function(e){return e.theme.secondary}),Q=Object(i.a)(function(){var e=Object(s.b)(),t=e.map,n=e.location,r=W(),a=r.results,o=r.searching,i=r.onSearch;return l.a.useEffect(function(){o&&n.setIsResolving(o)},[n,o]),l.a.useEffect(function(){if(null!==a){if(0===a.length)return n.log("no result from direct geocoder api"),void n.setAsNotResolved();var e=Object(b.a)(a,1)[0],r=e.category,o=e.gps,i=o.latitude,c=o.longitude;if(t.mapRef&&(t.log("panning to result gps ".concat(i," / ").concat(c)),t.mapRef.panTo(Object(u.b)(e.gps))),!r||!r.startsWith("address"))return n.log("result with category %s",r),void n.setAsNotAddress();n.log("found address ".concat(e.address)),n.latitude!==i&&n.longitude!==c&&n.resetResolution(),n.setSearchResult(e)}},[n,t,a]),l.a.createElement(K,null,l.a.createElement("div",{className:"container"},l.a.createElement(L,{address:n.address||"",isVisible:n.hasAddress,isResolving:n.isResolving,onValidClick:n.clearAddress}),l.a.createElement(M,{inputProps:{placeholder:_.b._("Type address or choose it from map"),autoComplete:"shipping street-address"},onSearch:i,isVisible:!(n.hasAddress||n.isResolving)}),l.a.createElement(A,null)),l.a.createElement(X,null),l.a.createElement(J,null))});function X(){var e=Object(s.b)().location;return e.hasResolutionResult?!1===e.isResolved?l.a.createElement(C.a,{color:"danger"},l.a.createElement(k.Trans,{id:"Address was not recognized."})):!1===e.isStreetAddress?l.a.createElement(C.a,{color:"warning"},l.a.createElement(k.Trans,{id:"Please enter address with house number."})):!1===e.inDeliveryLocation?l.a.createElement(C.a,{color:"warning"},l.a.createElement(k.Trans,{id:"Meal can't be delivered to your chosen address by any restaurant."})):null:null}var $=n(274),ee=n(1106),te=n(279);n.d(t,"a",function(){return re});var ne=r.d.div.withConfig({displayName:"StyledDeliveryMap",componentId:"sc-6qnl5t-0"})([".delivery__map__address{position:absolute;top:0;left:2.3rem;right:2.3rem;}.delivery__map__submit{position:absolute;bottom:3rem;width:100%;}"]),re=Object(i.a)(function(e){var t=e.onConfirm,n=Object(s.b)(),r=n.map,c=n.location,d=n.business,p=function(){var e=Object(s.b)(),t=e.location,n=e.business,r=Object(h.k)({fetchPolicy:"cache-first"}),a=Object(b.a)(r,1)[0];return l.a.useCallback(function(){var e=Object(f.a)(m.a.mark(function e(r){var o,i;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=function(){return n.isBrand?{brandId:n.brandId}:{branchId:n.branchId}},t.setIsResolving(!0),e.next=4,a(v({},i(),{},r));case 4:null!==(o=e.sent)&&t.setResolutionResult(o.resolveLocation),t.setIsResolving(!1);case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),[n,t,a])}(),g=function(e){c.resetResolution(),c.setSearchValue(""),c.setLocation(e)};Object(o.i)(function(){return d.isValid},function(){c.hasLocation&&!c.hasResolutionResult&&(c.log("resolving initial gps"),p(c.geoPoint))}),Object(o.d)(function(){return c.geoPoint},function(e){e&&(c.log("resolving on gps change"),p(e))}),Object(o.d)(function(){return r.clickPoint},function(e){e&&(c.log("resolve with clickpoint"),g(e),r.clearClickPoint())}),Object(y.a)(c.isDeliveryAddress?c.branchId:null),function(){var e=Object(s.b)().location,t=Object(h.C)({},{fetchPolicy:"cache-first",skip:e.hasAddress}).getStash,n=Object(i.b)({initial:t($.a.prop("location"))}),r=Object(ee.a)();Object(o.b)(function(){e.geoPoint?(e.log("pan to user location",e.geoPoint),r(e.geoPoint)):e.geolocationPoint?(e.log("pan to geolocation",e.geolocationPoint),r(e.geolocationPoint)):n.initial&&n.initial.gpsCoordinates&&(e.log("pan to initial location",n.initial.gpsCoordinates),r(n.initial.gpsCoordinates))}),Object(o.d)(function(){return e.geolocationPoint},function(e){e&&r(e)})}();var O=Object(te.a)(t).createDeliveryOrder;return l.a.createElement(ne,{"data-testid":"DeliverMap"},c.latLng?l.a.createElement(a.b,{position:c.latLng,draggable:!0,onDragEnd:function(e){var t=e.latLng;c.log("resolve with drag"),g(Object(u.c)(t))}}):null,l.a.createElement("div",{className:"delivery__map__address"},l.a.createElement(Q,null)),l.a.createElement("div",{className:"delivery__map__submit"},l.a.createElement(j,{enabled:c.isDeliveryAddress&&!c.isResolving,onClick:O})))})},1129:function(e,t,n){"use strict";var r=n(55),a=n(0),o=n.n(a),i=n(168),c=n(40),l=n.n(c),s=n(62),u=n(52),d=n(1071),m=n(1108),p=n(190),f=n(35),b=n(94),h=(n(401),n(731)),g=n(727),v=n(728),y=n(729),O=n(276),E=n(274),_=n(12),j=n(1085),w=n(42),k=n(45),C=function(e){var t=e.minCount,n=e.maxCount,r=e.isValid,a="";if(0===t){if(!(n>0))return null;a=k.b._({id:"maximum {maxCount}",values:{maxCount:n}})}else if(0===n)a=k.b._({id:"minimum {minCount}",values:{minCount:t}});else if(t===n){var i=t;a=k.b._({id:"only {count}",values:{count:i}})}else a=k.b._({id:"minimum {minCount} and maximum {maxCount}",values:{minCount:t,maxCount:n}});var c={};return r||(c.color="red"),o.a.createElement("span",{style:c},"(",a,")")},I=n(123),P=n(1109);function N(){var e=Object(_.a)(["\n  position: absolute;\n  left: -0.6rem;\n  top: -0.4rem;\n  width: 2rem;\n  height: 2rem;\n  border-radius: 1rem;\n  background: ",";\n\n  &:hover {\n    background: "," !important;\n  }\n  &:active {\n    background: "," !important;\n  }\n  & .rectangle {\n    width: 45%;\n    position: absolute;\n    top: 45%;\n    left: 30%;\n    height: 4px;\n    background: white;\n  }\n"]);return N=function(){return e},e}var S=w.d.div(N(),function(e){return e.theme.primary},function(e){return e.theme.primaryHover},function(e){return e.theme.primary}),x=function(e){var t=e.onClick,n=Object(I.a)(e,["onClick"]);return o.a.createElement(S,Object.assign({onClick:t,className:"animated bounceIn","data-testid":"SidedishRemoveButton"},n),o.a.createElement("div",{className:"rectangle"}))},T=w.d.div.withConfig({displayName:"StyledSidedishCheckbox",componentId:"jpxm3x-0"})(["display:inline-block;position:relative;& .name{float:left;text-align:left;white-space:normal;max-width:13rem;}& .price{font-weight:bold;float:right;}& .count{display:inline-block;margin-left:0.5rem;}"]),M=o.a.memo(function(e){var t=e.sidedish,n=e.count,r=e.canBeSelected,a=e.canBeRemoved,i=e.className,c=e.onAdd,l=e.onRemove,s=Object(I.a)(e,["sidedish","count","canBeSelected","canBeRemoved","className","onAdd","onRemove"]),u=o.a.useCallback(function(){r&&c()},[r,c]);return o.a.createElement(T,{className:i},o.a.createElement(P.a,Object.assign({onClick:u,disabled:!r,size:"xs",outline:!0,width:"17.5rem","data-testid":"sidedishCheckbox__".concat(t.id)},s),o.a.createElement("div",{className:"name"},t.nameLabel,o.a.createElement("span",{key:n,className:"animated heartBeat count"},n>1&&"".concat(n,"x"))),o.a.createElement("div",{className:"price"},t.price.formattedValue)),a&&o.a.createElement(x,{onClick:l}))});function D(){var e=Object(_.a)(["\n  margin-top: 1rem;\n\n  & .sidedish__picker__checkbox {\n    @media (max-width: 370px) {\n      width: 100%;\n    }\n  }\n\n  & .sidedish__picker__category {\n    font-size: 1rem;\n    font-weight: bold;\n    text-align: left;\n    margin: 0 0 0.2rem 0.2rem;\n  }\n"]);return D=function(){return e},e}var A=w.d.div(D()),R=function(e){var t=e.recipe,n=e.selection,r=e.onAdd,i=e.onRemove,c=Object(j.b)(t.categories,n),l=c.canBeSelected,s=c.isCategoryValid;return o.a.createElement(A,{className:"food__sidedish__picker"},t.categories.map(function(e){return o.a.createElement(a.Fragment,{key:e.id},o.a.createElement("div",{className:"sidedish__picker__category"},e.nameLabel," ",o.a.createElement(C,{minCount:e.minCount,maxCount:e.maxCount,isValid:s(e)})),e.sideDishes.map(function(t){return o.a.createElement(M,{key:"".concat(t.id,"-").concat(e.id),sidedish:t,count:n.filter(function(e){return e===t.id}).length,isSelected:n.includes(t.id),canBeRemoved:n.includes(t.id),canBeSelected:l(e,t),onAdd:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){return r(t.id)}),onRemove:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){return i(t.id)}),className:"sidedish__picker__checkbox"})}))}))},z=n(275),L=n(121),F=o.a.memo(function(e){var t=e.selection,n=e.recipe,r=e.onConfirm,a=o.a.useState(!1),i=Object(f.a)(a,2),c=i[0],l=i[1],s=Object(j.b)(n?n.categories:[],t).isCategoryValid;return o.a.createElement(L.a,{className:Object(z.b)("modal__body__button","animated",{heartBeat:c}),disabled:c||!n||!n.categories.every(s),"data-testid":"CartOrderButton",onClick:function(){l(!0),r().catch(function(){l(!1)})}},k.b._("{0, plural, =0 {Order without sidedish} one {Order with this sidedish} other {Order with # sidedishes}}",{0:t.length}))}),G=function(e){var t=e.recipe,n=e.isLoading,r=e.initialSideDishes,a=e.onConfirm,i=e.onClose,c=o.a.useState(Object(p.a)(r)||d.a),u=Object(f.a)(c,2),m=u[0],_=u[1],j=o.a.useCallback(function(){_([]),i()},[i]),w=function(){var e=Object(s.a)(l.a.mark(function e(){return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a(m);case 2:if(!e.sent){e.next=5;break}return j(),e.abrupt("return",!0);case 5:return e.abrupt("return",!1);case 6:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),k=function(e){_(function(t){return E.a.append(e,t)})},C=function(e){_(function(t){return E.a.remove(E.a.indexOf(e,t),1,t)})};return o.a.createElement(h.a,{isOpen:null!==t,toggle:j,className:"modal__container",autoFocus:!0,backdrop:"static",fade:!1,"data-testid":"CartModal"},o.a.createElement(g.a,{toggle:j,tag:v.a,className:"modal__header"},o.a.createElement("span",null,o.a.createElement(b.Trans,{id:"Do you want to add something?"}))),o.a.createElement(y.a,{className:"modal__body"},o.a.createElement("div",{className:"modal__body__content"},n?o.a.createElement(O.a,null):t?o.a.createElement(o.a.Fragment,null,o.a.createElement("h3",{className:"modal__body__food__name"},t.nameLabel),o.a.createElement("span",{className:"modal__body__food_description"},t.descriptionLabel),o.a.createElement(R,{recipe:t,selection:m,onAdd:k,onRemove:C})):o.a.createElement(b.Trans,{id:"We sorry, but the item is unavailable at this moment."})),o.a.createElement("div",{className:"modal__body__button__line"},o.a.createElement("div",{className:"modal__body__button__strip"}),o.a.createElement(F,{recipe:t,selection:m,onConfirm:w}))))},B=Object(r.a)(function(e){var t=e.orderId,n=Object(i.a)(),r=n.addToCartRecipeId,a=Object(u.y)({recipeId:r},{skip:null===t||null===r,fetchPolicy:"cache-first"}),c=a.getStash,p=a.loading,f=Object(m.a)(),b=o.a.useCallback(function(){var e=Object(s.a)(l.a.mark(function e(n){var a;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==t&&null!==r){e.next=2;break}return e.abrupt("return",!1);case 2:return e.next=4,f(r,n);case 4:return a=e.sent,e.abrupt("return",Boolean(a));case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),[f,t,r]),h=o.a.useCallback(function(){n.addToCart(null)},[n]),g=c(function(e){return e.recipe});return o.a.createElement(G,{recipe:g,initialSideDishes:d.a,onConfirm:b,onClose:h,isLoading:p})}),V=n(1135),W=n(23),H=Object(r.a)(function(e){var t=e.orderId,n=Object(W.b)(),r=n.order,a=n.cart,i=r.changeCartItemId,c=Object(u.x)({itemId:i},{skip:null===t||null===i}),m=c.getStash,p=c.loading,b=Object(u.m)(),h=Object(f.a)(b,1)[0],g=o.a.useCallback(function(){var e=Object(s.a)(l.a.mark(function e(n){var r;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==t&&null!==i){e.next=2;break}return e.abrupt("return",!1);case 2:return e.next=4,h({itemId:i,sideDishes:n,orderId:t,withGoods:a.withGoods});case 4:return r=e.sent,e.abrupt("return",Boolean(r));case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),[t,i,h]),v=o.a.useCallback(function(){r.changeCartItem(null)},[r]),y=m(E.a.prop("item")),O=y?y.sideDishes.map(E.a.path(["recipe","id"])):d.a;return o.a.createElement(G,{recipe:y?y.recipe:null,initialSideDishes:O,onConfirm:g,onClose:v,isLoading:p})});n.d(t,"a",function(){return q});var q=Object(r.a)(function(e){var t=e.isReadonly,n=void 0!==t&&t,r=Object(i.a)(),a=r.orderId;return o.a.createElement(o.a.Fragment,null,o.a.createElement(B,{orderId:a}),o.a.createElement(H,{orderId:a}),o.a.createElement(V.a,{orderId:a,isReadonly:n||r.disableInteraction}))})},1130:function(e,t,n){"use strict";var r=n(42),a=n(59),o=n(55),i=n(0),c=n.n(i),l=n(23),s=n(1071),u=n(35),d=n(12),m=n(275),p=n(1111),f=n.n(p),b=n(1115),h=n(122);function g(){var e=Object(d.a)(["\n    flex-wrap: nowrap;\n    overflow-x: auto;\n    overflow-y: hidden;\n    box-shadow: inset -15px -5px 15px -14px rgba(0, 0, 0, 0.6);\n    margin: 0;\n    border-top-left-radius: 0;\n    background-color: #f3f3f3;\n    opacity: 0.94;\n  "]);return g=function(){return e},e}function v(){var e=Object(d.a)(["\n    flex-wrap: wrap;\n  "]);return v=function(){return e},e}var y=r.d.div.withConfig({displayName:"StyledCategoryNavigator",componentId:"wpfto8-0"})(["background-color:#d4d4d4;border-top-left-radius:0.6rem;padding:0.7rem 0.5rem 0 0.2rem;position:sticky;top:0;z-index:1;user-select:none;display:flex;"," "," a.link{text-align:center;color:#595959 !important;display:inline-block;min-width:4rem;cursor:pointer;margin:0 0.2rem;&:hover,&.active{color:#5ca651 !important;border-color:#5ca651;}}div.circle{background-color:white;border:1px solid #595959;border-radius:2rem;width:2.6rem;height:2.6rem;margin:0 auto;padding:0;&:hover,a.link.active > &{border-color:#5ca651;}& span::before,& span::after{margin:0;padding:0;font-size:1.7rem;}}div.description{font-size:0.9rem;margin-top:0.2rem;max-width:5rem;}"],Object(h.c)(v()),Object(h.d)(g())),O=function(e){var t=e.categories,n=Object(i.useState)(0),r=Object(u.a)(n,2),a=r[0],o=r[1];return c.a.createElement(y,{"data-testid":"CategoryNavigator"},0===t.length?null:t.map(function(e,t){return c.a.createElement(f.a.Link,{to:e.nameLabel,key:e.id,className:Object(m.b)("link",{active:a===t}),onSetActive:function(){return o(t)},offset:-168,smooth:!0,spy:!0,title:e.nameLabel},c.a.createElement("div",{className:"circle"},c.a.createElement("span",{className:"flaticon-".concat(e.pictogram)})),c.a.createElement("div",{className:"description"},c.a.createElement(b.a,{lines:2},e.nameLabel)))}))},E=n(94),_=n(276),j=n(1108);function w(){var e=Object(d.a)(["margin: 1rem 0 0.4rem 1rem;"]);return w=function(){return e},e}var k=r.d.div.withConfig({displayName:"FoodCategoryStyled",componentId:"sc-1bpyym5-0"})(["color:#474747;display:block;font-size:1.6rem;& a{text-decoration:none;}"]),C=Object(r.d)("h3").withConfig({displayName:"FoodCategoryTitleStyled",componentId:"sc-1bpyym5-1"})(["",";"],Object(h.d)(w())),I=c.a.memo(function(e){var t=e.category,n=e.children;return c.a.createElement(f.a.Element,{name:t.nameLabel},c.a.createElement(k,null,c.a.createElement(C,null,t.nameLabel),n))}),P=(n(1150),n(52)),N=n(168);function S(){var e=Object(d.a)(["\n    left: -0.6rem;\n    top: -0.7rem;\n  "]);return S=function(){return e},e}var x=r.d.div.withConfig({displayName:"StyledFoodMenuItem",componentId:"sc-1uxwtjp-0"})(["padding:1rem 0.5rem 0.3rem 1.1rem;border:1px solid #d5d5d5 !important;margin:0 0 0.4rem 0;border-radius:0.8rem;position:relative;min-height:6rem;user-select:none;&:hover:not(.disabled){cursor:pointer;background-color:#c9e8d7;}&.active{background-color:#b3ebcc;}h4{font-size:1rem;font-weight:700;color:#404040;margin-bottom:0.1rem;margin-right:6rem;}p{color:#666666;margin:0.6rem 0 0 0;font-size:0.9rem;max-height:2.5rem;-webkit-line-clamp:2;overflow:hidden;}& div.presence{background-color:",";float:left;position:absolute;left:-1.2rem;padding:0.4rem 0.6rem;color:white;border-radius:1.8rem;font-size:0.9rem;",";}"],function(e){return e.theme.secondary},Object(h.d)(S())),T=r.d.img.withConfig({displayName:"FoodMenuItemImage",componentId:"sc-1uxwtjp-1"})(["width:6rem;height:6rem;display:block;float:left;margin:-1.05rem 1rem 0 -1.2rem;border-radius:0.8rem 0 0 0.8rem;object-fit:cover;"]),M=r.d.div.withConfig({displayName:"FoodMenuItemPriceCorner",componentId:"sc-1uxwtjp-2"})(["border-top-width:1.8rem;border-top-style:solid;border-top-color:"," !important;position:absolute;right:4.799rem;top:1rem;width:0;height:0;border-left:1.8rem solid transparent;"],function(e){return e.theme.primary}),D=r.d.div.withConfig({displayName:"FoodMenuItemPrice",componentId:"sc-1uxwtjp-3"})(["background-color:"," !important;position:absolute;right:0;top:1rem;width:4.8rem;height:1.8rem;padding:0.12rem 0.7rem 0.3rem 0rem;font-weight:500;font-size:1.1rem;color:white;text-align:right;overflow:hidden;white-space:nowrap;"],function(e){return e.theme.primary}),A=c.a.memo(function(e){var t=e.recipe,n=e.presence,r=e.onAddToCart,a=Object(N.a)(),i=t.sideDishCount>0,l=c.a.useCallback(function(){r(t.id,i)},[i,r,t.id]),s=Object(P.i)({fetchPolicy:"cache-first"}),d=Object(u.a)(s,1)[0],p=c.a.useCallback(function(){i&&d({recipeId:t.id})},[i,d,t.id]),f=c.a.useRef(-1);return Object(o.d)(function(){return c.a.createElement(x,{onClick:l,onMouseEnter:p,className:Object(m.b)({active:a.lastActiveRecipeId===t.id,disabled:a.disableInteraction}),"data-testid":"foodMenuItem__".concat(t.id)},t.image&&c.a.createElement(T,{src:t.image,alt:t.nameLabel}),c.a.createElement(M,null),c.a.createElement(D,{"data-testid":"foodMenuItem__Price__".concat(t.id)},t.price.formattedValue),function(){var e=n.get(t.id);if(!e)return f.current=-1,null;var r=Object(m.b)("presence","animated",{pulse:e>1||f.current>0,zoomIn:1===e&&0===f.current||-1===f.current});return f.current=e,c.a.createElement("div",{key:e,className:r},"".concat(e,"x"))}(),c.a.createElement("h4",{title:t.nameLabel},c.a.createElement(b.a,{lines:2,"data-testid":"foodMenuItem__Name__".concat(t.id)},t.nameLabel)),c.a.createElement("p",null,c.a.createElement(b.a,{lines:2,"data-testid":"foodMenuItem__Description__".concat(t.id)},t.descriptionLabel)))})}),R=n(8);function z(){var e=Object(d.a)(["\n      margin: 0 0.7rem 1rem 0.7rem;\n      padding: 0 0 4rem 0;\n    "]);return z=function(){return e},e}function L(){var e=Object(d.a)(["\n      margin: 0 1.4rem 1rem 1.6rem;\n      padding: 2rem 0 2rem 0;\n    "]);return L=function(){return e},e}function F(){var e=Object(d.a)(["\n    background: #eee9e7;\n    background-size: cover;\n    background-attachment: scroll;\n  "]);return F=function(){return e},e}function G(){var e=Object(d.a)(["background: white;"]);return G=function(){return e},e}var B=r.d.div.withConfig({displayName:"StyledFoodMenu",componentId:"sc-1ynjjri-0"})(["border-radius:0 0 0.6rem 0.6rem;",";",";& > div{",";",";}"],Object(h.c)(G()),Object(h.d)(F()),Object(h.c)(L()),Object(h.d)(z())),V=c.a.memo(function(e){var t=e.orderId,n=e.categories,r=e.isLoading,a=Object(l.b)(),o=a.order,i=a.config,s=a.user,d=function(e){var t=Object(P.B)({orderId:e},{skip:!e,fetchPolicy:"cache-only"}).data,n=c.a.useState(function(){return R.observable.map()}),r=Object(u.a)(n,1)[0];return t&&Object(R.runInAction)(function(){r.clear(),t.order.presence.forEach(function(e){var t=e.recipe.id;r.has(t)||r.set(t,0),r.set(t,r.get(t)+1)})}),r}(t),m=Object(j.a)(),p=c.a.useCallback(function(e,t){o.disableInteraction||(d.size>=i.orderItemsMax?s.showOrderLimit():t?o.addToCart(e):(o.setUsedRecipeId(e),m(e)))},[i.orderItemsMax,m,o,d,s]);return c.a.createElement(B,{"data-testid":"FoodMenu"},c.a.createElement("div",null,r?c.a.createElement(_.a,{noMargin:!0}):0===n.length?c.a.createElement("h3",null,c.a.createElement(E.Trans,{id:"Food menu is empty. We are sorry."})):c.a.createElement(c.a.Fragment,null,n.map(function(e){return c.a.createElement(I,{key:e.id,category:e},e.recipes.map(function(e){return c.a.createElement(A,{key:e.id,recipe:e,presence:d,onAddToCart:p})}))}))))}),W=n(1084),H=n(154),q=n(45),U=function(){var e=Object(l.b)().user;return Object(o.d)(function(){return c.a.createElement(H.a,{isOpen:!e.orderLimitAlertHidden,onClose:e.hideOrderLimit,headerText:q.b._("Limit has been reached")},q.b._("The maximum number of items in the order has been reached"))})},Y=n(210),J=n(1361),Z=n(121);function K(){var e=Object(d.a)(["\n  font-weight: bold;\n  margin-bottom: 0;\n  padding: 0.5rem 1rem;\n\n  & button {\n    margin: 0.5rem;\n  }\n"]);return K=function(){return e},e}var Q=Object(r.d)(J.a)(K()),X=function(){var e=Object(N.a)();return Object(o.d)(function(){return e.disableInteraction?c.a.createElement(Q,{color:"warning"},c.a.createElement(E.Trans,{id:"Order is locked for further changes."}),c.a.createElement(Y.b,{to:"/"},c.a.createElement(Z.b,null,c.a.createElement(E.Trans,{id:"Create new order"})))):null})};n.d(t,"a",function(){return ee});var $=r.d.div.withConfig({displayName:"StyledMobileHeader",componentId:"sc-1yczho6-0"})(["position:sticky;top:0;z-index:4;"]),ee=Object(o.a)(function(){var e=Object(l.b)(),t=e.order,n=e.user,r=Object(W.a)(t.branchId),o=r.getStash,i=r.loading,u=r.refetch;Object(a.d)(function(){return n.language},function(){return u()});var d=o(function(e){return e.wareCategories.filter(function(e){return e.recipes.length>0})});return c.a.createElement(c.a.Fragment,null,c.a.createElement(U,null),c.a.createElement($,null,c.a.createElement(X,null),c.a.createElement(O,{categories:d||s.a})),c.a.createElement(V,{orderId:t.orderId,categories:d||s.a,isLoading:i}))})},1131:function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1368),i=n(1073),c=n(45),l=function(){return a.a.createElement(o.a,null,a.a.createElement(i.a,{name:"email",type:"email",autoComplete:"email",placeholder:c.b._("E-mail")}))},s=n(1369),u=function(){return a.a.createElement(o.a,null,a.a.createElement(s.a,null,a.a.createElement(i.a,{name:"firstname",autoComplete:"given-name",placeholder:c.b._("First name")}),a.a.createElement(i.a,{name:"lastname",autoComplete:"family-name",placeholder:c.b._("Last name")})))},d=n(1370),m=function(){var e=c.b._("eg. ingredients change, company...");return a.a.createElement(o.a,null,a.a.createElement(i.a,{name:"note",type:"textarea",placeholder:c.b._("Note"),title:e,errorForceDisplay:!0}),a.a.createElement(d.a,null,e))},p=n(59),f=n(277),b=n(1092),h=n(168),g=function(){var e="Mobile Safari"===new b.UAParser(window.navigator.userAgent).getBrowser().name,t=Object(h.a)(),n=Object(f.e)("phonePrefix");return Object(p.b)(function(){var e=t.defaultPhonePrefix;e&&t.root.user.memoryApplied&&0===n.value.length&&(n.setValue(e),e&&n.setTouched())}),a.a.createElement(o.a,null,a.a.createElement(s.a,null,a.a.createElement(i.a,{name:"phonePrefix",autoComplete:e?"off":"tel-country-code",placeholder:"Prefix"}),a.a.createElement(i.a,{name:"phone",type:"tel",autoComplete:"tel-national",placeholder:c.b._("Phone"),style:{width:"55%"}})))};n.d(t,"a",function(){return v});var v=function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(u,null),a.a.createElement(g,null),a.a.createElement(l,null),a.a.createElement(m,null))}},1132:function(e,t,n){"use strict";var r=n(35),a=n(94),o=n(59),i=n(275),c=n(277),l=n(156),s=n(8),u=n(0),d=n.n(u),m=n(52),p=n(1071),f=n(168),b=n(42),h=n(55),g=n(1363),v=n(273),y=n(1364),O=(n(123),b.d.div.withConfig({displayName:"StyledFormCheckbox",componentId:"sc-915kzt-0"})(["display:flex;margin-bottom:0.5rem;input{-webkit-appearance:none;-moz-appearance:none;background-color:white;border:1px solid;border-color:#c5c5c5;width:2rem;height:2rem;min-width:2rem;border-radius:0.25rem;position:relative;margin:0;outline:none;&:checked{background-color:white;}&:checked:after{content:'\\2714';font-size:2rem;position:absolute;top:-0.5rem;left:0.1rem;color:#1d1d1d;overflow:hidden;}&.is-invalid{border-color:red;}}label{margin:0 0 0 0.8rem;vertical-align:top;}"])),E=n(45),_=b.d.div.withConfig({displayName:"StyledOrderAgreementBox",componentId:"zpwcdo-0"})(["button{padding:0 0.5rem;font-size:0.8rem;min-width:5rem;color:darkgray;}div.description{font-size:0.8rem !important;color:darkgray;margin:0.5rem 0 0.5rem 0;& .row{margin:0;}}"]),j=Object(h.a)(function(e){var t=e.agreement,n=e.isValid,r=e.isCollapsed,a=e.titleNode,o=e.descriptionNode,i=e.inputProps,c=e.buttonProps,l=Object(f.a)(),s="agreement-".concat(t.id);return d.a.createElement(_,null,d.a.createElement(O,null,d.a.createElement(g.a,Object.assign({},i,{id:s,type:"checkbox",disabled:l.disableInteraction,invalid:!n,onInvalid:function(e){n||e.target.setCustomValidity(E.b._("Please check this box if you want to proceed."))},onClick:function(e){e.target.setCustomValidity("")},"data-testid":"OrderAgreement".concat(t.isMandatory?"Mandatory":"")})),d.a.createElement("label",{htmlFor:s},a,t.isMandatory&&" * "),d.a.createElement(v.a,Object.assign({},c,{color:"link"}),r?E.b._("More...").toLocaleLowerCase():E.b._("Less").toLocaleLowerCase())),d.a.createElement(y.a,{isOpen:!r,className:"description"},o))});n.d(t,"a",function(){return w});var w=function(){var e=Object(f.a)(),t=Object(c.h)(),n=d.a.useState(),u=Object(r.a)(n,2),b=u[0],h=u[1];d.a.useEffect(function(){var n=Object(l.debounce)(h,2e3);var r=Object(s.autorun)(function(){n(function(){var n=t.values,r=n.firstname,a=n.lastname,o=n.phonePrefix,i=n.phone;return{input:{orderId:e.orderId,firstname:r,lastname:a,phone:"".concat(o.trim()).concat(i.trim())}}}())});return function(){r(),n.clear()}},[t,e]);var g=Object(m.H)(b,{skip:!b}),v=g.data,y=g.hasError,O=d.a.useRef(p.a);v&&(O.current=v.agreements),d.a.useEffect(function(){O.current.length>0&&!e.isVamInitialized&&e.initVam()});var E=Object(i.e)(O.current),_=E.state,w=E.renderVamAgreements,k=d.a.useCallback(function(){return O.current.some(function(e){return e.isMandatory&&!_.confirmedAgreements.has(e.id)})?"mandatory":void 0},[_]),C=Object(c.c)("agreements",{validate:k});return Object(o.b)(function(){var e=Array.from(_.confirmedAgreements);C.setValue(e)}),y?d.a.createElement(a.Trans,{id:"Failed retrieving company agreements. Please try again later or contact us."}):w({AgreementBox:j})}},1133:function(e,t,n){"use strict";var r=n(42),a=n(94),o=n(0),i=n.n(o),c=n(52),l=n(274),s=n(55),u=n(121),d=n(168),m=function(e){var t=e.orderMethod,n=e.onChange,r=e.children,a=Object(d.a)();return Object(s.d)(function(){return i.a.createElement(u.c,{selected:a.orderMethod===t,onClick:function(){a.useOrderMethod(t),n(a)},"data-testid":"orderMethod-".concat(t),"data-testselected":a.orderMethod===t},r)})};n.d(t,"a",function(){return f});var p=r.d.div.withConfig({displayName:"StyledOrderMethod",componentId:"lyg5h5-0"})(["padding:0.2rem;& button{font-size:1.3rem;margin:0.3rem 1rem 0.3rem 1rem;padding:0.3rem 1.2rem;height:2.7rem;line-height:1rem;white-space:nowrap;span:before{margin:0 0.8rem 0 0;font-size:2rem;font-weight:initial;}}"]),f=function(e){var t=e.onChange,n=void 0===t?l.a.identity:t;return i.a.createElement(p,null,i.a.createElement(m,{orderMethod:c.a.Messenger,onChange:n},i.a.createElement("span",{className:"flaticon-transport"}),i.a.createElement(a.Trans,{id:"I want to deliver"})),i.a.createElement(m,{orderMethod:c.a.Pickup,onChange:n},i.a.createElement("span",{className:"flaticon-restaurant"}),i.a.createElement(a.Trans,{id:"I'll pick up"})))}},1134:function(e,t,n){"use strict";var r=n(42),a=n(94),o=n(0),i=n.n(o),c=n(52),l=n(55),s=n(23),u=n(121),d=Object(l.a)(function(e){var t=e.children,n=e.paymentMethod,r=Object(s.b)().order,a=r.paymentMethod===n;return i.a.createElement(u.c,{disabled:r.disableInteraction,selected:a,onClick:function(){r.setPaymentMethod(n)},"data-testid":"orderPaymentMethod-".concat(n)},i.a.createElement(m,{show:a}),t)});function m(e){return e.show?i.a.createElement("span",{className:"flaticon-mark order__payment__method__button__checked"}):i.a.createElement("div",{className:"order__payment__method__button__unchecked"})}n.d(t,"a",function(){return f});var p=r.d.div.withConfig({displayName:"StyledOrderPaymentMethod",componentId:"sc-12kj5sm-0"})(["margin:0 0 1.4rem 0;span::before{margin-left:0;margin-right:0.5rem;}button{position:relative;padding-top:0.3rem;margin-bottom:0.2rem;height:2.8rem;}button:first-of-type{margin-right:0.8rem;}.order__payment__method__button__unchecked{width:1.75rem;height:1.4rem;margin:0;display:inline-block;}"]),f=i.a.memo(function(){return i.a.createElement(p,null,i.a.createElement(d,{paymentMethod:c.f.Gopay},i.a.createElement("span",{className:"flaticon-credit-card"},i.a.createElement(a.Trans,{id:"Pay by card"}))),i.a.createElement(d,{paymentMethod:c.f.Cash},i.a.createElement("span",{className:"flaticon-money"},i.a.createElement(a.Trans,{id:"Pay by cash"}))))})},1135:function(e,t,n){"use strict";var r=n(95),a=n(42),o=n(94),i=(n(1142),n(1085)),c=n(41),l=n(8),s=n(55),u=n(0),d=n.n(u),m=n(380),p=n(23),f=n(121),b=n(1110),h=n(122),g=n(52),v=n(168),y=n(35),O=n(59),E=n(274);function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(n,!0).forEach(function(t){Object(r.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}n.d(t,"a",function(){return C});var k=a.d.div.withConfig({displayName:"StyledCartSystem",componentId:"sc-1cbvtgn-0"})(["& .animated{z-index:10;}"]),C=function(e){var t=e.orderId,n=e.isReadonly,a=e.isMobileConfirm,u=void 0!==a&&a,_=Object(m.b)(),C=d.a.useMemo(I,[]),P=Object(v.a)(),N=function(){var e=Object(p.b)(),t=e.order,n=e.cart,r=Object(c.useApolloClient)(),a=Object(O.g)().history,o=d.a.useCallback(function(e){t.changeCartItem(e)},[t]),i=Object(g.t)(),l=Object(y.a)(i,1)[0],s=d.a.useCallback(function(e){var t={itemId:e,withGoods:n.withGoods,withPresence:n.withPresence};l(t,j({optimisticResponse:f(t)},c.disableBatching))},[n,f,l]),u=d.a.useCallback(function(){a.push("/confirm")},[a]),m=d.a.useCallback(function(){a.push("/order")},[a]);return{cartModel:n,onItemEdit:o,onItemRemove:s,onPlaceOrder:u,onChangeOrder:m};function f(e){var a=r.readQuery({query:g.h,variables:{orderId:t.orderId,withGoods:n.withGoods,withPresence:n.withPresence}},!0);if(a){var o=E.a.reject(Object(E.b)(e.itemId));return{__typename:"Mutation",remove:j({},a.order,{countWares:a.order.countWares-1,totalSum:j({},a.order.totalSum,{value:-1}),items:e.withGoods?o(a.order.items):a.order.items,presence:e.withPresence?o(a.order.presence):a.order.presence})}}}}(),S=N.cartModel,x=N.onItemEdit,T=N.onItemRemove,M=N.onPlaceOrder,D=N.onChangeOrder,A=d.a.useCallback(function(){if(u&&P.disableInteraction)return null;var e=!n||P.disableInteraction;return d.a.createElement(b.a,null,d.a.createElement(f.a,{onClick:e?M:D},e?d.a.createElement(o.Trans,{id:"Place order"}):d.a.createElement(o.Trans,{id:"Change order"})))},[u,n,D,M,P]),R=d.a.useCallback(function(){return d.a.createElement(o.Trans,{id:"Accessing your order"})},[]),z=Object(i.a)({colors:{primary:_.primary,sumRowBg:_.primary,sumRowText:"white",mobileSummaryItemCount:_.secondary},labels:C,isReadonly:n,mobileBreakpoint:h.e,backgroundImage:_.backgroundCart,onItemEdit:x,onItemRemove:T,renderMobileSubmit:A,renderGoodsLoading:R});d.a.useEffect(function(){return Object(l.autorun)(function(){S.updateDisplay(z.store.isMobile,z.store.showGoods)})},[z.store,S]);var L=Object(p.b)();return Object(s.d)(function(){var e=(0,Object(g.w)({orderId:t,withGoods:S.withGoods,withPresence:S.withPresence},function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(n,!0).forEach(function(t){Object(r.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({skip:!L.initialized||!t},c.disableBatching)).getStash)(function(e){return e.order});return d.a.useEffect(function(){e&&(z.updateSummary(e),S.withGoods&&z.updateGoods(e))}),d.a.createElement(k,null,z.renderCart())})};function I(){return{noSideDish:d.a.createElement(o.Trans,{id:"Without sidedish"}),noCost:d.a.createElement(o.Trans,{id:"For free"}),cartSumHeader:function(e){return d.a.createElement(o.Trans,{id:"In the cart you have goods for {totalPrice}",values:{totalPrice:e}})},emptyCart:d.a.createElement(o.Trans,{id:"Cart is empty"}),totalDiscount:d.a.createElement(o.Trans,{id:"Total discount"}),coverPrice:d.a.createElement(o.Trans,{id:"Covers"}),transportFee:d.a.createElement(o.Trans,{id:"Delivery"}),totalSum:d.a.createElement(o.Trans,{id:"Total"}),tip:d.a.createElement(o.Trans,{id:"Tip"}),minimalOrderPrice:function(e){return d.a.createElement(o.Trans,{id:"Minimal price of order is {price}",values:{price:e}})}}}},1136:function(e,t,n){},1139:function(e,t,n){},1142:function(e,t,n){},1150:function(e,t,n){}}]);
//# sourceMappingURL=1.b32ff185.chunk.js.map