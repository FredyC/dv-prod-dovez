(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{872:function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return c}),n.d(t,"c",function(){return l});var r=n(1),a=n.n(r),o=n(48),i=function(e){var t=e.children;return a.a.createElement(o.c,{className:"pl-sm-0",sm:"12",md:"12",lg:"10",xl:"8"},t)},c=function(e){var t=e.children;return a.a.createElement(o.c,{className:"pl-sm-0",sm:"8",md:"8",lg:"6",xl:"5"},t)},l=function(e){var t=e.children;return a.a.createElement(o.c,{className:"pl-sm-0",sm:"4",md:"4",lg:"4",xl:"3"},t)}},877:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(123),a=n(124);function o(e){var t=e.status,n=e.updateInterval,o=void 0===n?30*r.SECOND:n,c=e.openSoonThresholdInMinutes,l=void 0===c?30:c,s=e.closeSoonThresholdInMinutes,u=void 0===s?30:s,d=Object(r.useNow)();Object(r.useTimer)({interval:o,enabled:o>0});var m=d(),p=t.isOpen,f=t.willCloseAt,b=t.willOpenAt,h=b?Object(a.differenceInMinutes)(b,m):0,_=f?Object(a.differenceInMinutes)(f,m):0;return{decision:p?f&&_<=0?"Closed":i(f,u,m)?"ClosingSoon":"Open":b&&h<=0?"Open":i(b,l,m)?"OpeningSoon":"Closed",openingIn:h,closingIn:_}}function i(e,t,n){return!!e&&Math.abs(Object(a.differenceInMinutes)(e,n))<=t}},880:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(1),a=n.n(r),o=n(31),i=function(e){var t=e.address;if(!t||!t.location)return a.a.createElement("span",null,o.b._("Unknown address"));var n=t.location;return a.a.createElement("span",null,"".concat(n.street," ").concat(n.houseNumber,",\n ").concat(n.city))}},881:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(50),a=n(30),o=n(1),i=n.n(o),c=function(e){var t=e.imageName,n=(e.fallbackColor,e.fixed),o=void 0!==n&&n,c=e.size,l=void 0===c?"inherit":c,s=e.children,u=e.component,d=void 0===u?"div":u,m=Object(r.a)(e,["imageName","fallbackColor","fixed","size","children","component"]);return i.a.createElement(Object(a.default)(d).withConfig({displayName:"BackgroundThemed",componentId:"sc-1ju94id-0"})(["background-image:",";background-attachment:",";background-repeat:no-repeat;background-position:left top;background-size:",";"],function(e){return"url(".concat(e.theme[t],")")},function(e){return o?"fixed":"inherit"},function(e){return l}),m,s)};t.b=c},882:function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n(63),a=n(878),o=n(106),i=n(1),c=n.n(i),l=n(33),s=["places"],u=function(e){var t=e.model,n=e.children,i=c.a.useState(!1),u=Object(r.a)(i,2),d=u[0],m=u[1];return c.a.createElement(a.LoadScript,{id:"script-loader",googleMapsApiKey:l.a.googleMapsApi,language:"cz",region:"CS",libraries:s,version:"weekly",onLoad:function(){return m(!0)}},d?c.a.createElement(o.Observer,null,function(){return c.a.createElement(a.GoogleMap,{zoom:t.zoom,center:t.center,onCenterChanged:t.updatePosition,onZoomChanged:t.updateZoom,onClick:t.onClick,onLoad:t.setMapRef,options:{streetViewControl:!1,mapTypeControl:!1,fullscreenControl:!1,zoomControlOptions:{position:google.maps.ControlPosition.RIGHT_TOP}},mapContainerStyle:{borderRadius:"0 0 0.5rem 0.5rem",overflow:"hidden",height:"calc(100% - 3.75rem)"}},n)}):null)}},883:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(15),a=n(106),o=function(e){var t=e.map,n=e.gps;return Object(a.useDisposable)(function(){return Object(r.autorun)(function(){t.isReady&&n&&t.panToLocation(n)})},[n]),null}},884:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(42);function a(){return Object(r.b)().order}},892:function(e,t,n){},893:function(e,t,n){"use strict";n.d(t,"a",function(){return d});var r=n(58),a=n(106),o=n(1),i=n.n(o),c=n(42),l=n(114),s=n(877),u=n(31),d=function(e){var t=e.status,n=Object(c.b)().user,o=Object(s.a)({status:t,updateInterval:0}),d=o.decision,m=o.openingIn;return Object(a.useObserver)(function(){return i.a.createElement(l.a,{isOpen:("Closed"===d||"OpeningSoon"===d)&&!n.closingTimeAlertHidden,onClose:n.hideClosingTime,headerText:u.b._("We are closed right now")},u.b._("We're sorry, but we do not accept new orders at this time."),"OpeningSoon"===d&&i.a.createElement(r.Trans,{id:"You can prepare your order because we are {openingIn, plural, one {opening in 1 minute} other {opening in # minutes}} !",values:{openingIn:m}}))})}},894:function(e,t,n){"use strict";n.d(t,"a",function(){return f});n(939);var r=n(1),a=n.n(r),o=n(872),i=n(940),c=n.n(i),l=n(941),s=n.n(l),u=n(942),d=n.n(u),m=n(943),p=n.n(m),f=function(){return a.a.createElement(o.a,null,a.a.createElement("img",{src:d.a,className:"shop__header__icons__doveze","data-testid":"ShopHeaderIcons__AppLogo",alt:"logo Doveze.cz"}),a.a.createElement("img",{src:s.a,className:"shop__header__icons__commerce",alt:"MasterCard"}),a.a.createElement("img",{src:c.a,className:"shop__header__icons__commerce","data-testid":"ShopHeaderIcons__VisaLogo",alt:"VISA"}),a.a.createElement("img",{src:p.a,className:"shop__header__icons__gopay",alt:"GoPay","data-testid":"ShopHeaderIcons__GoPayLogo"}))}},895:function(e,t,n){"use strict";n.d(t,"a",function(){return p});var r=n(89),a=n(30),o=n(58),i=n(124),c=n(1),l=n.n(c),s=n(42),u=n(877),d=a.default.span.withConfig({displayName:"ShopStatusDisplay__StatusDisplayOpen",componentId:"ul92ph-0"})(["font-style:italic;color:#0f9849;"]),m=a.default.span.withConfig({displayName:"ShopStatusDisplay__StatusDisplayClosed",componentId:"ul92ph-1"})(["font-style:italic;color:#b40000;"]),p=function(e){var t=e.status,n=e.deliveryTime,r=e.pickupTime,a=Object(s.b)().order,i=Object(u.a)({status:t}),c=i.decision,p=i.openingIn,b=i.closingIn;if(!t)return null;if(!1===t.isOpen){if(!t.willOpenAt)return l.a.createElement(m,null,l.a.createElement(o.Trans,{id:"We are closed until further notice"}));var h=t.businessHours[0];if(h&&h.closedNote)return l.a.createElement(m,null,h.closedNote)}switch(c){case"Open":var _;return a.usingDeliveryOrderMethod&&t.defaultDeliveryTimeEnabled&&(_=l.a.createElement(o.Trans,{id:"We are delivering in {deliveryTime} minutes",values:{deliveryTime:n}})),a.usingPickupOrderMethod&&t.defaultPickupTimeEnabled&&(_=l.a.createElement(o.Trans,{id:"We can prepare your order in {pickupTime} minutes",values:{pickupTime:r}})),l.a.createElement(d,{"data-testid":"statusDisplayOpen"},_);case"OpeningSoon":return l.a.createElement(m,null,l.a.createElement(o.Trans,{id:"{openingIn, plural, one {Opening in 1 minute} other {Opening in # minutes}}",values:{openingIn:p}}));case"ClosingSoon":return l.a.createElement(d,null,l.a.createElement(o.Trans,{id:"{closingIn, plural, one {Closing in 1 minute} other {Closing in # minutes}}",values:{closingIn:b}}));case"Closed":return l.a.createElement(m,null,t.willOpenAt?l.a.createElement(o.Trans,{id:"We will open at {0}",values:{0:f(t.willOpenAt)}}):l.a.createElement(o.Trans,{id:"Closed"}))}};function f(e){var t=new Date(e),n=new Date,a={hour:"numeric",minute:"numeric"};return Object(i.isSameDay)(t,n)||(a=Object(r.a)({},a,{weekday:"long"})),l.a.createElement(o.DateFormat,{value:t,format:a})}},896:function(e,t,n){"use strict";n.d(t,"a",function(){return m});var r=n(30),a=n(58),o=n(1),i=n.n(o),c=n(48),l=n(87),s=n(75),u=n(31),d=r.default.div.withConfig({displayName:"FinishViewFooter__CenteredButtonContainer",componentId:"sc-1yzqtn3-0"})(["text-align:center;"]),m=function(e){var t=e.finish,n=t.androidApp,r=t.iosApp;return i.a.createElement(i.a.Fragment,null,i.a.createElement(s.a,null,(n||r)&&i.a.createElement("div",{className:"finish__view__apps__propagation"},i.a.createElement("div",{className:"finish__view__apps__propagation__header"},i.a.createElement(a.Trans,{id:"What about mobile app?"})),i.a.createElement("div",{className:"finish__view__apps__propagation__description"},i.a.createElement(a.Trans,{id:"We have prepared mobile app, so you could order from anywhere!"})),n&&i.a.createElement("a",{href:n.url},i.a.createElement(c.b,{className:"finish__view__apps__propagation__button",color:"secondary"},"Google Play")),r&&i.a.createElement("a",{href:r.url},i.a.createElement(c.b,{className:"finish__view__apps__propagation__button",color:"secondary"},"App Store"))),i.a.createElement(d,null,i.a.createElement(l.c,{to:"/",className:"finish__view__submit__line__button","data-testid":"finishViewFooterBackButton"},u.b._("Back to home page").toLocaleUpperCase()))),i.a.createElement(s.b,null,i.a.createElement("div",{className:"finish__view__submit__line",style:{textAlign:"center"}},i.a.createElement("div",{className:"finish__view__submit__line__strip"}),i.a.createElement(l.c,{to:"/",className:"finish__view__submit__line__button","data-testid":"finishViewFooterBackButton"},u.b._("Back to home page").toLocaleUpperCase()))))}},897:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(1),a=n.n(r),o=n(64),i=n(42),c=n(90),l=n(32),s=function(e){var t=e.render,n=Object(i.b)().order;if(!n.hasOrder)return a.a.createElement(o.Redirect,{to:"/"});var r=Object(l.C)({branchId:n.branchId,orderId:n.orderId}),s=r.data;return r.loading?a.a.createElement(c.a,null):t(s)}},898:function(e,t,n){"use strict";n.d(t,"a",function(){return p});var r=n(30),a=n(58),o=n(88),i=n(1),c=n.n(i),l=n(32),s=n(31),u=r.default.div.withConfig({displayName:"FinishViewOrder__HeaderThemed",componentId:"s65dzo-0"})(["background-color:",";"],function(e){return e.theme.primary}),d=r.default.div.withConfig({displayName:"FinishViewOrder__PriceThemed",componentId:"s65dzo-1"})(["background-color:",";"],function(e){return e.theme.primary}),m=r.default.div.withConfig({displayName:"FinishViewOrder__PriceCornerThemed",componentId:"s65dzo-2"})(["border-top-color:"," !important;"],function(e){return e.theme.primary}),p=function(e){var t=e.order;return c.a.createElement(c.a.Fragment,null,c.a.createElement(u,{className:"finish__view__header"},c.a.createElement("div",{className:"finish__view__header__inner"},c.a.createElement("span",{className:"flaticon-transport-1 finish__view__header__icon"}),c.a.createElement("h3",null,c.a.createElement(a.Trans,{id:"It's done! Thank you :-)"})))),c.a.createElement("h4",null,c.a.createElement(a.Trans,{id:"Your order was successfully accepted!"})," ",function(e){var t=e.orderPayments;if(t.some(f(l.j.Cash)))return s.b._("You will pay at pickup.");if(t.some(f(l.j.Credit)))return s.b._("You have payed.");return null}(t)),c.a.createElement("div",{className:"finish__view__items"},c.a.createElement("div",{className:"finish__view__items__look__to"},c.a.createElement(a.Trans,{id:"You can look forward to:"})),t.items.map(function(e){return c.a.createElement(b,Object.assign({key:e.id},e))}),c.a.createElement(m,{className:"finish__view__items__price__corner"}),c.a.createElement(d,{className:"finish__view__items__price"},function(e){var t=e.orderPayments;e.totalSum;if(t.some(f(l.j.Cash)))return s.b._("Total cost to be payed:");if(t.some(f(l.j.Credit)))return s.b._("Total cost payed:");return null}(t)," ",c.a.createElement("b",null,t.totalSum.formattedValue))))},f=function(e){return function(t){return t.paymentMethod.paymentType.enum===e}};function b(e){var t=e.recipe,n=e.sideDishes;return c.a.createElement("div",null,c.a.createElement("b",null,t.nameLabel),n.length?" + ".concat(n.map(o.RM.path(["recipe","nameLabel"])).join(",")):null)}},899:function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n(30),a=n(58),o=n(1),i=n.n(o),c=r.default.a.withConfig({displayName:"FinishViewSupport__PhoneNumberLinkStyled",componentId:"sc-1y14w99-0"})(["color:inherit;text-decoration:none;&:hover{text-decoration:underline;}"]),l=function(e){var t=e.branch;return i.a.createElement("div",{className:"finish__view__support"},i.a.createElement("h4",null,i.a.createElement(a.Trans,{id:"Any question? Do you have a problem? Call:"})),i.a.createElement("span",{className:"flaticon-technology finish__view__support__icon"}),i.a.createElement("span",{className:"finish__view__support__phone"},i.a.createElement(c,{href:"tel:".concat(t.phone)},t.phone)))}},900:function(e,t,n){"use strict";n.d(t,"a",function(){return m});n(945);var r=n(106),a=n(1),o=n.n(a),i=n(42),c=n(87),l=n(32),s=n(146),u=n(31),d=function(e){var t=e.orderModel,n=e.orderMethod,a=e.onChange,i=e.onPrefetch,l=e.children;return Object(r.useObserver)(function(){return o.a.createElement(c.e,{selected:t.orderMethod===n,onMouseEnter:i,onClick:function(){t.useOrderMethod(n),a(t)},"data-testid":"orderMethod-".concat(n),"data-testselected":t.orderMethod===n},l)})},m=function(e){var t=e.onChange,n=Object(i.b)().order;return o.a.createElement("div",{className:"order__method"},o.a.createElement(d,{orderModel:n,orderMethod:l.a.Messenger,onChange:t||s.a.identity},o.a.createElement("span",{className:"flaticon-transport"}),u.b._("I want to deliver").toLocaleUpperCase()),o.a.createElement(d,{orderModel:n,orderMethod:l.a.Pickup,onChange:t||s.a.identity,onPrefetch:n.prefetchPickup},o.a.createElement("span",{className:"flaticon-restaurant"}),u.b._("I'll pick up").toLocaleUpperCase()))}},904:function(e,t,n){"use strict";n(979);var r=n(1),a=n.n(r);t.a=function(e){var t=e.children;return a.a.createElement("div",{className:"button__stripe"},a.a.createElement("div",{className:"button__stripe__bar"}),a.a.createElement("div",{className:"button__stripe__button"},t))}},905:function(e,t,n){"use strict";n.d(t,"a",function(){return d});var r=n(89),a=n(143),o=n(63),i=n(19),c=n(42),l=n(32),s=1,u=[];function d(){var e=Object(c.b)(),t=e.order,n=e.cart,d=Object(i.useApolloClient)(),m=Object(l.p)({context:{noBatch:!0}}),p=Object(o.a)(m,1)[0];return function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u,a={orderId:t.orderId,recipeId:e,sideDishes:r,withGoods:n.withGoods,withPresence:n.withPresence};return p(a,{optimisticResponse:f(a)})};function f(e){var t=d.readQuery({query:l.k,variables:{orderId:e.orderId,withGoods:n.withGoods,withPresence:n.withPresence}},!0);if(t){var o="-".concat(s++);return{__typename:"Mutation",add:Object(r.a)({},t.order,{countWares:t.order.countWares+1,totalSum:Object(r.a)({},t.order.totalSum,{value:-1}),items:function(){if(!n.withGoods)return t.order.items;var r=d.readFragment({id:"Recipe-".concat(e.recipeId),fragment:l.e,fragmentName:"FRecipe"},!0);return r?Object(a.a)(t.order.items).concat([{__typename:"OrderRecipe",automatic:!1,id:o,price:{__typename:"PriceConverted",formattedValue:"???",value:-1},recipe:r,sideDishes:[]}]):t.order.items}(),presence:n.withPresence?Object(a.a)(t.order.presence).concat([{__typename:"OrderRecipe",id:o,recipe:{__typename:"Recipe",id:e.recipeId}}]):t.order.presence})}}}}},906:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(50),a=n(30),o=n(1),i=n.n(o),c=n(48),l=Object(a.default)(function(e){e.isSelected,e.width;var t=Object(r.a)(e,["isSelected","width"]);return i.a.createElement(c.b,t)}).withConfig({displayName:"PickerButton__PickerButtonStyled",componentId:"sc-19g322n-0"})(["border-radius:0.6rem;margin:0.5rem;background-color:"," !important;color:"," !important;&:hover{border-color:"," !important;}width:",";@media (max-width:370px){width:100%;}&.btn-outline-secondary{color:#2e2e2e;border-color:#d4d4d4;}&.btn-outline-secondary.active{color:white;}"],function(e){return e.isSelected?e.theme.tertiary:"transparent"},function(e){return e.isSelected?e.theme.tertiaryText:"initial"},function(e){return e.theme.tertiaryHover},function(e){return e.width}),s=function(e){var t=e.isSelected,n=(e.onSelect,e.children),a=Object(r.a)(e,["isSelected","onSelect","children"]);return i.a.createElement(l,Object.assign({isSelected:t},a),n)}},907:function(e,t,n){"use strict";n.d(t,"a",function(){return l});n(983);var r=n(10),a=n.n(r),o=n(1),i=n.n(o),c=n(87),l=function(e){var t=e.onClick,n=e.canSubmit,r=void 0!==n&&n,o=e.isSubmitting,l=e.children,s=a()("order__form__submit__line__button","animated","infinite",{heartBeat:o});return i.a.createElement("div",{className:"order__form__submit__line"},i.a.createElement("div",{className:"order__form__submit__line__strip"}),i.a.createElement(c.b,{className:s,color:"primary",size:"md",onClick:t,disabled:!r||o,"data-testid":"orderSubmitButton"},l))}},913:function(e,t,n){"use strict";n.d(t,"a",function(){return _});var r=n(12),a=n(30),o=n(58),i=n(106),c=n(1),l=n.n(c),s=n(48),u=n(42),d=n(75),m=n(32);function p(){var e=Object(r.a)(["\n    position: fixed;\n    top: 5rem;\n    font-size: 0.8rem;\n    "]);return p=function(){return e},e}function f(){var e=Object(r.a)(["\n    font-size: 0.9rem;\n    position: sticky;\n    bottom: 0;\n  "]);return f=function(){return e},e}var b=Object(a.default)(s.b).withConfig({displayName:"OrderFormStorageNotice__NoticeButton",componentId:"sc-1i7ezjr-0"})(["font-size:0.9rem;margin:0.2rem 1rem;padding:0.5em 1rem;"]),h=Object(a.default)(s.a).withConfig({displayName:"OrderFormStorageNotice__StorageNotice",componentId:"sc-1i7ezjr-1"})(["width:100%;z-index:5;",";",";padding:0.5rem 1rem;background-color:#d4eddadc;"],Object(d.d)(f()),Object(d.e)(p())),_=Object(i.observer)(function(){var e=Object(u.b)(),t=e.order,n=e.user,r=Object(m.D)({orderId:t.orderId},{skip:!t.hasOrder||null!==n.rememberForm}),a=r.data;return r.loading?null:0===a.order.countWares||null!==n.rememberForm?null:l.a.createElement(h,{"data-testid":"orderFormStorageNotice"},l.a.createElement("p",null,l.a.createElement(o.Trans,{id:"This app is using secure storage for keeping filled form data. It's not cookies, these are stored in your browser only."})),l.a.createElement(b,{color:"success",size:"sm",onClick:n.setFormRememberYes,"data-testid":"orderFormStorageNotice__Yes"},l.a.createElement(o.Trans,{id:"Always remember"})),l.a.createElement(b,{color:"secondary",size:"sm",onClick:n.setFormRememberNo,"data-testid":"orderFormStorageNotice__No"},l.a.createElement(o.Trans,{id:"Do not store"})))})},914:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(58),a=(n(382),n(106)),o=n(1),i=n.n(o),c=n(48),l=n(42),s=function(){var e=Object(l.b)().order;return Object(a.useObserver)(function(){return i.a.createElement(c.m,{isOpen:e.hasErrors,toggle:e.clearErrors,className:"modal__container"},i.a.createElement(c.o,{toggle:e.clearErrors,tag:c.e,className:"modal__header"},i.a.createElement("span",null,i.a.createElement(r.Trans,{id:"Order can not be completed"}))),i.a.createElement(c.n,{className:"modal__body"},i.a.createElement("div",{className:"modal__body__content"},e.hasErrors&&e.submitErrors.map(function(e,t){return i.a.createElement("div",{key:t},e)})),i.a.createElement("div",{className:"modal__body__button__line"},i.a.createElement("div",{className:"modal__body__button__strip"}),i.a.createElement(c.b,{className:"modal__body__button",color:"primary",onClick:e.clearErrors},i.a.createElement(r.Trans,{id:"I understand"})),"/>")))})}},922:function(e,t,n){"use strict";n.d(t,"a",function(){return r});n(1),n(87),n(32),n(923);var r=function(e){e.onFill;return null}},923:function(e,t,n){"use strict";n.d(t,"a",function(){return d});var r=n(58),a=n(1),o=n.n(a),i=n(873),c=n(48),l=n(31),s=function(e){return e&&e.trim().length>50},u=function(e){return s(e)?l.b._("Note is too long"):null},d=function(){var e=l.b._("eg. ingredients change, company...");return o.a.createElement(i.Field,{field:"note",validate:u,render:function(t){return o.a.createElement(c.h,null,o.a.createElement(c.j,{type:"textarea",placeholder:l.b._("Note"),title:e,value:t.value,onChange:function(e){return t.setValue(e.target.value)},onBlur:function(){return t.setTouched(!0)},valid:!t.error,invalid:Boolean(t.error),"data-testid":"orderNoteInput"}),o.a.createElement(c.i,null,e),s(t.value)?o.a.createElement(c.g,null,o.a.createElement(r.Trans,{id:"Maximum length is {MAX_LENGTH, plural, other {# characters}}. Typed {0, plural, one {# char} other {# chars}}",values:{0:t.value.length,MAX_LENGTH:50}})):null)}})}},924:function(e,t,n){},925:function(e,t,n){"use strict";n.d(t,"a",function(){return C});var r=n(89),a=n(22),o=n.n(a),i=n(26),c=n(63),l=n(19),s=n(123),u=n(1008),d=n(15),m=n(106),p=n(1),f=n.n(p),b=n(873),h=n(48),_=n(42),v=n(32),g=n(28),E=n(146),y=n(353),O=n(31);function w(e){return{firstname:e.firstname,lastname:e.lastname,email:e.email,phone:e.phone,phonePrefix:e.phonePrefix||e.defaultPhonePrefix,note:e.note,tips:e.tips,payment:e.payment,agreements:[]}}var C=function(e){var t=e.render,n=Object(l.useApolloClient)(),r=Object(_.b)(),a=r.order,p=r.business,E=Object(s.useRouterContext)().history;Object(m.useDisposable)(function(){return Object(d.autorun)(function(){a.isVamInitialized||a.initVam()})});var C=Object(v.w)(),k=Object(c.a)(C,2),I=k[0],N=k[1].loading,x=Object(y.a)(),T=Object(c.a)(x,2),S=T[0],P=T[1],M=Object(u.useGoPay)(Object(i.a)(o.a.mark(function e(){var t,r,i=arguments;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=i.length>0&&void 0!==i[0]?i[0]:a.orderId){e.next=3;break}return e.abrupt("return",null);case 3:return a.goPayStatusCheck(!0),e.next=6,n.query({query:v.n,variables:{orderId:t}});case 6:return r=e.sent,a.goPayStatusCheck(!1),e.abrupt("return",r.data.status);case 9:case"end":return e.stop()}},e)})),{onError:function(e){var t=p.branch.phone;P(O.b._("Payment status check has failed"),e.length?e.join("<br />"):O.b._("We were unable to verify status of your payment. Please contact operator using number {phone}",{phone:t}))},onFinish:function(){E.replace("/finish")}}),F=M.executeGoPayPayment,A=M.paymentLoading,D=Object(s.useDebounceCallback)(function(){var e=Object(i.a)(o.a.mark(function e(t,n){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return Object(g.f)("onChange",t),e.next=3,a.updateVam(t.values);case 3:n.setValue("agreements",j(t.values.agreements,a.agreements));case 4:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),1500),L=f.a.useCallback(function(){var e=Object(i.a)(o.a.mark(function e(t){var n,r,i,c;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.rememberFormValues(t),e.next=3,I(a.getSubmitVariables(t));case 3:if(!(n=e.sent)){e.next=12;break}if(r=n.submitOrder,i=r.userErrors,c=r.gopayUrl,!i.length){e.next=9;break}return a.submitFailed(i),e.abrupt("return");case 9:a.payment===v.i.Gopay&&c?F(c):E.replace("/finish"),e.next=13;break;case 12:a.submitFailed();case 13:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),[]);return f.a.createElement(f.a.Fragment,null,S,f.a.createElement(b.Form,{defaultValues:w(a),validateOnMount:!0,onChange:D,onSubmit:L},function(e){return f.a.createElement(h.f,{onSubmit:e.submitForm},t(e,N||A))}))};function j(e,t){return t.map(function(t){var n=e.find(E.a.propEq("id",t.id));return n?Object(r.a)({},t,{isConfirmed:n.isConfirmed}):t})}},926:function(e,t,n){"use strict";n.d(t,"a",function(){return v});var r=n(63),a=n(30),o=n(15),i=n(106),c=n(1),l=n.n(c),s=n(873),u=n(1010),d=n.n(u),m=n(1011),p=n.n(m),f=n(42),b=n(32),h=n(31),_=a.default.div.withConfig({displayName:"OrderFormTipInput__TipContainer",componentId:"yjblkh-0"})(["margin-top:0.8rem;"]),v=function(){var e=Object(f.b)(),t=e.order,n=e.cart,a=Object(b.u)(),c=Object(r.a)(a,1)[0];return l.a.useEffect(function(){return Object(o.autorun)(function(){var e=t.usingPaymentMethodWithTips?Number(t.tips):0;c({tips:e,orderId:t.orderId,withGoods:n.withGoods})})},[]),Object(i.useObserver)(function(){return t.usingPaymentMethodWithTips?l.a.createElement(_,null,l.a.createElement(d.a,null,l.a.createElement(s.Field,{field:"tips",render:function(e){return l.a.createElement(p.a,{type:"select",value:e.value,onChange:function(n){var r=n.target.value;e.setValue(r),t.setTips(r)},onBlur:function(){e.setTouched(!0)},id:"orderTips"},l.a.createElement("option",{value:""},h.b._("Without tips")),l.a.createElement("option",{value:"5"},h.b._("Tips 5%")),l.a.createElement("option",{value:"10"},h.b._("Tips 10%")),l.a.createElement("option",{value:"15"},h.b._("Tips 15%")),l.a.createElement("option",{value:"20"},h.b._("Tips 20%")),l.a.createElement("option",{value:"25"},h.b._("Tips 25%")))}}))):null})}},928:function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n(1),a=n.n(r),o=n(873),i=n(42),c=n(87),l=function(e){var t=e.children,n=e.disabled,r=e.method,l=Object(i.b)().order;return a.a.createElement(o.Field,{field:"payment",render:function(e){return a.a.createElement(c.e,{disabled:n,selected:e.value===r,onClick:function(){e.setValue(r),l.setPaymentMethod(r)}},a.a.createElement(s,{show:e.value===r}),t)}})};function s(e){return e.show?a.a.createElement("span",{className:"flaticon-mark order__payment__method__button__checked"}):a.a.createElement("div",{className:"order__payment__method__button__unchecked"})}},929:function(e,t,n){"use strict";n.d(t,"a",function(){return m});var r=n(30),a=n(58),o=n(106),i=n(1),c=n.n(i),l=n(42),s=n(114),u=n(90),d=r.default.div.withConfig({displayName:"OrderGoPayModal__TextPadding",componentId:"e8hzje-0"})(["padding-bottom:2rem;"]),m=function(){var e=Object(l.b)().order;return Object(o.useObserver)(function(){return c.a.createElement(s.a,{isOpen:e.isGoPayChecking,headerText:"GoPay platba"},c.a.createElement(d,null,c.a.createElement(a.Trans,{id:"Checking your GoPay payment, please wait..."})),c.a.createElement(u.a,{noMargin:!0}))})}},931:function(e,t,n){"use strict";var r=n(106),a=n(1),o=n.n(a),i=n(884),c=n(22),l=n.n(c),s=n(26),u=n(32),d=n(905),m=n(63),p=n(58),f=(n(382),n(48)),b=n(90),h=n(146),_=n(12),v=n(885),g=n(30),E=n(31),y=function(e){var t=e.minCount,n=e.maxCount,r=e.isValid,a="";if(0===t){if(!(n>0))return null;a=E.b._({id:"maximum {maxCount}",values:{maxCount:n}})}else if(0===n)a=E.b._({id:"minimum {minCount}",values:{minCount:t}});else if(t===n){var i=t;a=E.b._({id:"only {count}",values:{count:i}})}else a=E.b._({id:"minimum {minCount} and maximum {maxCount}",values:{minCount:t,maxCount:n}});var c={};return r||(c.color="red"),o.a.createElement("span",{style:c},"(",a,")")},O=n(50),w=n(906);function C(){var e=Object(_.a)(["\n  position: absolute;\n  left: -0.6rem;\n  top: -0.4rem;\n  width: 2rem;\n  height: 2rem;\n  border-radius: 1rem;\n  background: ",";\n\n  &:hover {\n    background: "," !important;\n  }\n  &:active {\n    background: "," !important;\n  }\n  & .rectangle {\n    width: 45%;\n    position: absolute;\n    top: 45%;\n    left: 30%;\n    height: 4px;\n    background: white;\n  }\n"]);return C=function(){return e},e}var j=g.default.div(C(),function(e){return e.theme.primary},function(e){return e.theme.primaryHover},function(e){return e.theme.primary}),k=function(e){var t=e.onClick,n=Object(O.a)(e,["onClick"]);return o.a.createElement(j,Object.assign({onClick:t,className:"animated bounceIn"},n),o.a.createElement("div",{className:"rectangle"}))},I=g.default.div.withConfig({displayName:"SidedishCheckbox__StyledSidedishCheckbox",componentId:"jpxm3x-0"})(["display:inline-block;position:relative;& .name{float:left;text-align:left;white-space:normal;max-width:13rem;}& .price{font-weight:bold;float:right;}& .count{display:inline-block;margin-left:0.5rem;}"]),N=o.a.memo(function(e){var t=e.sidedish,n=e.count,r=e.canBeSelected,a=e.canBeRemoved,i=e.className,c=e.onAdd,l=e.onRemove,s=Object(O.a)(e,["sidedish","count","canBeSelected","canBeRemoved","className","onAdd","onRemove"]),u=o.a.useCallback(function(){r&&c()},[r,c]);return o.a.createElement(I,{className:i},o.a.createElement(w.a,Object.assign({onClick:u,disabled:!r,size:"xs",outline:!0,width:"17.5rem","data-testid":"sidedishCheckbox__".concat(t.id)},s),o.a.createElement("div",{className:"name"},t.nameLabel,o.a.createElement("span",{key:n,className:"animated heartBeat count"},n>1&&"".concat(n,"x"))),o.a.createElement("div",{className:"price"},t.price.formattedValue)),a&&o.a.createElement(k,{onClick:l}))});function x(){var e=Object(_.a)(["\n  margin-top: 1rem;\n\n  & .sidedish__picker__checkbox {\n    @media (max-width: 370px) {\n      width: 100%;\n    }\n  }\n\n  & .sidedish__picker__category {\n    font-size: 1rem;\n    font-weight: bold;\n    text-align: left;\n    margin: 0 0 0.2rem 0.2rem;\n  }\n"]);return x=function(){return e},e}var T=g.default.div(x()),S=function(e){var t=e.recipe,n=e.selection,r=e.onAdd,i=e.onRemove,c=Object(v.useSideDishValidator)(t.categories,n),l=c.canBeSelected,s=c.isCategoryValid;return o.a.createElement(T,{className:"food__sidedish__picker"},t.categories.map(function(e){return o.a.createElement(a.Fragment,{key:e.id},o.a.createElement("div",{className:"sidedish__picker__category"},e.nameLabel," ",o.a.createElement(y,{minCount:e.minCount,maxCount:e.maxCount,isValid:s(e)})),e.sideDishes.map(function(t){return o.a.createElement(N,{key:"".concat(t.id,"-").concat(e.id),sidedish:t,count:n.filter(function(e){return e===t.id}).length,isSelected:n.includes(t.id),canBeRemoved:n.includes(t.id),canBeSelected:l(e,t),onAdd:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){return r(t.id)}),onRemove:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){return i(t.id)}),className:"sidedish__picker__checkbox"})}))}))},P=n(10),M=n.n(P),F=n(87),A=o.a.memo(function(e){var t=e.selection,n=e.recipe,r=e.onConfirm,a=o.a.useState(!1),i=Object(m.a)(a,2),c=i[0],l=i[1],s=Object(v.useSideDishValidator)(n?n.categories:[],t).isCategoryValid;return o.a.createElement(F.b,{className:M()("modal__body__button","animated",{heartBeat:c}),disabled:c||!n||!n.categories.every(s),"data-testid":"cartOrderButton",onClick:function(){l(!0),r().finally(function(){l(!1)})}},E.b._("{0, plural, =0 {Order without sidedish} one {Order with this sidedish} other {Order with # sidedishes}}",{0:t.length}).toLocaleUpperCase())}),D=[],L=function(e){var t=e.recipe,n=e.isLoading,r=e.initialSideDishes,a=void 0===r?D:r,i=e.onConfirm,c=e.onClose,u=o.a.useState([]),d=Object(m.a)(u,2),_=d[0],v=d[1];o.a.useEffect(function(){v(a)},[a]);var g=o.a.useCallback(function(){v([]),c()},[c]),E=function(){var e=Object(s.a)(l.a.mark(function e(){return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i(_);case 2:if(!e.sent){e.next=5;break}return g(),e.abrupt("return",!0);case 5:return e.abrupt("return",!1);case 6:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),y=function(e){v(function(t){return h.a.append(e,t)})},O=function(e){v(function(t){return h.a.remove(h.a.indexOf(e,t),1,t)})};return o.a.createElement(f.m,{isOpen:null!==t,toggle:g,className:"modal__container",autoFocus:!0,backdrop:"static",fade:!1},o.a.createElement(f.o,{toggle:g,tag:f.e,className:"modal__header"},o.a.createElement("span",null,o.a.createElement(p.Trans,{id:"Do you want to add something?"}))),o.a.createElement(f.n,{className:"modal__body"},o.a.createElement("div",{className:"modal__body__content"},n?o.a.createElement(b.a,null):t?o.a.createElement(o.a.Fragment,null,o.a.createElement("h3",{className:"modal__body__food__name"},t.nameLabel),o.a.createElement("span",{className:"modal__body__food_description"},t.descriptionLabel),o.a.createElement(S,{recipe:t,selection:_,onAdd:y,onRemove:O})):o.a.createElement(p.Trans,{id:"We sorry, but the item is unavailable at this moment."})),o.a.createElement("div",{className:"modal__body__button__line"},o.a.createElement("div",{className:"modal__body__button__strip"}),o.a.createElement(A,{recipe:t,selection:_,onConfirm:E}))))},R=Object(r.observer)(function(e){var t=e.orderId,n=Object(i.a)(),r=n.addToCartRecipeId,a=Object(u.z)({recipeId:r},{skip:null===t||null===r,fetchPolicy:"cache-first"}),c=a.data,m=a.loading,p=Object(d.a)(),f=o.a.useCallback(function(){var e=Object(s.a)(l.a.mark(function e(n){var a;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==t&&null!==r){e.next=2;break}return e.abrupt("return",!1);case 2:return e.next=4,p(r,n);case 4:return a=e.sent,e.abrupt("return",Boolean(a));case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),[t,r]),b=o.a.useCallback(function(){n.addToCart(null)},[history]);return o.a.createElement(L,{recipe:m?null:c.recipe,onConfirm:f,onClose:b,isLoading:m})}),B=n(937),V=n(42),z=Object(r.observer)(function(e){var t=e.orderId,n=Object(V.b)(),r=n.order,a=n.cart,i=r.changeCartItemId,c=Object(u.y)({itemId:i},{skip:null===t||null===i}),d=c.data,p=c.loading,f=Object(u.q)(),b=Object(m.a)(f,1)[0],_=o.a.useCallback(function(){var e=Object(s.a)(l.a.mark(function e(n){var r;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==t&&null!==i){e.next=2;break}return e.abrupt("return",!1);case 2:return e.next=4,b({itemId:i,sideDishes:n,orderId:t,withGoods:a.withGoods});case 4:return r=e.sent,e.abrupt("return",Boolean(r));case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),[t,i]),v=o.a.useCallback(function(){r.changeCartItem(null)},[history]),g=o.a.useMemo(function(){return p?void 0:d.item.sideDishes.map(h.a.path(["recipe","id"]))},[p,d]);return o.a.createElement(L,{recipe:p?null:d.item.recipe,initialSideDishes:g,onConfirm:_,onClose:v,isLoading:p})});n.d(t,"a",function(){return G});var G=Object(r.observer)(function(e){var t=e.isReadonly,n=void 0!==t&&t,r=Object(i.a)().orderId;return o.a.createElement(o.a.Fragment,null,o.a.createElement(R,{orderId:r}),o.a.createElement(z,{orderId:r}),o.a.createElement(B.a,{orderId:r,isReadonly:n}))})},932:function(e,t,n){"use strict";var r=n(106),a=n(1),o=n.n(a),i=n(42),c=n(32),l=n(63),s=n(12),u=n(30),d=(n(984),n(10)),m=n.n(d),p=n(908),f=n.n(p),b=n(912),h=n(75);function _(){var e=Object(s.a)(["\n    flex-wrap: nowrap;\n    overflow-x: auto;\n    overflow-y: hidden;\n    box-shadow: inset -15px -5px 15px -14px rgba(0, 0, 0, 0.6);\n    margin: 0;\n    border-top-left-radius: 0;\n    background-color: #f3f3f3;\n    opacity: 0.94;\n  "]);return _=function(){return e},e}function v(){var e=Object(s.a)(["\n    flex-wrap: wrap;\n  "]);return v=function(){return e},e}var g=u.default.div.withConfig({displayName:"CategoryNavigator__CategoryNavigatorContainer",componentId:"wpfto8-0"})(["background-color:#d4d4d4;border-top-left-radius:0.6rem;padding:0.7rem 0.5rem 0 0.2rem;position:sticky;top:0;z-index:1;user-select:none;display:flex;"," ",""],Object(h.d)(v()),Object(h.e)(_())),E=function(e){var t=e.categories,n=Object(a.useState)(0),r=Object(l.a)(n,2),i=r[0],c=r[1];return o.a.createElement(g,null,0===t.length?null:t.map(function(e,t){return o.a.createElement(f.a.Link,{to:e.nameLabel,key:e.id,className:m()("category__navigator__scroll__link",{active:i===t}),onSetActive:function(){return c(t)},offset:-168,smooth:!0,spy:!0,"data-testid":"categoryNavigatorScrollLink__".concat(e.id)},o.a.createElement("div",{className:"category__navigator__scroll__link__circle"},o.a.createElement("span",{className:"flaticon-".concat(e.pictogram)})),o.a.createElement("div",{className:"category__navigator__scroll__link__description"},o.a.createElement(b.a,{lines:2},e.nameLabel)))}))},y=n(58),O=n(90),w=n(905);function C(){var e=Object(s.a)(["margin: 1rem 0 0.4rem 1rem;"]);return C=function(){return e},e}var j=u.default.div.withConfig({displayName:"FoodCategory__FoodCategoryStyled",componentId:"sc-1bpyym5-0"})(["color:#474747;display:block;font-size:1.6rem;& a{text-decoration:none;}"]),k=Object(u.default)("h3").withConfig({displayName:"FoodCategory__FoodCategoryTitleStyled",componentId:"sc-1bpyym5-1"})(["",";"],Object(h.e)(C())),I=o.a.memo(function(e){var t=e.category,n=e.children;return o.a.createElement(f.a.Element,{name:t.nameLabel},o.a.createElement(j,null,o.a.createElement(k,null,t.nameLabel),n))}),N=(n(992),n(884));function x(){var e=Object(s.a)(["\n    left: -0.6rem;\n    top: -0.7rem;\n  "]);return x=function(){return e},e}var T=u.default.div.withConfig({displayName:"FoodMenuItem__FoodMenuItemStyled",componentId:"sc-1uxwtjp-0"})(["padding:1rem 0.5rem 0.3rem 1.1rem;border:1px solid #d5d5d5 !important;margin:0 0 0.4rem 0;border-radius:0.8rem;cursor:pointer;position:relative;min-height:6rem;user-select:none;&:hover{background-color:#c9e8d7;}background-color:",";h4{font-size:1rem;font-weight:700;color:#404040;margin-bottom:0.1rem;margin-right:6rem;}p{color:#666666;margin:0.6rem 0 0 0;font-size:0.9rem;max-height:2.5rem;-webkit-line-clamp:2;overflow:hidden;}"],function(e){return e.isActive?"#b3ebcc":"white"}),S=u.default.img.withConfig({displayName:"FoodMenuItem__FoodMenuItemImage",componentId:"sc-1uxwtjp-1"})(["width:6rem;height:6rem;display:block;float:left;margin:-1.05rem 1rem 0 -1.2rem;border-radius:0.8rem 0 0 0.8rem;object-fit:cover;"]),P=u.default.div.withConfig({displayName:"FoodMenuItem__FoodMenuItemPriceCorner",componentId:"sc-1uxwtjp-2"})(["border-top-width:1.8rem;border-top-style:solid;border-top-color:"," !important;position:absolute;right:4.799rem;top:1rem;width:0;height:0;border-left:1.8rem solid transparent;"],function(e){return e.theme.primary}),M=u.default.div.withConfig({displayName:"FoodMenuItem__FoodMenuItemPrice",componentId:"sc-1uxwtjp-3"})(["background-color:"," !important;position:absolute;right:0;top:1rem;width:4.8rem;height:1.8rem;padding:0.12rem 0.7rem 0.3rem 0rem;font-weight:500;font-size:1.1rem;color:white;text-align:right;overflow:hidden;white-space:nowrap;"],function(e){return e.theme.primary}),F=u.default.div.withConfig({displayName:"FoodMenuItem__FoodMenuItemCount",componentId:"sc-1uxwtjp-4"})(["background-color:",";float:left;position:absolute;left:-1.2rem;padding:0.4rem 0.6rem;color:white;border-radius:1.8rem;font-size:0.9rem;",";"],function(e){return e.theme.secondary},Object(h.e)(x())),A=o.a.memo(function(e){var t=e.recipe,n=e.presence,a=e.onAddToCart,i=Object(N.a)(),c=t.sideDishCount>0,l=o.a.useCallback(function(){a(t.id,c)},[c,a]),s=o.a.useCallback(function(){c&&i.prefetchFood(t.id)},[c]),u=o.a.useRef(-1);return Object(r.useObserver)(function(){return o.a.createElement(T,{onClick:l,onMouseEnter:s,isActive:i.lastActiveRecipeId===t.id,"data-testid":"foodMenuItem__".concat(t.id)},t.image&&o.a.createElement(S,{src:t.image,alt:t.nameLabel}),o.a.createElement(P,null),o.a.createElement(M,{"data-testid":"foodMenuItem__Price__".concat(t.id)},t.price.formattedValue),function(){var e=n.get(t.id);if(!e)return u.current=-1,null;var r=m()("animated",{pulse:e>1||u.current>0,zoomIn:1===e&&0===u.current||-1===u.current});return u.current=e,o.a.createElement(F,{key:e,className:r},"".concat(e,"x"))}(),o.a.createElement("h4",null,o.a.createElement(b.a,{lines:2,"data-testid":"foodMenuItem__Name__".concat(t.id)},t.nameLabel)),o.a.createElement("p",null,o.a.createElement(b.a,{lines:2,"data-testid":"foodMenuItem__Description__".concat(t.id)},t.descriptionLabel)))})}),D=n(15);function L(){var e=Object(s.a)(["\n    margin: 0 0.7rem 1rem 0.7rem;\n    padding: 0 0 4rem 0;\n  "]);return L=function(){return e},e}function R(){var e=Object(s.a)(["\n    margin: 0 1.4rem 1rem 1.6rem;\n    padding: 2rem 0 2rem 0;\n  "]);return R=function(){return e},e}function B(){var e=Object(s.a)(["\n    background: #eee9e7;\n    background-size: cover;\n    background-attachment: scroll;\n  "]);return B=function(){return e},e}function V(){var e=Object(s.a)(["background: white;"]);return V=function(){return e},e}var z=u.default.div.withConfig({displayName:"FoodMenu__FoodMenuStyled",componentId:"sc-1ynjjri-0"})(["border-radius:0 0 0.6rem 0.6rem;",";",";"],Object(h.d)(V()),Object(h.e)(B())),G=u.default.div.withConfig({displayName:"FoodMenu__FoodMenuListStyled",componentId:"sc-1ynjjri-1"})(["",";",";"],Object(h.d)(R()),Object(h.e)(L())),W=o.a.memo(function(e){var t=e.orderId,n=e.categories,r=e.isLoading,a=Object(i.b)(),s=a.order,u=a.config,d=a.user,m=function(e){var t=Object(c.B)({orderId:e},{skip:!e,fetchPolicy:"cache-only"}),n=t.data,r=t.loading,a=o.a.useState(function(){return D.observable.map()}),i=Object(l.a)(a,1)[0];return r||Object(D.runInAction)(function(){i.clear(),n.order.presence.forEach(function(e){var t=e.recipe.id;i.has(t)||i.set(t,0),i.set(t,i.get(t)+1)})}),i}(t),p=Object(w.a)(),f=o.a.useCallback(function(e,t){m.size>=u.orderItemsMax?d.showOrderLimit():t?s.addToCart(e):(s.setUsedRecipeId(e),p(e))},[p]);return o.a.createElement(z,null,o.a.createElement(G,null,r?o.a.createElement(O.a,{noMargin:!0}):0===n.length?o.a.createElement("h3",null,o.a.createElement(y.Trans,{id:"Food menu is empty. We are sorry."})):o.a.createElement(o.a.Fragment,null,n.map(function(e){return o.a.createElement(I,{key:e.id,category:e},e.recipes.map(function(e){return o.a.createElement(A,{key:e.id,recipe:e,presence:m,onAddToCart:f})}))}))))}),q=n(114),H=n(31),U=function(){var e=Object(i.b)().user;return Object(r.useObserver)(function(){return o.a.createElement(q.a,{isOpen:!e.orderLimitAlertHidden,onClose:e.hideOrderLimit,headerText:H.b._("Limit has been reached")},H.b._("The maximum number of items in the order has been reached"))})};n.d(t,"a",function(){return Y});var Y=Object(r.observer)(function(){var e=Object(i.b)().order,t=Object(c.A)({branchId:e.branchId},{skip:!e.branchId,fetchPolicy:"cache-first"}),n=t.data,r=t.loading,a=o.a.useMemo(function(){return r?[]:n.wareCategories.filter(function(e){return e.recipes.length>0})},[r,n]);return o.a.createElement(o.a.Fragment,null,o.a.createElement(U,null),o.a.createElement(E,{categories:a}),o.a.createElement(W,{orderId:e.orderId,categories:a,isLoading:r}))})},933:function(e,t,n){"use strict";var r=n(22),a=n.n(r),o=n(26),i=(n(977),n(878)),c=n(15),l=n(106),s=n(1),u=n.n(s),d=n(42),m=n(104),p=n(30),f=n(58),b=(n(978),n(48)),h=n(31),_=p.default.span.withConfig({displayName:"GeolocationButton__Container",componentId:"sc-1nbqd0s-0"})(["color:",";cursor:pointer;position:absolute;right:0.4rem;top:0.15rem;"],function(e){return e.theme.secondary}),v=function(e){var t=e.onClick,n=e.isVisible;return void 0!==n&&n?u.a.createElement(_,null,u.a.createElement(b.l,{addonType:"append",onClick:t},u.a.createElement("span",{className:"flaticon-gps"}))):null},g=n(355),E=n.n(g),y=function(e){var t=e.address,n=e.isVisible,r=e.isResolving,a=e.onValidClick;return r?u.a.createElement("div",{className:"address__input__box__resolved wait"},u.a.createElement(E.a,{name:"ball-beat",fadeIn:"none"})):n?u.a.createElement("div",{className:"address__input__box__resolved",onClick:a},t):null},O=n(46),w=n(55),C=n(61),j=n(60),k=n(62),I=n(10),N=n.n(I),x=n(383),T=n.n(x),S=function(e){function t(){var e,n;Object(O.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(C.a)(this,(e=Object(j.a)(t)).call.apply(e,[this].concat(a)))).state={value:""},n.onSearch=T()(n.props.onSearch,2e3),n.onChange=function(e){var t=e.target.value||"";n.setState({value:t}),n.onSearch(t.trim())},n.onKeyPress=function(e){"Enter"===e.key&&(n.onSearch.clear(),n.props.onSearch(n.state.value.trim()))},n.inputRef=null,n.onInputMount=function(e){n.inputRef=e},n}return Object(k.a)(t,e),Object(w.a)(t,[{key:"componentDidMount",value:function(){this.setFocus()}},{key:"componentDidUpdate",value:function(e){e.isVisible!==this.props.isVisible&&this.setFocus()}},{key:"isVisible",value:function(){return!1!==this.props.isVisible}},{key:"isSearching",value:function(){return!1!==this.props.isSearching}},{key:"setFocus",value:function(){this.isVisible()&&null!==this.inputRef&&this.inputRef.focus()}},{key:"render",value:function(){var e=this.props.inputProps,t=!this.isVisible()||this.isSearching();return u.a.createElement(b.j,Object.assign({className:N()({address__input__hidden:t}),onChange:this.onChange,onKeyPress:this.onKeyPress,value:this.state.value,innerRef:this.onInputMount,autoFocus:!0},e))}}]),t}(s.Component),P=p.default.div.withConfig({displayName:"AddressInput__AddressInputStyled",componentId:"sc-6hq9w0-0"})(["width:90%;min-width:14rem;margin:1rem auto;text-align:center;"]),M=p.default.div.withConfig({displayName:"AddressInput__AddressInputBoxStyled",componentId:"sc-6hq9w0-1"})(["border-radius:1rem;border:1px solid #d4d4d4;background-color:white;height:2.3rem;overflow:hidden;& input{margin:0.2rem 2rem 0.5rem 0.7rem;background:transparent;border:none;}"]),F=function(){var e=Object(d.b)().location;return Object(l.useObserver)(function(){return u.a.createElement(P,null,u.a.createElement(M,null,u.a.createElement(b.k,{size:"sm"},u.a.createElement(y,{address:e.address||"",isVisible:e.hasAddress,isResolving:e.isResolving,onValidClick:e.clearAddress}),u.a.createElement(S,{inputProps:{placeholder:h.b._("Type address or choose it from map"),autoComplete:"shipping street-address"},onSearch:e.withUserAddress,isVisible:!e.hasAddress,isSearching:e.isResolving}),u.a.createElement(v,{onClick:e.attemptGeolocation,isVisible:e.isGeolocationAvailable&&!e.isResolving}))),e.hasFinishedSearch?function(e){if(!1===e.isResolved)return u.a.createElement(A,{color:"danger"},u.a.createElement(f.Trans,{id:"Address was not recognized."}));if(!1===e.isStreetAddress)return u.a.createElement(A,{color:"warning"},u.a.createElement(f.Trans,{id:"Please enter address with house number."}));if(!1===e.inDeliveryLocation)return u.a.createElement(A,{color:"warning"},u.a.createElement(f.Trans,{id:"Meal can't be delivered to your chosen address by any restaurant."}));return null}(e):null)})},A=Object(p.default)(b.a).withConfig({displayName:"AddressInput__NoMouseAlert",componentId:"sc-6hq9w0-2"})(["pointer-events:none;"]);var D=n(87),L=n(904),R=function(e){var t=e.enabled,n=e.onClick,r=e.onPrefetch;return u.a.createElement(L.a,null,u.a.createElement(D.b,{color:"primary",disabled:!t,onClick:n,onMouseEnter:function(){t&&r()}},h.b._("Confirm address").toLocaleUpperCase()))},B=n(123),V=n(32),z=n(28),G=n(883),W=function(){var e=Object(d.b)(),t=e.location,n=e.map,r=Object(V.o)().data;Object(l.useDisposable)(function(){return Object(c.reaction)(function(){return n.clickPoint},function(e){e&&(t.withUserLocation(e),n.clearClickPoint())})});var a=Object(B.useFullComputed)(function(){return t.geoPoint?(Object(z.e)("pan to user location",t.geoPoint),t.geoPoint):t.geolocationPoint?(Object(z.e)("pan to geolocation",t.geolocationPoint),t.geolocationPoint):r&&r.initialLocation?(Object(z.e)("pan to initial location",r.initialLocation.gpsCoordinates),r.initialLocation.gpsCoordinates):void Object(z.e)("no pan location available")},[r]);return Object(l.useObserver)(function(){return u.a.createElement(G.a,{gps:a.get(),map:n})})};n.d(t,"a",function(){return q});var q=function(e){var t=e.onConfirm,n=Object(d.b)(),r=n.business,p=n.order,f=n.location,b=Object(s.useCallback)(Object(o.a)(a.a.mark(function e(){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return f.branchId&&p.setBranch(f.branchId),e.next=3,p.createDeliveryOrder();case 3:t();case 4:case"end":return e.stop()}},e)})),[t]);return Object(l.useDisposable)(function(){return Object(c.when)(function(){return r.isValid},f.validateUserLocation)}),Object(l.useObserver)(function(){return u.a.createElement(u.a.Fragment,null,u.a.createElement(W,null),f.latLng?u.a.createElement(i.Marker,{position:f.latLng,draggable:!0,onDragEnd:function(e){var t=e.latLng;f.withUserLocation(Object(m.c)(t))}}):null,u.a.createElement("div",{className:"delivery__map__address"},u.a.createElement(F,null)),u.a.createElement("div",{className:"delivery__map__submit"},u.a.createElement(R,{enabled:f.isDeliveryAddress,onClick:b,onPrefetch:function(){f.branchId&&p.prefetchFoodMenu(f.branchId)}})))})}},934:function(e,t,n){"use strict";var r=n(1),a=n.n(r),o=n(48),i=n(50),c=n(873),l=function(e){var t=e.field,n=e.validate,r=e.showFeedback,l=void 0!==r&&r,s=Object(i.a)(e,["field","validate","showFeedback"]);return a.a.createElement(c.Field,{field:t,validate:n,render:function(e){return a.a.createElement(a.a.Fragment,null,a.a.createElement(o.j,Object.assign({},s,{value:e.value,onChange:function(t){return e.setValue(t.target.value)},onBlur:function(){return e.setTouched(!0)},invalid:e.touched&&Boolean(e.error)})),l&&a.a.createElement(o.g,null,e.error))}})},s=n(31),u=/^(([^<>()\[\]\.,;:\s@\"]+(\.[^<>()\[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i,d=function(e){var t=e.trim();return""===t?s.b._("E-mail is mandatory"):u.test(t)?null:s.b._("E-mail format is not valid")},m=function(){return a.a.createElement(o.h,null,a.a.createElement(l,{field:"email",type:"email",autoComplete:"email",placeholder:"E-mail",showFeedback:!0,validate:d,"data-testid":"orderEmailInput"}))},p=function(){return a.a.createElement(o.h,null,a.a.createElement(o.k,null,a.a.createElement(l,{field:"firstname",autoComplete:"given-name",placeholder:s.b._("First name"),validate:function(e){return""===e.trim()?s.b._("First name is mandatory"):null},"data-testid":"orderNameInput__FirstName"}),a.a.createElement(l,{field:"lastname",autoComplete:"family-name",placeholder:s.b._("Last name"),validate:function(e){return""===e.trim()?s.b._("Last name is mandatory"):null},"data-testid":"orderNameInput__LastName"})))},f=n(923),b=n(890),h=function(e){return""===e.trim()?s.b._("Phone is mandatory"):null},_=function(e){return""===e.trim()?s.b._("Phone prefix is mandatory"):null},v=function(){var e="Mobile Safari"===new b.UAParser(window.navigator.userAgent).getBrowser().name;return a.a.createElement(o.h,null,a.a.createElement(o.k,null,a.a.createElement(l,{field:"phonePrefix",autoComplete:e?"off":"tel-country-code",placeholder:"+",validate:_}),a.a.createElement(l,{field:"phone",type:"tel",autoComplete:"tel-national",placeholder:s.b._("Phone"),validate:h,style:{width:"55%"},"data-testid":"orderPhoneInput__Phone"})))},g=n(22),E=n.n(g),y=n(26),O=n(63),w=n(30),C=n(123),j=n(42),k=n(87),I=n(32),N=w.default.div.withConfig({displayName:"OrderPromoInput__CodesPanel",componentId:"ucwmk-0"})(["margin-top:0.5rem;& button{margin-right:0.5rem;font-size:0.7rem;}"]);function x(e){var t=e.codes,n=e.onCodeAdd,i=e.onCodeRemove,c=e.autoSubmitAfterTimeout,l=void 0===c?2e3:c,u=Object(r.useRef)(null),d=Object(r.useState)(!1),m=Object(O.a)(d,2),p=m[0],f=m[1],b=Object(r.useCallback)(Object(y.a)(E.a.mark(function e(){var t;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(u.current&&!u.current.disabled){e.next=2;break}return e.abrupt("return");case 2:if(0!==(t=u.current.value.trim()).length){e.next=5;break}return e.abrupt("return");case 5:return f(!0),u.current.disabled=!0,u.current.value=s.b._("Validating promo code {code}...",{code:t}),e.prev=8,e.next=11,n(t);case 11:u.current&&(u.current.value=""),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(8),u.current&&(u.current.value=t);case 17:return e.prev=17,f(!1),u.current&&(u.current.disabled=!1,u.current.focus()),e.finish(17);case 21:case"end":return e.stop()}},e,null,[[8,14,17,21]])})),[n]),h=Object(C.useDebounceCallback)(b,l),_=Object(r.useCallback)(function(e){"Enter"===e.key&&(b(),e.preventDefault())},[]);return a.a.createElement(o.h,null,a.a.createElement(o.k,null,a.a.createElement(o.j,{innerRef:u,autoComplete:"off",disabled:p,placeholder:s.b._("Promo codes"),onChange:h,onKeyDown:_,onBlur:b,onPaste:b})),a.a.createElement(N,null,t.map(function(e){var t=e.id,n=e.code;return a.a.createElement(k.d,{key:t,onClick:function(){return i(t)}},"".concat(n," \u2716"))})))}var T=function(){var e=Object(j.b)(),t=e.order,n=e.cart,r=Object(I.E)({orderId:t.orderId}),o=r.data,i=r.loading,c=Object(I.s)(),l=Object(O.a)(c,1)[0],s=a.a.useCallback(function(){var e=Object(y.a)(E.a.mark(function e(r){var a,o;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.orderId){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,l({code:r,orderId:t.orderId,withGoods:n.withGoods});case 4:(a=e.sent)&&(o=a.addOrderPromoCode.userErrors).length&&t.submitFailed(o);case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),[]),u=Object(I.t)(),d=Object(O.a)(u,1)[0],m=a.a.useCallback(function(e){t.orderId&&d({codeId:e,orderId:t.orderId,withGoods:n.withGoods})},[]);return a.a.createElement(x,{codes:i?[]:o.order.promoCodes,onCodeAdd:s,onCodeRemove:m})},S=(n(924),n(58)),P=n(106),M=function(){var e=Object(j.b)().order;return Object(P.useObserver)(function(){return e.delayedOrderEnabled?a.a.createElement("div",{className:"order__payment__method"},a.a.createElement(k.e,{"data-testid":"orderTimeButtonNow",selected:void 0===e.deliverAt,onClick:function(){return e.setDeliverAt(void 0)}},a.a.createElement(S.Trans,{id:"When possible"})),a.a.createElement(k.e,{"data-testid":"orderTimeButtonLater",selected:void 0!==e.deliverAt,onClick:e.openTimePicker},e.deliverAt?a.a.createElement(S.DateFormat,{value:e.deliverAt,format:{weekday:"long",hour:"numeric",minute:"numeric"}}):a.a.createElement(S.Trans,{id:"Choose time"}))):null})};n.d(t,"a",function(){return F});var F=function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(p,null),a.a.createElement(v,null),a.a.createElement(m,null),a.a.createElement(f.a,null),a.a.createElement(M,null),a.a.createElement(T,null))}},935:function(e,t,n){"use strict";var r=n(63),a=n(58),o=(n(382),n(19)),i=n(124),c=n(106),l=n(1),s=n.n(l),u=n(48),d=n(42),m=n(87),p=n(32),f=n(146),b=n(31),h=n(30),_=n(116);function v(e,t,n){var r=Object(i.startOfMinute)(function(e,t){return Object(i.addMinutes)(function(e,t){return Object(i.subMinutes)(e,Object(i.getMinutes)(e)%t)}(e,t),t)}(e,n)),a=[],o=Object(i.endOfMinute)(Object(i.subMinutes)(t,1));do{a.push(r),r=Object(i.addMinutes)(r,n)}while(r<=o);return a}var g=n(50),E=n(906),y=n(217),O=h.default.div.withConfig({displayName:"TimePickerButton__Time",componentId:"c3eeou-0"})(["font-size:1.2rem;"]),w=function(e){var t=e.time,n=Object(g.a)(e,["time"]);return s.a.createElement(E.a,Object.assign({size:"xs",outline:!0,width:"10rem","data-testid":"timePickerButton__".concat(t.getTime())},n),s.a.createElement(O,null,Object(y.b)(t)))},C=h.default.div.withConfig({displayName:"TimePicker__TimePickerContainer",componentId:"sc-1341ije-0"})(["margin-top:1rem;"]),j=h.default.div.withConfig({displayName:"TimePicker__TimePickerDay",componentId:"sc-1341ije-1"})(["font-size:1rem;font-weight:bold;text-align:left;margin:0 0 0.2rem 0.2rem;"]),k=function(e){var t=e.minDate,n=e.maxDate,o=e.minuteStep,c=e.onStepChange,u=e.initialTime,d=e.filterIntervals,m=void 0===d?[]:d,p=s.a.useMemo(function(){var e=v(t,n,o);return m.length?e.filter(function(e){return m.some(Object(_.isWithinInterval)(e))}):e},[t,n,o,m]),f=s.a.useMemo(function(){return Object(i.eachDayOfInterval)({start:t,end:n})},[t,n]),b=s.a.useState(0),h=Object(r.a)(b,2),g=h[0],E=h[1];return s.a.useEffect(function(){u&&E(Object(i.closestIndexTo)(u,p))},[u]),s.a.useEffect(function(){c(p[g])},[]),s.a.createElement(C,null,f.map(function(e){return s.a.createElement(l.Fragment,{key:e.getDate()},s.a.createElement(j,null,s.a.createElement(a.DateFormat,{value:e,format:{month:"long",day:"numeric",weekday:"long"}})),p.map(function(t,n){return Object(i.isEqual)(e,Object(i.startOfDay)(t))?s.a.createElement(w,{key:t.getTime(),time:t,isSelected:n===g,canBeSelected:!0,onClick:function(){E(n),c(t)}}):null}))}))};n.d(t,"a",function(){return I});var I=function(){var e=Object(d.b)(),t=e.order,n=e.cart,l=Object(p.F)({branchId:t.branchId}),h=l.data,_=l.loading,v=Object(p.r)(),g=Object(r.a)(v,1)[0],E=s.a.useRef(t.deliverAt),y=function(){var e=E.current;g({orderId:t.orderId,deliverAt:e&&Object(o.isoDate)(e),withGoods:n.withGoods}),t.setDeliverAt(e),t.closeTimePicker()},O=function(){if(_)return null;var e=function(){var e=h.companyBranch;return e.isOpen||!e.willOpenAt?new Date:new Date(e.willOpenAt)}(),n=function(){var e=h.companyBranch;if(e.isOpen&&e.willCloseAt)return new Date(e.willCloseAt);var t=e.businessHours.find(f.a.propEq("closed",!1));return t?new Date(t.closeAt):null}();if(null===n||Object(i.isAfter)(e,n))return s.a.createElement(a.Trans,{id:"It's not possible to pick a specific order time at this moment."});var r=function(){var e=h.companyBranch,n=e.defaultDeliveryTime,r=e.defaultPickupTime;return t.usingDeliveryOrderMethod?n:t.usingPickupOrderMethod?r:0}();return s.a.createElement(k,{minuteStep:15,minDate:Object(i.addMinutes)(e,r),maxDate:Object(i.addMinutes)(n,r),initialTime:E.current,filterIntervals:h.companyBranch.businessHours.filter(f.a.propEq("closed",!0)).map(function(e){return{start:new Date(e.openAt),end:new Date(e.closeAt)}}),onStepChange:function(e){return E.current=e}})};s.a.useEffect(function(){h&&h.companyBranch&&h.companyBranch.delayedDeliveryEnabled&&t.enableDelayedOrder()},[h]);var w=t.usingDeliveryOrderMethod?b.b._("Deliver at what time?"):b.b._("When you will pickup the order?");return Object(c.useObserver)(function(){return s.a.createElement(u.m,{isOpen:t.timePickerOpen,toggle:t.closeTimePicker,className:"modal__container",autoFocus:!0,backdrop:"static",fade:!1},s.a.createElement(u.o,{toggle:t.closeTimePicker,tag:u.e,className:"modal__header"},s.a.createElement("span",null,w)),s.a.createElement(u.n,{className:"modal__body"},s.a.createElement("div",{className:"modal__body__content"},O()),s.a.createElement("div",{className:"modal__body__button__line"},s.a.createElement("div",{className:"modal__body__button__strip"}),s.a.createElement(m.b,{onClick:y,size:"md",className:"modal__body__button"},b.b._("Confirm time").toLocaleUpperCase()))))})}},936:function(e,t,n){"use strict";var r=n(30),a=n(15),o=n(106),i=n(1),c=n.n(i),l=n(48),s=n(42),u=n(50),d=n(873),m=r.default.div.withConfig({displayName:"FormInputCheckbox__CheckboxContainerStyled",componentId:"sc-17xfq5p-0"})(["display:flex;margin-bottom:0.5rem;"]),p=Object(r.default)(l.j).withConfig({displayName:"FormInputCheckbox__CheckboxStyled",componentId:"sc-17xfq5p-1"})(["-webkit-appearance:none;-moz-appearance:none;background-color:white;border:1px solid;border-color:",";width:2rem;height:2rem;min-width:2rem;border-radius:0.25rem;position:relative;margin:0;outline:none;&:checked{background-color:white;}&:checked:after{content:'\\2714';font-size:2rem;position:absolute;top:-0.5rem;left:0.1rem;color:#1d1d1d;overflow:hidden;}"],function(e){return e.invalid?"red":"#c5c5c5"}),f=r.default.div.withConfig({displayName:"FormInputCheckbox__LabelStyled",componentId:"sc-17xfq5p-2"})(["margin:0 0 0 0.8rem;vertical-align:top;"]),b=function(e){var t=e.field,n=e.defaultValue,r=void 0!==n&&n,a=e.validate,o=e.children,i=Object(u.a)(e,["field","defaultValue","validate","children"]);return c.a.createElement(d.Field,{field:t,defaultValue:r,validate:a},function(e){return c.a.createElement(m,null,c.a.createElement(p,Object.assign({type:"checkbox",value:e.value,onChange:function(t){return e.setValue(t.target.checked)},invalid:e.touched&&Boolean(e.error)},i)),c.a.createElement(f,null,o))})},h=n(31);n.d(t,"a",function(){return g});var _=Object(r.default)(l.b).withConfig({displayName:"OrderAgreements__ButtonStyled",componentId:"sc-1u6p7ag-0"})(["padding:0 0.5rem;font-size:0.8rem;color:darkgray;"]),v=r.default.div.withConfig({displayName:"OrderAgreements__GdprAgreementStyled",componentId:"sc-1u6p7ag-1"})(["font-size:0.8rem !important;color:darkgray;margin:0.5rem 0 0.5rem 0;& .row{margin:0;}"]),g=function(){var e=Object(i.useRef)(a.observable.array([])).current,t=Object(i.useCallback)(function(t){return function(){e.includes(t)?e.remove(t):e.push(t)}},[]),n=Object(s.b)().order;return Object(o.useObserver)(function(){return c.a.createElement(c.a.Fragment,null,n.agreements.map(function(n,r){return c.a.createElement("div",Object.assign({key:n.id},function(e){return e.isConfirmed?{style:{display:"none"}}:{}}(n)),c.a.createElement(b,{field:["agreements",r,"isConfirmed"],validate:function(e){return!n.isMandatory||n.isConfirmed||e?null:"Agreement is mandatory"},"data-testid":"orderAgreement__Check__".concat(n.id)},c.a.createElement("span",{dangerouslySetInnerHTML:{__html:n.name}}),n.isMandatory&&" * ",n.description&&c.a.createElement(c.a.Fragment,null,c.a.createElement(_,{color:"link",onClick:t(n.id),"data-testid":"orderAgreement__MoreButton__".concat(n.id)},e.includes(n.id)?h.b._("Less").toLocaleLowerCase():h.b._("More...").toLocaleLowerCase()),c.a.createElement(l.d,{isOpen:e.includes(n.id)},c.a.createElement(v,{"data-testid":"orderAgreement__Info__".concat(n.id),dangerouslySetInnerHTML:{__html:n.description}})))))}))})}},937:function(e,t,n){"use strict";var r=n(58),a=(n(982),n(885)),o=n(15),i=n(106),c=n(1),l=n.n(c),s=n(215),u=n(75),d=n(32),m=n(907),p=n(89),f=n(63),b=n(19),h=n(123),_=n(88),v=n(42);n.d(t,"a",function(){return g});var g=Object(i.observer)(function(e){var t=e.orderId,n=e.isReadonly,i=Object(s.b)(),c=l.a.useMemo(E,[]),g=function(){var e=Object(v.b)(),t=e.order,n=e.cart,r=Object(b.useApolloClient)(),a=Object(h.useRouterContext)().history,o=l.a.useCallback(function(e){t.changeCartItem(e)},[]),i=Object(d.v)(),c=Object(f.a)(i,1)[0],s=l.a.useCallback(function(e){var t={itemId:e,withGoods:n.withGoods,withPresence:n.withPresence};c(t,{optimisticResponse:g(t),context:{noBatch:!0}})},[]),u=l.a.useCallback(function(){a.push("/confirm")},[]),m=l.a.useCallback(function(){a.push("/order")},[]);return{cartModel:n,onItemEdit:o,onItemRemove:s,onPlaceOrder:u,onChangeOrder:m};function g(e){var a=r.readQuery({query:d.k,variables:{orderId:t.orderId,withGoods:n.withGoods,withPresence:n.withPresence}},!0);if(a){var o=_.RM.reject(Object(_.idPropEq)(e.itemId));return{__typename:"Mutation",remove:Object(p.a)({},a.order,{countWares:a.order.countWares-1,totalSum:Object(p.a)({},a.order.totalSum,{value:-1}),items:e.withGoods?o(a.order.items):a.order.items,presence:e.withPresence?o(a.order.presence):a.order.presence})}}}}(),y=g.cartModel,O=g.onItemEdit,w=g.onItemRemove,C=g.onPlaceOrder,j=g.onChangeOrder,k=l.a.useCallback(function(){return l.a.createElement(m.a,{canSubmit:!0,isSubmitting:!1,onClick:n?j:C},n?l.a.createElement(r.Trans,{id:"Change order"}):l.a.createElement(r.Trans,{id:"Place order"}))},[C,n]),I=l.a.useCallback(function(){return l.a.createElement(r.Trans,{id:"Accessing your order"})},[]),N=Object(a.useCartSystem)({colors:{primary:i.primary,sumRowBg:i.primary,sumRowText:"white",mobileSummaryItemCount:i.secondary},labels:c,isReadonly:n,mobileBreakpoint:u.f,backgroundImage:i.backgroundCart,onItemEdit:O,onItemRemove:w,renderMobileSubmit:k,renderGoodsLoading:I});l.a.useEffect(function(){return Object(o.autorun)(function(){y.updateDisplay(N.store.isMobile,N.store.showGoods)})},[]);var x=Object(d.x)({orderId:t,withGoods:y.withGoods,withPresence:y.withPresence},{skip:!t,fetchPolicy:"cache-first",context:{noBatch:!0}}),T=x.data,S=x.loading;return l.a.useEffect(function(){S||(N.updateSummary(T.order),y.withGoods&&N.updateGoods(T.order))},[T]),N.renderCart()});function E(){return{noSideDish:l.a.createElement(r.Trans,{id:"Without sidedish"}),noCost:l.a.createElement(r.Trans,{id:"For free"}),cartSumHeader:function(e){return l.a.createElement(r.Trans,{id:"In the cart you have goods for {totalPrice}",values:{totalPrice:e}})},emptyCart:l.a.createElement(r.Trans,{id:"Cart is empty"}),totalDiscount:l.a.createElement(r.Trans,{id:"Total discount"}),coverPrice:l.a.createElement(r.Trans,{id:"Covers"}),transportFee:l.a.createElement(r.Trans,{id:"Delivery"}),totalSum:l.a.createElement(r.Trans,{id:"Total"}),tip:l.a.createElement(r.Trans,{id:"Tip"}),minimalOrderPrice:function(e){return l.a.createElement(r.Trans,{id:"Minimal price of order is {price}",values:{price:e}})}}}},939:function(e,t,n){},940:function(e,t,n){e.exports=n.p+"static/media/logo-commerce-01.6d4e5108.svg"},941:function(e,t,n){e.exports=n.p+"static/media/logo-commerce-02.8afb6c6f.svg"},942:function(e,t,n){e.exports=n.p+"static/media/logo-doveze.e13c0122.svg"},943:function(e,t,n){e.exports=n.p+"static/media/logo-gopay.48aa4030.png"},945:function(e,t,n){},977:function(e,t,n){},978:function(e,t,n){},979:function(e,t,n){},982:function(e,t,n){},983:function(e,t,n){},984:function(e,t,n){},992:function(e,t,n){}}]);
//# sourceMappingURL=1.cd75d0f5.chunk.js.map