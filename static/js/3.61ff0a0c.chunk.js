(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{1020:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FinishView=void 0,r(938);var a,n=(a=r(1))&&a.__esModule?a:{default:a},l=r(148),d=r(893),o=r(939),u=r(940),i=r(941),c=r(942);t.FinishView=(({})=>n.default.createElement(l.Row,{className:"justify-content-md-center"},n.default.createElement(d.ColStyle,null,n.default.createElement("div",{className:"finish__view"},n.default.createElement(u.FinishViewLoader,{render:e=>n.default.createElement(n.default.Fragment,null,n.default.createElement(i.FinishViewOrder,{order:e.order}),n.default.createElement(c.FinishViewSupport,{branch:e.companyBranch}),n.default.createElement(o.FinishViewFooter,{finish:e}))})))))},1023:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MapView=void 0,r(1024);var a,n=r(338),l=(a=r(1))&&a.__esModule?a:{default:a},d=r(148),o=r(893),u=r(943),i=r(1028);t.MapView=(()=>{const{history:e}=(0,n.useRouterContext)();return l.default.createElement(d.Row,{className:"justify-content-md-center"},l.default.createElement(o.ColStyle,null,l.default.createElement("div",{className:"map__view"},l.default.createElement("div",{className:"map__view__header"},l.default.createElement(u.OrderMethod,null)),l.default.createElement(i.OrderMap,{onConfirm:()=>e.push("/order")}))))})},1024:function(e,t,r){},1028:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OrderMap=void 0;var a=r(152),n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};a.get||a.set?Object.defineProperty(t,r,a):t[r]=e[r]}return t.default=e,t}(r(1)),l=r(918),d=r(52),o=r(154),u=r(983),i=r(1182);const c={[o.DeliveryTypeEnum.Messenger]:(0,n.createFactory)(u.DeliveryMap),[o.DeliveryTypeEnum.Pickup]:(0,n.createFactory)(i.PickupMap)};t.OrderMap=(({onConfirm:e})=>{const{order:t,map:r}=(0,d.useRoot)();return(0,a.useObserver)(()=>n.default.createElement(l.BaseMap,{model:r},c[t.orderMethod]({onConfirm:e})))})},1182:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PickupMap=void 0,r(1183);var a=r(5),n=r(152),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};a.get||a.set?Object.defineProperty(t,r,a):t[r]=e[r]}return t.default=e,t}(r(1)),d=r(899),o=r(52),u=r(159),i=r(155),c=r(985),s=r(342),m=r(1185);var f=function(e,t,r,a){return new(r||(r=Promise))(function(n,l){function d(e){try{u(a.next(e))}catch(t){l(t)}}function o(e){try{u(a.throw(e))}catch(t){l(t)}}function u(e){e.done?n(e.value):new r(function(t){t(e.value)}).then(d,o)}u((a=a.apply(e,t||[])).next())})};t.PickupMap=(({onConfirm:e})=>{const{order:t,business:r,map:p}=(0,o.useRoot)(),[h,_]=(0,l.useState)(null);(0,n.useDisposable)(()=>(0,a.when)(()=>null!==r.branchId&&null===h,()=>{_(r.branchId)})),(0,l.useEffect)(()=>{h&&t.prefetchFoodMenu(h)},[h]);const y=(0,l.useCallback)(r=>f(void 0,void 0,void 0,function*(){t.setBranch(r),yield t.createPickupOrder(r),e()}),[e]),v=e=>l.default.createElement(d.Marker,{key:e.id,position:(0,u.gpsToLatLng)(e.gps),onClick:()=>_(e.id)},h===e.id?l.default.createElement(d.InfoWindow,{onCloseClick:()=>_(null),defaultOptions:{maxWidth:200}},l.default.createElement(m.PickupMapBranch,{branch:e,onConfirm:()=>{y(e.id)}})):null);return(0,n.useObserver)(()=>r.isBrand?l.default.createElement(s.QueryPickupMapBrand,{variables:{brandId:r.brandId},renderLoading:!1,render:({branches:e})=>{const t=e&&e.find(i.RM.propEq("id",r.branchId));return l.default.createElement(l.default.Fragment,null,l.default.createElement(c.MapPanning,{map:p,gps:t&&t.gps}),e&&e.map(v))}}):l.default.createElement(s.QueryPickupMapBranch,{variables:{branchId:r.branchId},renderLoading:!1,render:({branch:e})=>l.default.createElement(l.default.Fragment,null,l.default.createElement(c.MapPanning,{map:p,gps:e&&e.gps}),e&&v(e))}))})},1183:function(e,t,r){},1185:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PickupMapBranch=void 0;var a=r(149),n=c(r(1)),l=c(r(64)),d=r(333),o=r(929),u=r(915),i=r(82);function c(e){return e&&e.__esModule?e:{default:e}}const s=l.default.div.withConfig({displayName:"PickupMapHeaderStyled"})`
  background-color: ${({theme:e})=>e.primary};
  color: ${({theme:e})=>e.tertiaryText};
  text-align: center;
  padding: 0.4rem 0.2rem 0.2rem 0.2rem;
  height: 2rem;
  vertical-align: middle;
`;t.PickupMapBranch=(({branch:e,onConfirm:t})=>n.default.createElement("div",{className:"pickup__map"},n.default.createElement(s,{className:"pickup__map__header"},e.name),n.default.createElement("div",{className:"pickup__map__info"},n.default.createElement(o.ShopAddress,{address:e.address})),n.default.createElement(u.ShopStatus,{status:e,render:r=>n.default.createElement(d.PrimaryButton,{color:"primary","data-testid":"submitPickupBranch",disabled:!e.pickupEnabled,onClick:t},e.pickupEnabled?function({decision:e,openingIn:t,closingIn:r}){switch(e){case"Closed":return n.default.createElement(a.Trans,{id:"Closed"});case"ClosingSoon":return n.default.createElement(a.Trans,{id:"{closingIn, plural, one {Closing in 1 minute} other {Closing in # minutes}}",values:{closingIn:r}});case"OpeningSoon":return n.default.createElement(a.Trans,{id:"{openingIn, plural, one {Opening in 1 minute} other {Opening in # minutes}}",values:{openingIn:t}});default:return i.i18n._("Pickup here").toLocaleUpperCase()}}(r):n.default.createElement(a.Trans,{id:"Delivery only"}))})))},1186:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ShopHeaderView=void 0;var a,n=(a=r(1))&&a.__esModule?a:{default:a},l=r(52),d=r(1187),o=r(1203);const u=e=>n.default.createElement(l.WithRoot,{observe:!0,render:e=>n.default.createElement(o.QueryShopHeader,{variables:{branchId:e.order.branchId||e.business.branchId},skip:!e.business.isValid,renderLoading:!1,render:({branch:e},{loading:t})=>n.default.createElement(d.ShopHeader,{branch:e,isLoading:t})})});t.ShopHeaderView=u;var i=u;t.default=i},1187:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ShopHeader=void 0;var a=r(149),n=y(r(1)),l=r(30),d=r(148),o=y(r(64)),u=r(893),i=r(1188),c=r(1189),s=r(986),m=r(987),f=r(1199),p=r(1200),h=r(1201),_=r(1202);function y(e){return e&&e.__esModule?e:{default:e}}const v=o.default.div.withConfig({displayName:"ShopHeaderStyled"})`
  display: flex;
  min-height: 200px;
`,E=o.default.div.withConfig({displayName:"ShopHeaderInfoStyled"})`
  display: flex;
  flex-direction: column;
  align-items: flex-start;
`;t.ShopHeader=(({branch:e,isLoading:t})=>n.default.createElement("div",null,n.default.createElement(d.Row,{className:"justify-content-md-center"},n.default.createElement(m.ShopHeaderIcons,null)),n.default.createElement(d.Row,{className:"row-white justify-content-md-center"},n.default.createElement(u.ColStyle,null,n.default.createElement(v,{"data-testid":"shopHeader"},t||!e?null:n.default.createElement(n.default.Fragment,null,n.default.createElement(p.ShopLogo,{url:e&&e.homepageUrl||""}),n.default.createElement(E,null,n.default.createElement(l.Route,{exact:!0,path:"/",render:()=>n.default.createElement(n.default.Fragment,null,n.default.createElement(_.Sticker,null,n.default.createElement(a.Trans,{id:"Choose your delivery option below"})),n.default.createElement(f.ShopIntro,{branch:e}))}),n.default.createElement(l.Route,{path:"/order",render:()=>n.default.createElement(n.default.Fragment,null,n.default.createElement(s.ShopClosingTimeModal,{status:e}),n.default.createElement(_.Sticker,{success:!0},n.default.createElement(i.OrderAddress,{address:e&&e.address})),n.default.createElement(h.ShopOpeningHours,{branch:e}),n.default.createElement(f.ShopIntro,{branch:e}))}),n.default.createElement(l.Route,{path:"/finish",render:()=>n.default.createElement(n.default.Fragment,null,n.default.createElement(_.Sticker,{success:!0},n.default.createElement(a.Trans,{id:"Order was send"})),n.default.createElement(h.ShopOpeningHours,{branch:e}),n.default.createElement(f.ShopIntro,{branch:e}))})),n.default.createElement(c.ShopCloseAlert,{status:e})))))))},1188:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OrderAddress=void 0;var a,n=(a=r(1))&&a.__esModule?a:{default:a},l=r(929),d=r(52),o=r(154),u=r(82);t.OrderAddress=(({address:e})=>n.default.createElement(d.WithRoot,{render:t=>{switch(t.order.orderMethod){case o.DeliveryTypeEnum.Messenger:return n.default.createElement("span",null,u.i18n._("Order to address"),": ",n.default.createElement("b",null,t.location.address));case o.DeliveryTypeEnum.Pickup:return n.default.createElement("span",null,u.i18n._("Pickup at address"),":"," ",n.default.createElement("b",null,n.default.createElement(l.ShopAddress,{address:e})));default:return null}}}))},1189:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ShopCloseAlert=void 0,r(1190);var a,n=r(149),l=(a=r(1))&&a.__esModule?a:{default:a},d=r(148),o=r(915);t.ShopCloseAlert=(({status:e,now:t})=>e?l.default.createElement(o.ShopStatus,{now:t,status:e,render:({decision:e,closingIn:t})=>"ClosingSoon"===e?l.default.createElement(d.Alert,{className:"shop__header__alert"},l.default.createElement(n.Trans,{id:"Beware! We are {closingIn, plural, one {closing in 1 minute} other {closing in # minutes}} . Finish your order quickly.",values:{closingIn:t}})):null}):null)},1190:function(e,t,r){},1199:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ShopIntro=void 0;var a=n(r(1));function n(e){return e&&e.__esModule?e:{default:e}}const l=n(r(64)).default.div.withConfig({displayName:"ShopIntroStyled"})`
  margin: 0.8rem 1rem 1rem 1.3rem;
`;t.ShopIntro=(({branch:e})=>a.default.createElement(l,{"data-testid":"headerText"},e?e.headerText:""))},1200:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ShopLogo=void 0;var a=o(r(1)),n=r(156),l=o(r(64)),d=r(931);function o(e){return e&&e.__esModule?e:{default:e}}const u=({url:e,children:t})=>e?a.default.createElement("a",{href:e},t):a.default.createElement(n.Link,{to:"/"},t),i=l.default.div.withConfig({displayName:"LogoContainerStyled"})`
  height: 200px;
  width: 400px;
  flex: 0 0 400px;
  & .shop__header__logo {
    height: 100%;
  }
`;t.ShopLogo=(e=>a.default.createElement(i,null,a.default.createElement(u,e,a.default.createElement(d.BackgroundThemed,{className:"shop__header__logo",imageName:"storeLogo",size:"cover"}))))},1201:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ShopOpeningHours=void 0;var a=o(r(1)),n=o(r(64)),l=r(82),d=r(988);function o(e){return e&&e.__esModule?e:{default:e}}const u=n.default.div.withConfig({displayName:"ContainerStyled"})`
  margin: 0.4rem 0 0 0.1rem;
`,i=n.default.div.withConfig({displayName:"OpeningHoursStyled"})`
  margin: -0.2rem 0 0 1.35rem;
  display: inline-block;
  vertical-align: middle;
`,c=n.default.span.withConfig({displayName:"StatusDisplayPosition"})`
  padding-left: 2rem;
`;t.ShopOpeningHours=(({branch:e})=>a.default.createElement(u,null,a.default.createElement("span",{className:"flaticon-clock"}),e&&e.businessHours.map(e=>a.default.createElement(i,{"data-testid":"openingHours",key:e.id},e.closed?e.closedNote||l.i18n._("Closed"):`${e.openAt} - ${e.closeAt}`)),a.default.createElement(c,null,a.default.createElement(d.ShopStatusDisplay,{status:e,deliveryTime:e.defaultDeliveryTime,pickupTime:e.defaultPickupTime}))))},1202:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sticker=void 0;var a=d(r(4)),n=d(r(1)),l=d(r(64));function d(e){return e&&e.__esModule?e:{default:e}}const o=l.default.div.withConfig({displayName:"StickerThemed"})`
  background: ${({theme:e})=>e.primary};
  color: white;
  margin-top: 1rem;
  padding: 0;
  border-radius: 0 0.7rem 0.7rem 0;
  white-space: nowrap;
  flex: none;

  & p {
    display: inline-block;
    margin: 0.6rem 1rem 0 0;
    vertical-align: top;
    white-space: nowrap;
  }
`,u=l.default.span.withConfig({displayName:"IconStyled"})`
  margin: 0.5rem 1rem 0 0.1rem;
  &:before,:after {
  font-size: 1.8rem;
  margin: 0 0 0 1rem;
  }
}
`;t.Sticker=(({success:e=!1,children:t})=>n.default.createElement(o,{className:(0,a.default)("right__sticker",{"order-method-unselected":!e,"order-method-selected":e})},n.default.createElement(u,{className:"flaticon-transport"}),n.default.createElement("p",null,t)))},1203:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QueryShopHeader=t.ShopHeaderQuery=void 0;var a,n=(a=r(22))&&a.__esModule?a:{default:a},l=r(157),d=r(31);const o=n.default`
  query GShopHeader($branchId: ID!) {
    branch: companyBranch(id: $branchId) {
      id
      name
      phone
      homepageUrl
      headerText
      defaultDeliveryTime
      defaultPickupTime
      address {
        ...GAddress
      }
      ...GCompanyBranchStatus
    }
  }
  ${d.AddressFragment}
  ${d.CompanyBranchStatusFragment}
`;t.ShopHeaderQuery=o;const u=(0,l.buildQuery)(o);t.QueryShopHeader=u},1204:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ShopOverview=void 0,r(1205);var a=m(r(1)),n=r(148),l=m(r(931)),d=r(893),o=r(82),u=r(989),i=r(994),c=r(1e3),s=r(1245);function m(e){return e&&e.__esModule?e:{default:e}}t.ShopOverview=(()=>a.default.createElement(n.Row,{className:"justify-content-md-center"},a.default.createElement(d.ColStyleLeft,null,a.default.createElement("div",{className:"shop__overview__column"},a.default.createElement(i.FoodMenuView,null))),a.default.createElement(d.ColStyleRight,null,a.default.createElement("div",{className:"shop__overview__column cart__column"},a.default.createElement("div",{className:"cart__column__header"},a.default.createElement("span",{className:"flaticon-cart cart__column__header__icon"}),a.default.createElement("h4",null,o.i18n._("Your order"))),a.default.createElement(l.default,{className:"cart__column__cart",imageName:"backgroundCart"},a.default.createElement(u.CartView,null)),a.default.createElement(s.OrderFormView,null))),a.default.createElement(c.OrderFormStorageNotice,null)))},1205:function(e,t,r){},1245:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OrderFormView=void 0,r(1246);var a,n=(a=r(1))&&a.__esModule?a:{default:a},l=r(890),d=r(1002),o=r(1248),u=r(1001),i=r(1017),c=r(1018);t.OrderFormView=(()=>n.default.createElement(l.WithOrder,{render:e=>n.default.createElement(n.default.Fragment,null,n.default.createElement(u.QueryOrderForm,{variables:{orderId:e.orderId},renderLoading:!1,render:({order:t})=>t&&0!==t.countWares?n.default.createElement(o.OrderForm,{order:e}):null}),n.default.createElement(i.OrderGoPayModal,{order:e}),n.default.createElement(d.OrderErrorModal,null),n.default.createElement(c.OrderTimePicker,null))}))},1246:function(e,t,r){},1248:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OrderForm=void 0;var a,n=(a=r(1))&&a.__esModule?a:{default:a},l=r(1003),d=r(1011),o=r(1014),u=r(1273),i=r(1015);t.OrderForm=(({order:e})=>n.default.createElement(o.OrderFormSetup,{order:e,render:t=>n.default.createElement("div",{className:"order__form"},n.default.createElement("div",{className:"order__form__inner"},n.default.createElement(d.OrderFormInputs,null),n.default.createElement(u.OrderPaymentMethod,null),n.default.createElement(l.OrderAgreements,null)),n.default.createElement(i.OrderSubmitLine,{onClick:t.submitForm,canSubmit:e.isVamInitialized}))}))},1273:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OrderPaymentMethod=void 0,r(1013);var a,n=(a=r(1))&&a.__esModule?a:{default:a},l=r(154),d=r(82),o=r(1274);t.OrderPaymentMethod=(()=>n.default.createElement("div",{className:"order__payment__method"},n.default.createElement(o.OrderPaymentButton,{method:l.PaymentGateEnum.Gopay,"data-testid":"orderPaymentMethod__GoPay"},d.i18n._("Pay by card").toLocaleUpperCase()),n.default.createElement(o.OrderPaymentButton,{method:l.PaymentGateEnum.Cash,"data-testid":"orderPaymentMethod__Cash"},d.i18n._("Pay by cash").toLocaleUpperCase())))},1274:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OrderPaymentButton=void 0;var a,n=(a=r(1))&&a.__esModule?a:{default:a},l=r(894),d=r(333);function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}var u=function(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var n=0;for(a=Object.getOwnPropertySymbols(e);n<a.length;n++)t.indexOf(a[n])<0&&(r[a[n]]=e[a[n]])}return r};function i({show:e}){return e?n.default.createElement("span",{className:"flaticon-mark order__payment__method__button__checked"}):n.default.createElement("div",{className:"order__payment__method__button__unchecked"})}t.OrderPaymentButton=(e=>{var{children:t,disabled:r,method:a}=e,c=u(e,["children","disabled","method"]);return n.default.createElement(l.Field,{field:"payment",render:e=>n.default.createElement(d.SelectButtonThemed,o({disabled:r,selected:e.value===a,onClick:()=>{e.setValue(a)}},c),n.default.createElement(i,{show:e.value===a}),t)})})},877:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,n=(a=r(1))&&a.__esModule?a:{default:a},l=r(156),d=r(148),o=r(1020),u=r(1023),i=r(1186),c=r(1204);var s=()=>n.default.createElement(d.Container,{fluid:!0},n.default.createElement(l.Route,{path:"/",component:i.ShopHeaderView}),n.default.createElement(l.Route,{exact:!0,path:"/",component:u.MapView}),n.default.createElement(l.Route,{path:"/order",component:c.ShopOverview}),n.default.createElement(l.Route,{path:"/finish",component:o.FinishView}));t.default=s}}]);
//# sourceMappingURL=3.61ff0a0c.chunk.js.map