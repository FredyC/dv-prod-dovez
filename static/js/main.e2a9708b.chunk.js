(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{137:function(e,n,r){"use strict";r.d(n,"a",function(){return c});var t=r(50),a=(r(387),r(1)),i=r.n(a),o=r(48),c=function(e){var n=e.isOpen,r=e.headerText,a=e.onClose,c=e.children,u=Object(t.a)(e,["isOpen","headerText","onClose","children"]);return i.a.createElement(o.m,Object.assign({isOpen:n,toggle:a,className:"modal__container"},u,{"data-testid":"alertModal"}),i.a.createElement(o.o,{tag:o.e,toggle:a,className:"modal__header"},i.a.createElement("span",null,r)),i.a.createElement(o.n,{className:"modal__body"},i.a.createElement("div",{className:"modal__body__content"},c)))}},146:function(e,n,r){"use strict";var t=r(364);r.d(n,"a",function(){return t})},147:function(e,n,r){"use strict";r.d(n,"a",function(){return u});var t=r(50),a=r(1),i=r.n(a),o=r(204),c=r(82);function u(e){return function(n){var r=n.render,a=n.renderFragment,u=n.renderLoading,s=void 0===u||u,d=(n.renderError,n.children),l=Object(t.a)(n,["render","renderFragment","renderLoading","renderError","children"]);return i.a.createElement(o.Query,Object.assign({query:e},l),function(e){if(e.loading||!e.data){if("function"===typeof s)return s(e);if(!0===s)return i.a.createElement(c.a,null)}if(e.error)throw e.error;if(e.data){if(a)return i.a.createElement(i.a.Fragment,null,a(e.data,e));if(r)return r(e.data,e)}return d||null})}}},201:function(e,n,r){"use strict";r.d(n,"b",function(){return f}),r.d(n,"a",function(){return m}),r.d(n,"d",function(){return p}),r.d(n,"c",function(){return b});var t=r(12),a=r(13),i=r.n(a),o=r(147),c=r(25);function u(){var e=Object(t.a)(["\n  query GPickupMapBranch($branchId: ID!) {\n    branch: companyBranch(id: $branchId) {\n      ...GPickupBranch\n    }\n  }\n  ","\n"]);return u=function(){return e},e}function s(){var e=Object(t.a)(["\n  query GPickupMapBrand($brandId: ID!) {\n    branches: companyBranches(brand: $brandId) {\n      ...GPickupBranch\n    }\n  }\n  ","\n"]);return s=function(){return e},e}function d(){var e=Object(t.a)(["\n  fragment GPickupBranch on CompanyBranch {\n    id\n    name\n    gps {\n      ...FGeoPoint\n    }\n    address {\n      ...FAddress\n    }\n    pickupEnabled\n    defaultDeliveryTime\n    defaultPickupTime\n    ...FCompanyBranchStatus\n  }\n  ","\n  ","\n  ","\n"]);return d=function(){return e},e}var l=i()(d(),c.c,c.d,c.b),f=i()(s(),l),m=i()(u(),l),p=Object(o.a)(f),b=Object(o.a)(m)},218:function(e,n,r){"use strict";r.d(n,"c",function(){return c}),r.d(n,"b",function(){return u}),r.d(n,"a",function(){return s});var t=r(109),a=r(379),i=r.n(a).a,o=Object(t.formatWithOptions)({locale:i}),c=Object(t.format)("H:mm"),u=o("D.M.YYYY H:mm"),s=(Object(t.parse)("HH:mm"),function(e){return e.street?e.houseNumber?"".concat(e.street," ").concat(e.houseNumber,", ").concat(e.city):"".concat(e.street,", ").concat(e.city):e.city?"".concat(e.city," ").concat(e.houseNumber):"".concat(e.state)})},25:function(e,n,r){"use strict";r.d(n,"j",function(){return s}),r.d(n,"a",function(){return v}),r.d(n,"k",function(){return E}),r.d(n,"l",function(){return C}),r.d(n,"g",function(){return Ne}),r.d(n,"d",function(){return _e}),r.d(n,"b",function(){return Ue}),r.d(n,"c",function(){return qe}),r.d(n,"h",function(){return We}),r.d(n,"e",function(){return Ye}),r.d(n,"f",function(){return Xe}),r.d(n,"o",function(){return rn}),r.d(n,"n",function(){return an}),r.d(n,"i",function(){return on}),r.d(n,"t",function(){return un}),r.d(n,"x",function(){return dn}),r.d(n,"m",function(){return ln}),r.d(n,"u",function(){return fn}),r.d(n,"v",function(){return pn}),r.d(n,"w",function(){return hn}),r.d(n,"p",function(){return vn}),r.d(n,"q",function(){return yn}),r.d(n,"r",function(){return En}),r.d(n,"s",function(){return Dn}),r.d(n,"y",function(){return Pn}),r.d(n,"z",function(){return Rn}),r.d(n,"A",function(){return $n}),r.d(n,"C",function(){return kn}),r.d(n,"B",function(){return Tn});var t,a,i,o,c,u,s,d,l,f,m,p,b,h,O,v,g,y,I,E,C,D,A,P,j,R,S,$,w,k=r(12),F=r(21),T=r(13),L=r.n(T);function B(){var e=Object(k.a)(["\n  query QShopHeader($brandId: ID, $branchId: ID!) {\n    branch: companyBranch(id: $branchId) {\n      id\n      address {\n        ...FAddress\n      }\n      ...FShopOpeningHours\n      ...FCompanyBranchStatus\n    }\n    intro: applicationSettings(brand: $brandId, companyBranch: $branchId) {\n      headerText\n      homepageUrl\n    }\n  }\n\n  ","\n  ","\n  ","\n"]);return B=function(){return e},e}function N(){var e=Object(k.a)(["\n  query QSmartBanner($branchId: ID!, $platform: MobilePlatformEnum!) {\n    app: mobileApplicationSettings(\n      companyBranch: $branchId\n      platform: $platform\n    ) {\n      title\n      url\n      icon\n    }\n  }\n"]);return N=function(){return e},e}function x(){var e=Object(k.a)(["\n  query QOrderTimePicker($branchId: ID!) {\n    companyBranch(id: $branchId) {\n      id\n      isOpen\n      businessHours: businessHoursIntervals {\n        openAt\n        closeAt\n        closed\n      }\n      defaultDeliveryTime\n      defaultPickupTime\n      willOpenAt\n      willCloseAt\n      delayedDeliveryEnabled\n    }\n  }\n"]);return x=function(){return e},e}function M(){var e=Object(k.a)(["\n  query QOrderPromoCodes($orderId: ID!) {\n    order(id: $orderId) {\n      id\n      promoCodes {\n        ...FPromoCode\n      }\n    }\n  }\n\n  ","\n"]);return M=function(){return e},e}function _(){var e=Object(k.a)(["\n  query QOrderForm($orderId: ID!) {\n    order(id: $orderId) {\n      id\n      countWares\n    }\n  }\n"]);return _=function(){return e},e}function G(){var e=Object(k.a)(["\n  mutation MOrderTipUpdate($orderId: ID!, $tips: Float!) {\n    updateOrder(id: $orderId, order: { tips: $tips }) {\n      ...FOrder\n    }\n  }\n\n  ","\n"]);return G=function(){return e},e}function U(){var e=Object(k.a)(["\n  mutation MOrderPromoRemove($orderId: ID!, $codeId: ID!) {\n    removeOrderPromoCode(order: $orderId, promoCode: $codeId) {\n      id\n      promoCodes {\n        ...FPromoCode\n      }\n    }\n  }\n\n  ","\n"]);return U=function(){return e},e}function q(){var e=Object(k.a)(["\n  mutation MOrderPromoAdd($orderId: ID!, $code: String!) {\n    addOrderPromoCode(order: $orderId, promoCode: $code) {\n      userErrors: errors\n      order {\n        id\n        promoCodes {\n          ...FPromoCode\n        }\n      }\n    }\n  }\n\n  ","\n"]);return q=function(){return e},e}function V(){var e=Object(k.a)(["\n  mutation MOrderFinish(\n    $orderId: ID!\n    $customer: InputCustomerCreate\n    $note: String\n    $tips: Float\n    $paymentGate: PaymentGateEnum!\n    $deliverAt: DateTime\n    $agreements: [ID!]\n  ) {\n    finishOrder(\n      id: $orderId\n      order: {\n        confirmedAgreements: $agreements\n        customer: $customer\n        paymentGate: $paymentGate\n        note: $note\n        tips: $tips\n        deliverAt: $deliverAt\n      }\n    ) {\n      userErrors\n      gopayUrl\n    }\n  }\n"]);return V=function(){return e},e}function H(){var e=Object(k.a)(["\n  mutation MOrderDeliveryTime($orderId: ID!, $deliverAt: DateTime) {\n    updateOrder(id: $orderId, order: { deliverAt: $deliverAt }) {\n      ...FOrder\n    }\n  }\n\n  ","\n"]);return H=function(){return e},e}function W(){var e=Object(k.a)(["\n  query QMobileCart($orderId: ID!) {\n    order(id: $orderId) {\n      ...FOrderMobile\n    }\n  }\n\n  ","\n"]);return W=function(){return e},e}function z(){var e=Object(k.a)(["\n  query QFoodMenuCartPresence($orderId: ID!) {\n    order(id: $orderId) {\n      id\n      ...FCartPresence\n    }\n  }\n\n  ","\n"]);return z=function(){return e},e}function Y(){var e=Object(k.a)(["\n  query QFoodMenu($branchId: ID!) {\n    wareCategories(\n      wareCategoryType: MAIN\n      companyBranch: $branchId\n      enabled: true\n    ) {\n      ...FFoodMenuCategory\n      recipes(enabled: true, isAvailable: true) {\n        ...FFoodMenuRecipe\n      }\n    }\n  }\n\n  ","\n  ","\n"]);return Y=function(){return e},e}function Q(){var e=Object(k.a)(["\n  query QOrderFinish($orderId: ID!, $branchId: ID!) {\n    order(id: $orderId) {\n      ...FOrderFinished\n    }\n    companyBranch(id: $branchId) {\n      id\n      phone\n      company {\n        id\n      }\n    }\n    androidApp: mobileApplicationSettings(\n      companyBranch: $branchId\n      platform: ANDROID\n    ) {\n      url\n    }\n    iosApp: mobileApplicationSettings(companyBranch: $branchId, platform: IOS) {\n      url\n    }\n  }\n\n  ","\n"]);return Q=function(){return e},e}function K(){var e=Object(k.a)(["\n  query QCartView($orderId: ID!) {\n    order(id: $orderId) {\n      ...FOrder\n      minimalOrderPrice {\n        ...FPrice\n      }\n      deliveryType {\n        enum\n      }\n    }\n  }\n\n  ","\n  ","\n"]);return K=function(){return e},e}function Z(){var e=Object(k.a)(["\n  query GResolveLocation(\n    $brandId: ID\n    $branchId: ID\n    $address: String\n    $latitude: Float\n    $longitude: Float\n  ) {\n    resolveLocation(\n      brand: $brandId\n      companyBranch: $branchId\n      address: $address\n      latitude: $latitude\n      longitude: $longitude\n    ) {\n      finalAddress {\n        ...FJsonAddress\n      }\n      isResolved\n      isValidAddress\n      inDeliveryLocation\n      gpsCoordinates {\n        latitude\n        longitude\n      }\n      companyBranch {\n        id\n        isOpen\n      }\n    }\n  }\n\n  ","\n"]);return Z=function(){return e},e}function J(){var e=Object(k.a)(["\n  query GSmartBanner($branchId: ID!, $platform: MobilePlatformEnum!) {\n    app: mobileApplicationSettings(\n      companyBranch: $branchId\n      platform: $platform\n    ) {\n      title\n      url\n      icon\n    }\n  }\n"]);return J=function(){return e},e}function X(){var e=Object(k.a)(["\n  query GMobileShopIntro($brandId: ID, $branchId: ID) {\n    intro: applicationSettings(brand: $brandId, companyBranch: $branchId) {\n      headerText\n      homepageUrl\n    }\n  }\n"]);return X=function(){return e},e}function ee(){var e=Object(k.a)(["\n  query GMobileShopStatus($branchId: ID!) {\n    branch: companyBranch(id: $branchId) {\n      id\n      ...FCompanyBranchStatus\n    }\n  }\n\n  ","\n"]);return ee=function(){return e},e}function ne(){var e=Object(k.a)(["\n  query GPickupMapBranch($branchId: ID!) {\n    branch: companyBranch(id: $branchId) {\n      ...GPickupBranch\n    }\n  }\n\n  ","\n"]);return ne=function(){return e},e}function re(){var e=Object(k.a)(["\n  query GPickupMapBrand($brandId: ID!) {\n    branches: companyBranches(brand: $brandId) {\n      ...GPickupBranch\n    }\n  }\n\n  ","\n"]);return re=function(){return e},e}function te(){var e=Object(k.a)(["\n  query GInitialLocation {\n    initialLocation: resolveLocation {\n      gpsCoordinates {\n        latitude\n        longitude\n      }\n    }\n  }\n"]);return te=function(){return e},e}function ae(){var e=Object(k.a)(["\n  query GThemeStyle($brandId: ID, $branchId: ID) {\n    theme: applicationSettings(brand: $brandId, companyBranch: $branchId) {\n      styles {\n        active\n        main\n        mainSecondary\n        storeLogo\n        storeLogoMobile\n        backgroundCart\n      }\n    }\n  }\n"]);return ae=function(){return e},e}function ie(){var e=Object(k.a)(["\n  query GVamStatus($input: InputVamStatus!) {\n    vamStatus(input: $input) {\n      id\n      name\n      description\n      isConfirmed\n      isMandatory\n    }\n  }\n"]);return ie=function(){return e},e}function oe(){var e=Object(k.a)(["\n  query GOrderPaymentStatus($orderId: ID!) {\n    status: orderOnlinePaymentStatus(id: $orderId) {\n      isSuccess\n      userErrors\n    }\n  }\n"]);return oe=function(){return e},e}function ce(){var e=Object(k.a)(["\n  mutation GSubmitOrder(\n    $orderId: ID!\n    $customer: InputCustomerCreate\n    $note: String\n    $tips: Float\n    $paymentGate: PaymentGateEnum!\n    $deliverAt: DateTime\n    $agreements: [ID!]\n  ) {\n    finishOrder(\n      id: $orderId\n      order: {\n        confirmedAgreements: $agreements\n        customer: $customer\n        paymentGate: $paymentGate\n        note: $note\n        tips: $tips\n        deliverAt: $deliverAt\n      }\n    ) {\n      userErrors\n      gopayUrl\n    }\n  }\n"]);return ce=function(){return e},e}function ue(){var e=Object(k.a)(["\n  mutation GRemoveOrderItem($itemId: ID!) {\n    destroyOrderRecipe(id: $itemId) {\n      ...FOrder\n    }\n  }\n\n  ","\n"]);return ue=function(){return e},e}function se(){var e=Object(k.a)(["\n  mutation GChangeOrderItem($orderId: ID!, $itemId: ID!, $sideDishes: [ID!]) {\n    updateOrderRecipe(\n      id: $itemId\n      orderRecipe: { order: $orderId, sideDishes: $sideDishes }\n    ) {\n      ...FOrder\n    }\n  }\n\n  ","\n"]);return se=function(){return e},e}function de(){var e=Object(k.a)(["\n  mutation GAddToOrderMobile(\n    $orderId: ID!\n    $recipeId: ID!\n    $sideDishes: [ID!]\n  ) {\n    createOrderRecipe(\n      orderRecipe: {\n        order: $orderId\n        recipe: $recipeId\n        sideDishes: $sideDishes\n      }\n    ) {\n      ...FOrderMobile\n    }\n  }\n\n  ","\n"]);return de=function(){return e},e}function le(){var e=Object(k.a)(["\n  mutation GAddToOrder($orderId: ID!, $recipeId: ID!, $sideDishes: [ID!]) {\n    createOrderRecipe(\n      orderRecipe: {\n        order: $orderId\n        recipe: $recipeId\n        sideDishes: $sideDishes\n      }\n    ) {\n      ...FOrder\n    }\n  }\n\n  ","\n"]);return le=function(){return e},e}function fe(){var e=Object(k.a)(["\n  mutation GCreateDeliveryOrder(\n    $brandId: ID\n    $branchId: ID\n    $gps: InputGeoPointCreate!\n    $orderOrigin: OrderOriginEnum!\n  ) {\n    order: createDeliveryOrder(\n      order: {\n        brand: $brandId\n        companyBranch: $branchId\n        gps: $gps\n        orderOrigin: $orderOrigin\n      }\n    ) {\n      ...GCreateOrder\n    }\n  }\n\n  ","\n"]);return fe=function(){return e},e}function me(){var e=Object(k.a)(["\n  mutation GCreatePickupOrder($branchId: ID!, $orderOrigin: OrderOriginEnum!) {\n    order: createPickupOrder(\n      order: { companyBranch: $branchId, orderOrigin: $orderOrigin }\n    ) {\n      ...GCreateOrder\n    }\n  }\n\n  ","\n"]);return me=function(){return e},e}function pe(){var e=Object(k.a)(["\n  query GOrderCartForItem($itemId: ID!) {\n    item: orderRecipe(id: $itemId) {\n      id\n      recipe {\n        ...GCartRecipe\n      }\n      sideDishes {\n        id\n        recipe {\n          id\n        }\n      }\n    }\n  }\n\n  ","\n"]);return pe=function(){return e},e}function be(){var e=Object(k.a)(["\n  query GOrderCartForRecipe($recipeId: ID!) {\n    recipe(id: $recipeId) {\n      ...GCartRecipe\n    }\n  }\n\n  ","\n"]);return be=function(){return e},e}function he(){var e=Object(k.a)(["\n  query GBusinessLookup($code: String, $url: String) {\n    lookup: companyBranchLookUp(wac: $code, hostUrl: $url) {\n      branch: companyBranch {\n        ...GCompanyBranch\n      }\n      isBrand: isBrandWac\n      isMobileApp\n      knownBasePath\n      orderOrigin\n    }\n  }\n\n  ","\n"]);return he=function(){return e},e}function Oe(){var e=Object(k.a)(["\n  fragment FShopOpeningHours on CompanyBranch {\n    defaultDeliveryTime\n    defaultPickupTime\n    ...FCompanyBranchStatus\n  }\n\n  ","\n"]);return Oe=function(){return e},e}function ve(){var e=Object(k.a)(["\n  fragment FOrderMobile on Order {\n    id\n    totalSum {\n      ...FPrice\n    }\n    countWares\n    ...FCartPresence\n  }\n\n  ","\n  ","\n"]);return ve=function(){return e},e}function ge(){var e=Object(k.a)(["\n  fragment FCartPresence on Order {\n    items {\n      id\n      recipe {\n        id\n      }\n    }\n  }\n"]);return ge=function(){return e},e}function ye(){var e=Object(k.a)(["\n  fragment FFoodMenuRecipe on Recipe {\n    id\n    image(width: 192, height: 192)\n    nameLabel\n    descriptionLabel\n    price {\n      ...FPrice\n    }\n    sideDishCount: sideDishesWareCategoriesCount\n  }\n\n  ","\n"]);return ye=function(){return e},e}function Ie(){var e=Object(k.a)(["\n  fragment FFoodMenuCategory on WareCategory {\n    id\n    nameLabel\n    pictogram\n  }\n"]);return Ie=function(){return e},e}function Ee(){var e=Object(k.a)(["\n  fragment FOrderFinished on Order {\n    id\n    items {\n      ...FCartItem\n      sideDishes {\n        ...FCartItem\n      }\n    }\n    totalSum {\n      ...FPrice\n    }\n    orderPayments {\n      paymentMethod {\n        paymentType {\n          enum\n        }\n      }\n    }\n  }\n\n  ","\n  ","\n"]);return Ee=function(){return e},e}function Ce(){var e=Object(k.a)(["\n  fragment FOrder on Order {\n    id\n    countWares\n    items {\n      ...FCartItem\n      price: priceWithSideDishes {\n        ...FPrice\n      }\n      sideDishes {\n        ...FCartItem\n      }\n    }\n    coverPrice {\n      ...FPrice\n    }\n    transportFee {\n      ...FPrice\n    }\n    discounts {\n      code\n      description\n      price {\n        ...FPrice\n      }\n    }\n    totalDiscount {\n      ...FPrice\n    }\n    totalSum {\n      ...FPrice\n    }\n    tip {\n      ...FPrice\n    }\n  }\n\n  ","\n  ","\n"]);return Ce=function(){return e},e}function De(){var e=Object(k.a)(["\n  fragment FCartItem on OrderRecipe {\n    id\n    automatic\n    recipe {\n      ...FRecipe\n    }\n  }\n\n  ","\n"]);return De=function(){return e},e}function Ae(){var e=Object(k.a)(["\n  fragment FRecipe on Recipe {\n    id\n    nameLabel\n    sideDishCount: sideDishesWareCategoriesCount\n  }\n"]);return Ae=function(){return e},e}function Pe(){var e=Object(k.a)(["\n  fragment FPromoCode on PromoCode {\n    id\n    code\n  }\n"]);return Pe=function(){return e},e}function je(){var e=Object(k.a)(["\n  fragment GPickupBranch on CompanyBranch {\n    id\n    name\n    gps {\n      ...FGeoPoint\n    }\n    address {\n      ...FAddress\n    }\n    pickupEnabled\n    defaultDeliveryTime\n    defaultPickupTime\n    ...FCompanyBranchStatus\n  }\n\n  ","\n  ","\n  ","\n"]);return je=function(){return e},e}function Re(){var e=Object(k.a)(["\n  fragment FCompanyBranchStatus on CompanyBranch {\n    id\n    isOpen\n    willOpenAt\n    willCloseAt\n    businessHours: businessHoursIntervals {\n      openAt\n      closeAt\n      closed\n      closedNote\n    }\n    defaultDeliveryTimeEnabled\n    defaultPickupTimeEnabled\n  }\n"]);return Re=function(){return e},e}function Se(){var e=Object(k.a)(["\n  fragment FAddress on Address {\n    id\n    location {\n      ...FJsonAddress\n    }\n  }\n\n  ","\n"]);return Se=function(){return e},e}function $e(){var e=Object(k.a)(["\n  fragment FJsonAddress on JsonAddress {\n    street\n    houseNumber\n    city\n    state\n  }\n"]);return $e=function(){return e},e}function we(){var e=Object(k.a)(["\n  fragment FGeoPoint on GeoPoint {\n    latitude\n    longitude\n  }\n"]);return we=function(){return e},e}function ke(){var e=Object(k.a)(["\n  fragment GCreateOrder on Order {\n    id\n    companyBranch {\n      id\n    }\n  }\n"]);return ke=function(){return e},e}function Fe(){var e=Object(k.a)(["\n  fragment GCartRecipe on Recipe {\n    id\n    nameLabel\n    descriptionLabel\n    categories: sideDishesWareCategories {\n      id\n      nameLabel\n      minCount\n      maxCount\n      sideDishes {\n        id\n        nameLabel\n        price {\n          ...FPrice\n        }\n      }\n    }\n  }\n\n  ","\n"]);return Fe=function(){return e},e}function Te(){var e=Object(k.a)(["\n  fragment FPrice on PriceConverted {\n    value\n    formattedValue\n  }\n"]);return Te=function(){return e},e}function Le(){var e=Object(k.a)(["\n  fragment GCompanyBranch on CompanyBranch {\n    id\n    code: wac\n    brand {\n      id\n      name\n      code: wac\n    }\n    company {\n      id\n    }\n    address {\n      country {\n        phonePrefix\n      }\n    }\n    phone\n  }\n"]);return Le=function(){return e},e}!function(e){e.Client="CLIENT",e.Affiliate="AFFILIATE",e.Brand="BRAND"}(t||(t={})),function(e){e.Business="BUSINESS",e.Premises="PREMISES",e.MainAddress="MAIN_ADDRESS"}(a||(a={})),function(e){e.Czk="CZK",e.Hop="HOP",e.Eur="EUR",e.Usd="USD",e.Pln="PLN"}(i||(i={})),function(e){e.Monday="MONDAY",e.Tuesday="TUESDAY",e.Wednesday="WEDNESDAY",e.Thursday="THURSDAY",e.Friday="FRIDAY",e.Saturday="SATURDAY",e.Sunday="SUNDAY"}(o||(o={})),function(e){e.Backend="BACKEND",e.FeAdmin="FE_ADMIN",e.FeKitchen="FE_KITCHEN",e.Driver="DRIVER"}(c||(c={})),function(e){e.Payment="PAYMENT",e.Notification="NOTIFICATION",e.Reclamation="RECLAMATION",e.Delivery="DELIVERY",e.Cancel="CANCEL",e.Main="MAIN",e.Production="PRODUCTION",e.NewOrders="NEW_ORDERS",e.Preparing="PREPARING",e.OnWay="ON_WAY",e.Finished="FINISHED",e.ReadyToDeliver="READY_TO_DELIVER",e.InCart="IN_CART",e.Bills="BILLS"}(u||(u={})),function(e){e.Android="ANDROID",e.Ios="IOS"}(s||(s={})),function(e){e.Kilogram="KILOGRAM",e.Gram="GRAM",e.Litre="LITRE",e.Piece="PIECE"}(d||(d={})),function(e){e.Main="MAIN"}(l||(l={})),function(e){e.CerealsWithGlutten="CEREALS_WITH_GLUTTEN",e.Shellfish="SHELLFISH",e.Egg="EGG",e.Fish="FISH",e.Peanut="PEANUT",e.Soybeans="SOYBEANS",e.Milk="MILK",e.Nut="NUT",e.Celery="CELERY",e.Mustard="MUSTARD",e.Sesame="SESAME",e.Sulfurous="SULFUROUS",e.Lupin="LUPIN",e.Molluscs="MOLLUSCS"}(f||(f={})),function(e){e.Delivery="DELIVERY",e.Inhouse="INHOUSE"}(m||(m={})),function(e){e.Default="DEFAULT",e.Enabled="ENABLED",e.Disabled="DISABLED"}(p||(p={})),function(e){e.Working="WORKING",e.Broken="BROKEN",e.Busy="BUSY",e.Free="FREE"}(b||(b={})),function(e){e.Car="CAR",e.Plane="PLANE",e.Dron="DRON"}(h||(h={})),function(e){e.PriceSum="PRICE_SUM",e.Commission="COMMISSION",e.Fee="FEE",e.RewardResult="REWARD_RESULT",e.Affiliate="AFFILIATE"}(O||(O={})),function(e){e.Pickup="PICKUP",e.Messenger="MESSENGER",e.Dron="DRON",e.Mail="MAIL"}(v||(v={})),function(e){e.Fresh="FRESH",e.Preparing="PREPARING",e.Cooked="COOKED",e.Canceled="CANCELED",e.Completed="COMPLETED"}(g||(g={})),function(e){e.Cs="CS",e.Sk="SK",e.En="EN",e.Pl="PL"}(y||(y={})),function(e){e.Created="CREATED",e.Pending="PENDING",e.Paid="PAID",e.Canceled="CANCELED",e.Completed="COMPLETED"}(I||(I={})),function(e){e.Web="WEB",e.DameJidlo="DAME_JIDLO",e.MobilAndroid="MOBIL_ANDROID",e.MobilIos="MOBIL_IOS",e.Staff="STAFF",e.Wifi="WIFI",e.Baker="BAKER",e.WebPartner="WEB_PARTNER",e.Enigoo="ENIGOO",e.Mpizza="MPIZZA",e.Minisite="MINISITE",e.AffiliatePizzaRozvoz="AFFILIATE_PIZZA_ROZVOZ",e.AffiliateRozvozPizzyZdarma="AFFILIATE_ROZVOZ_PIZZY_ZDARMA",e.AffiliateRozvozJidla="AFFILIATE_ROZVOZ_JIDLA",e.CallCenter="CALL_CENTER",e.Pwa="PWA"}(E||(E={})),function(e){e.Gopay="GOPAY",e.Paypal="PAYPAL",e.Credit="CREDIT",e.Cash="CASH"}(C||(C={})),function(e){e.Cash="CASH",e.Credit="CREDIT",e.Voucher="VOUCHER"}(D||(D={})),function(e){e.InCart="IN_CART",e.Received="RECEIVED",e.InProgress="IN_PROGRESS",e.Finished="FINISHED",e.Reclamation="RECLAMATION",e.ReclamationHandled="RECLAMATION_HANDLED",e.Unpaid="UNPAID",e.Paid="PAID",e.ByCreditCard="BY_CREDIT_CARD",e.Refund="REFUND",e.ShouldBePaid="SHOULD_BE_PAID",e.CustomerNotified="CUSTOMER_NOTIFIED",e.New="NEW",e.Online="ONLINE",e.Evaluated="EVALUATED",e.NotEvaluated="NOT_EVALUATED",e.Shown="SHOWN",e.Accepted="ACCEPTED",e.ReadyToProduce="READY_TO_PRODUCE",e.InProduce="IN_PRODUCE",e.Made="MADE",e.ReadyToDeliver="READY_TO_DELIVER",e.OnWay="ON_WAY",e.StuckOnRoad="STUCK_ON_ROAD",e.Late="LATE",e.Delivered="DELIVERED",e.Cause="CAUSE",e.Handover="HANDOVER",e.WaitingForCustomer="WAITING_FOR_CUSTOMER",e.CustomerDidNotCome="CUSTOMER_DID_NOT_COME",e.DeliverRejected="DELIVER_REJECTED",e.CancelOnWay="CANCEL_ON_WAY",e.Canceled="CANCELED",e.BranchCancel="BRANCH_CANCEL",e.CustomerCancel="CUSTOMER_CANCEL",e.BillPassed="BILL_PASSED",e.BillPrinted="BILL_PRINTED",e.KitchenTicketPrinted="KITCHEN_TICKET_PRINTED"}(A||(A={})),function(e){e.Area="AREA",e.Table="TABLE",e.Sector="SECTOR"}(P||(P={})),function(e){e.Accepted="ACCEPTED",e.Rejected="REJECTED",e.WaitingForResponse="WAITING_FOR_RESPONSE",e.Unresolved="UNRESOLVED"}(j||(j={})),function(e){e.Main="MAIN",e.SideDish="SIDE_DISH",e.Cover="COVER",e.Mixin="MIXIN"}(R||(R={})),function(e){e.Create="CREATE",e.Update="UPDATE",e.Destroy="DESTROY",e.Remove="REMOVE"}(S||(S={})),function(e){e.NoLimit="NO_LIMIT",e.Optional="OPTIONAL",e.MaxOne="MAX_ONE",e.Mandatory="MANDATORY"}($||($={})),function(e){e.Confirmation="CONFIRMATION",e.AdminOrderListing="ADMIN_ORDER_LISTING",e.Rules="RULES",e.Url="URL",e.Graphic="GRAPHIC",e.Options="OPTIONS"}(w||(w={}));var Be=L()(Le()),Ne=L()(Te()),xe=L()(Fe(),Ne),Me=L()(ke()),_e=L()(we()),Ge=L()($e()),Ue=L()(Se(),Ge),qe=L()(Re()),Ve=L()(je(),_e,Ue,qe),He=L()(Pe()),We=L()(Ae()),ze=L()(De(),We),Ye=L()(Ce(),ze,Ne),Qe=L()(Ee(),ze,Ne),Ke=L()(Ie()),Ze=L()(ye(),Ne),Je=L()(ge()),Xe=L()(ve(),Ne,Je),en=L()(Oe(),qe);L()(he(),Be);L()(be(),xe);L()(pe(),xe);L()(me(),Me);L()(fe(),Me);L()(le(),Ye);L()(de(),Xe);L()(se(),Ye);L()(ue(),Ye);L()(ce());L()(oe());L()(ie());var nn=L()(ae());function rn(e,n){return F.useQuery(nn,e,n)}var tn=L()(te());function an(e,n){return F.useQuery(tn,e,n)}L()(re(),Ve);L()(ne(),Ve);L()(ee(),qe);L()(X());L()(J());var on=L()(Z(),Ge);var cn=L()(K(),Ye,Ne);function un(e,n){return F.useQuery(cn,e,n)}var sn=L()(Q(),Qe);function dn(e,n){return F.useQuery(sn,e,n)}var ln=L()(Y(),Ke,Ze);function fn(e,n){return F.useQuery(ln,e,n)}var mn=L()(z(),Je);function pn(e,n){return F.useQuery(mn,e,n)}var bn=L()(W(),Xe);function hn(e,n){return F.useQuery(bn,e,n)}var On=L()(H(),Ye);function vn(e){return F.useMutation(On,e)}L()(V());var gn=L()(q(),He);function yn(e){return F.useMutation(gn,e)}var In=L()(U(),He);function En(e){return F.useMutation(In,e)}var Cn=L()(G(),Ye);function Dn(e){return F.useMutation(Cn,e)}var An=L()(_());function Pn(e,n){return F.useQuery(An,e,n)}var jn=L()(M(),He);function Rn(e,n){return F.useQuery(jn,e,n)}var Sn=L()(x());function $n(e,n){return F.useQuery(Sn,e,n)}var wn=L()(N());function kn(e,n){return F.useQuery(wn,e,n)}var Fn=L()(B(),Ue,en,qe);function Tn(e,n){return F.useQuery(Fn,e,n)}},27:function(e,n,r){"use strict";r.d(n,"d",function(){return i}),r.d(n,"e",function(){return o}),r.d(n,"a",function(){return c}),r.d(n,"b",function(){return u}),r.d(n,"g",function(){return s}),r.d(n,"f",function(){return d}),r.d(n,"c",function(){return l});var t=r(47),a=r.n(t),i=a()("app"),o=a()("map"),c=a()("debug"),u=a()("graph"),s=(a()("error"),a()("auth"),a()("routing"),a()("persist")),d=a()("order"),l=a()("lang")},32:function(e,n,r){"use strict";r.d(n,"b",function(){return O}),r.d(n,"a",function(){return v});var t=r(140),a=r(17),i=r.n(a),o=r(26),c=r(57),u=r(202),s=r(55),d=r(119),l=r(115),f=r(1),m=r.n(f),p=r(82),b=r(33),h=r(27),O=Object(u.setupI18n)(),v=function(e){var n=e.children,r=e.forceLanguage,t=Object(f.useState)(!1),a=Object(c.a)(t,2),u=a[0],v=a[1],y=Object(f.useState)(function(){return r||function(){var e=new l.LocaleResolver([new l.UrlDetector("lang"),new l.NavigatorDetector],[new l.LanguageOnlyTransformer]).getLocales();return Object(h.c)("detected languages %s",e.join("; ")),e.find(function(e){return b.a.supportedLanguages.includes(e)})||b.a.fallbackLanguage}()}),I=Object(c.a)(y,1)[0];return Object(d.useAsyncEffect)(Object(o.a)(i.a.mark(function e(){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g(I);case 2:v(!0);case 3:case"end":return e.stop()}},e,this)}))),!1===u?m.a.createElement(p.a,null):m.a.createElement(s.I18nProvider,{language:I,i18n:O},n)};function g(e){return y.apply(this,arguments)}function y(){return(y=Object(o.a)(i.a.mark(function e(n){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(b.a.supportedLanguages.includes(n)){e.next=3;break}return Object(h.c)("language %s is not supported"),e.abrupt("return",!1);case 3:return e.next=5,I(n);case 5:return O.activate(n),Object(h.c)("changed to %s",n),e.abrupt("return",!0);case 8:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function I(e){return E.apply(this,arguments)}function E(){return(E=Object(o.a)(i.a.mark(function e(n){var a;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:e.next=6;break;case 3:a=e.sent,e.next=9;break;case 6:return e.next=8,r(857)("./".concat(n,"/messages.js"));case 8:a=e.sent;case 9:O.load(Object(t.a)({},n,a)),Object(h.c)("loaded catalog %s",n);case 11:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}},33:function(e,n,r){"use strict";r.d(n,"a",function(){return t});var t={fallbackLanguage:"en",supportedLanguages:["cs","sk","en","pl","de"],endpoint:"https://be.dev.admin.c2e.deep-vision.cloud",persistenceKey:Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_LOCAL_ENDPOINT:"https://be.dev.admin.c2e.deep-vision.cloud",REACT_APP_STAGE:"prod"}).REACT_APP_LOCAL_KEY||"client@local",redirectOnFail:"https://kdo.doveze.cz",sentryDSN:"",pageTitleSuffix:"LOCAL",analytics:""};Object.assign(t,{endpoint:"https://c2e-p1.deep-vision.cloud",persistenceKey:"client@prod",sentryDSN:"https://31756c9e430d450eaf3a44af1c1cd0f2@sentry.io/1354460",pageTitleSuffix:"Doveze.cz",analytics:"UA-4990100-13"})},359:function(e,n,r){"use strict";var t=r(56),a=r(360),i=r.n(a),o=r(69),c=r(1),u=r.n(c),s=r(35),d=r(41),l=r(25);function f(e){return i()(e).lighten(.2).hsl().string()}n.a=function(e){var n=e.children,r=e.branchId,a=Object(d.b)().business,i=Object(l.o)({brandId:r?null:a.brandId,branchId:r||a.branchId},{skip:!a.isValid}).data,c=function(e){var n={primary:"#54984a",secondary:"#99230e",tertiary:"#d9a700",secondaryHover:f("#54984a"),tertiaryHover:f("#d9a700"),tertiaryText:"white",unselected:"#E5E5E5",unselectedHover:"#EDEDED",unselectedText:"#5A5A5A",storeLogo:null,storeLogoMobile:null,backgroundCart:null};return e?Object(t.a)({},n,{primary:e.active||"#54984a",secondary:e.main||"#99230e",tertiary:e.mainSecondary||"#d9a700",secondaryHover:e.main&&f(e.main),tertiaryHover:e.mainSecondary&&f(e.mainSecondary),storeLogo:e.storeLogo,storeLogoMobile:e.storeLogoMobile,backgroundCart:e.backgroundCart}):n}(i&&i.theme&&i.theme.styles);return Object(o.useObserver)(function(){return u.a.createElement(s.a,{theme:c},n)})}},387:function(e,n,r){},393:function(e,n,r){e.exports=r(905)},41:function(e,n,r){"use strict";r.d(n,"b",function(){return i}),r.d(n,"a",function(){return o});var t=r(1),a=r.n(t).a.createContext(void 0),i=function(){var e=Object(t.useContext)(a);if(!e)throw new Error("RootProvider missing in the tree");return e},o=a.Provider},432:function(e,n){},434:function(e,n){},49:function(e,n,r){"use strict";r.d(n,"g",function(){return I}),r.d(n,"f",function(){return E}),r.d(n,"e",function(){return D}),r.d(n,"d",function(){return A}),r.d(n,"b",function(){return P}),r.d(n,"a",function(){return j}),r.d(n,"c",function(){return R}),r.d(n,"i",function(){return S}),r.d(n,"j",function(){return $}),r.d(n,"h",function(){return w}),r.d(n,"k",function(){return k});var t=r(12),a=r(13),i=r.n(a),o=r(25);function c(){var e=Object(t.a)(["\n  query GVamStatus($input: InputVamStatus!) {\n    vamStatus(input: $input) {\n      id\n      name\n      description\n      isConfirmed\n      isMandatory\n    }\n  }\n"]);return c=function(){return e},e}function u(){var e=Object(t.a)(["\n  query GOrderPaymentStatus($orderId: ID!) {\n    status: orderOnlinePaymentStatus(id: $orderId) {\n      isSuccess\n      userErrors\n    }\n  }\n"]);return u=function(){return e},e}function s(){var e=Object(t.a)(["\n  mutation GSubmitOrder(\n    $orderId: ID!\n    $customer: InputCustomerCreate\n    $note: String\n    $tips: Float\n    $paymentGate: PaymentGateEnum!\n    $deliverAt: DateTime\n    $agreements: [ID!]\n  ) {\n    finishOrder(\n      id: $orderId\n      order: {\n        confirmedAgreements: $agreements\n        customer: $customer\n        paymentGate: $paymentGate\n        note: $note\n        tips: $tips\n        deliverAt: $deliverAt\n      }\n    ) {\n      userErrors\n      gopayUrl\n    }\n  }\n"]);return s=function(){return e},e}function d(){var e=Object(t.a)(["\n  mutation GRemoveOrderItem($itemId: ID!) {\n    destroyOrderRecipe(id: $itemId) {\n      ...FOrder\n    }\n  }\n  ","\n"]);return d=function(){return e},e}function l(){var e=Object(t.a)(["\n  mutation GChangeOrderItem($orderId: ID!, $itemId: ID!, $sideDishes: [ID!]) {\n    updateOrderRecipe(\n      id: $itemId\n      orderRecipe: { order: $orderId, sideDishes: $sideDishes }\n    ) {\n      ...FOrder\n    }\n  }\n  ","\n"]);return l=function(){return e},e}function f(){var e=Object(t.a)(["\n  mutation GAddToOrderMobile(\n    $orderId: ID!\n    $recipeId: ID!\n    $sideDishes: [ID!]\n  ) {\n    createOrderRecipe(\n      orderRecipe: {\n        order: $orderId\n        recipe: $recipeId\n        sideDishes: $sideDishes\n      }\n    ) {\n      ...FOrderMobile\n    }\n  }\n  ","\n"]);return f=function(){return e},e}function m(){var e=Object(t.a)(["\n  mutation GAddToOrder($orderId: ID!, $recipeId: ID!, $sideDishes: [ID!]) {\n    createOrderRecipe(\n      orderRecipe: {\n        order: $orderId\n        recipe: $recipeId\n        sideDishes: $sideDishes\n      }\n    ) {\n      ...FOrder\n    }\n  }\n  ","\n"]);return m=function(){return e},e}function p(){var e=Object(t.a)(["\n  mutation GCreateDeliveryOrder(\n    $brandId: ID\n    $branchId: ID\n    $gps: InputGeoPointCreate!\n    $orderOrigin: OrderOriginEnum!\n  ) {\n    order: createDeliveryOrder(\n      order: {\n        brand: $brandId\n        companyBranch: $branchId\n        gps: $gps\n        orderOrigin: $orderOrigin\n      }\n    ) {\n      ...GCreateOrder\n    }\n  }\n  ","\n"]);return p=function(){return e},e}function b(){var e=Object(t.a)(["\n  mutation GCreatePickupOrder($branchId: ID!, $orderOrigin: OrderOriginEnum!) {\n    order: createPickupOrder(\n      order: { companyBranch: $branchId, orderOrigin: $orderOrigin }\n    ) {\n      ...GCreateOrder\n    }\n  }\n  ","\n"]);return b=function(){return e},e}function h(){var e=Object(t.a)(["\n  fragment GCreateOrder on Order {\n    id\n    companyBranch {\n      id\n    }\n  }\n"]);return h=function(){return e},e}function O(){var e=Object(t.a)(["\n  query GOrderCartForItem($itemId: ID!) {\n    item: orderRecipe(id: $itemId) {\n      id\n      recipe {\n        ...GCartRecipe\n      }\n      sideDishes {\n        id\n        recipe {\n          id\n        }\n      }\n    }\n  }\n  ","\n"]);return O=function(){return e},e}function v(){var e=Object(t.a)(["\n  query GOrderCartForRecipe($recipeId: ID!) {\n    recipe(id: $recipeId) {\n      ...GCartRecipe\n    }\n  }\n  ","\n"]);return v=function(){return e},e}function g(){var e=Object(t.a)(["\n  fragment GCartRecipe on Recipe {\n    id\n    nameLabel\n    descriptionLabel\n    categories: sideDishesWareCategories {\n      id\n      nameLabel\n      minCount\n      maxCount\n      sideDishes {\n        id\n        nameLabel\n        price {\n          ...FPrice\n        }\n      }\n    }\n  }\n  ","\n"]);return g=function(){return e},e}var y=i()(g(),o.g),I=i()(v(),y),E=i()(O(),y),C=i()(h()),D=i()(b(),C),A=i()(p(),C),P=i()(m(),o.e),j=i()(f(),o.f),R=i()(l(),o.e),S=i()(d(),o.e),$=i()(s()),w=i()(u()),k=i()(c())},70:function(e,n,r){"use strict";r.d(n,"a",function(){return u}),r.d(n,"b",function(){return s}),r.d(n,"c",function(){return d}),r.d(n,"d",function(){return l}),r.d(n,"e",function(){return f});var t=r(1),a=r.n(t),i=r(144),o=r.n(i),c=r(35),u=function(e){return a.a.createElement(o.a,Object.assign({},e,{minWidth:768}))},s=function(e){return a.a.createElement(o.a,Object.assign({},e,{maxAspectRatio:"14/9",maxWidth:767}))},d=function(e){return a.a.createElement(o.a,Object.assign({},e,{screen:!0,minAspectRatio:"14/9",maxWidth:767}))},l=function(){return Object(c.b)(["@media (min-width:","em){",";}"],48,c.b.apply(void 0,arguments))},f=function(){return Object(c.b)(["@media (max-width:","em){",";}"],767/16,c.b.apply(void 0,arguments))}},803:function(e,n,r){},81:function(e,n,r){"use strict";var t=r(12),a=r(50),i=r(1),o=r.n(i),c=r(48),u=r(35),s=r(70),d=r(118);function l(){var e=Object(t.a)(["\n    background-color: ",""]);return l=function(){return e},e}function f(){var e=Object(t.a)(["\n      background-color: ","\n    "]);return f=function(){return e},e}r.d(n,"b",function(){return m}),r.d(n,"d",function(){return p}),r.d(n,"c",function(){return b}),r.d(n,"a",function(){return h}),r.d(n,"e",function(){return O});var m=Object(u.c)(c.b).withConfig({displayName:"Buttons__PrimaryButton",componentId:"a5riht-0"})(["background-color:",";border-color:",";&:hover{background-color:",";border-color:",";}&:active{background-color:#262626 !important;}"],v("secondary"),v("secondary"),v("secondaryHover"),v("secondaryHover"));m.displayName="PrimaryButton";var p=Object(u.c)(c.b).withConfig({displayName:"Buttons__SecondaryButton",componentId:"a5riht-1"})(["background-color:",";border-color:",";&:hover{background-color:",";border-color:",";}"],v("tertiary"),v("tertiary"),v("tertiaryHover"),v("tertiaryHover"));p.displayName="SecondaryButton";var b=Object(u.c)(function(e){var n=e.to,r=e.replace,t=e.children,i=Object(a.a)(e,["to","replace","children"]);return o.a.createElement(d.b,{to:n,replace:r},o.a.createElement(c.b,i,t))}).withConfig({displayName:"Buttons__PrimaryRoutedButton",componentId:"a5riht-2"})(["background-color:",";border-color:",";&:hover{background-color:",";border-color:",";}"],v("secondary"),v("secondary"),v("secondaryHover"),v("secondaryHover"));b.displayName="PrimaryRoutedButton";var h=Object(u.c)(function(e){e.isConfirm,e.theme;var n=Object(a.a)(e,["isConfirm","theme"]);return o.a.createElement(c.b,n)}).withConfig({displayName:"Buttons__MobileHeaderButton",componentId:"a5riht-3"})(["background-color:",";color:",";"],function(e){var n=e.isConfirm,r=e.theme;return n?r.primary:"white"},function(e){var n=e.isConfirm,r=e.theme;return n?"white":r.primary});h.displayName="MobileHeaderButton";var O=Object(u.c)(function(e){e.selected,e.theme;var n=Object(a.a)(e,["selected","theme"]);return o.a.createElement(c.b,n)}).withConfig({displayName:"Buttons__SelectButtonThemed",componentId:"a5riht-4"})(["",";"],function(e){var n=e.theme,r=e.selected;return Object(u.b)(["",";"," border-color:",";color:",";&:hover{background-color:",";border-color:",";color:",";}"],Object(s.d)(f(),r?n.tertiary:n.unselected),Object(s.e)(l(),r?n.tertiary:"white"),r?n.tertiary:n.unselected,r?n.tertiaryText:n.unselectedText,r?n.tertiaryHover:n.unselectedHover,r?n.tertiaryHover:n.unselectedHover,r?n.tertiaryText:n.unselectedText)});function v(e){return function(n){return n.theme[e]}}O.displayName="SelectButtonThemed"},82:function(e,n,r){"use strict";var t=r(1),a=r.n(t),i=r(221),o=r.n(i);n.a=function(e){var n=e.noMargin,r=void 0!==n&&n;return a.a.createElement("div",{style:{display:"flex",alignSelf:"center",justifyContent:"center"},"data-testid":"loader"},a.a.createElement(o.a,{name:"pacman",style:r?{}:{marginTop:"45vh"}}))}},856:function(e,n,r){var t={"./cs/messages.po":[908,2],"./de/messages.po":[909,3],"./en-dev/messages.po":[911,5],"./en/messages.po":[910,4],"./pl/messages.po":[912,6],"./sk/messages.po":[913,7]};function a(e){var n=t[e];return n?r.e(n[1]).then(function(){var e=n[0];return r.t(e,7)}):Promise.resolve().then(function(){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n})}a.keys=function(){return Object.keys(t)},a.id=856,e.exports=a},857:function(e,n,r){var t={"./cs/messages.js":[914,2],"./de/messages.js":[915,3],"./en-dev/messages.js":[917,5],"./en/messages.js":[916,4],"./pl/messages.js":[918,6],"./sk/messages.js":[919,7]};function a(e){var n=t[e];return n?r.e(n[1]).then(function(){var e=n[0];return r.t(e,7)}):Promise.resolve().then(function(){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n})}a.keys=function(){return Object.keys(t)},a.id=857,e.exports=a},905:function(e,n,r){"use strict";r.r(n);var t=r(21),a=r(24),i=r(1),o=r.n(i),c=r(52),u=r.n(c),s=r(55),d=(r(803),r(35)),l=r(57),f=r(119),m=r(42),p=r(45),b=r(41),h=r(32),O=r(137),v=r(81),g=function(e){return"".concat(e," ").concat(h.b._("Our team was notified about the issue."))},y=function(e){var n,i=e.children,c=e.prod,u=void 0!==c&&c,d=o.a.useState("none"),y=Object(l.a)(d,2),I=y[0],E=y[1],C=o.a.useState(null),D=Object(l.a)(C,2),A=D[0],P=D[1],j=function(e,n){P(o.a.createElement(O.a,{isOpen:!0,onClose:function(){return P(null)},headerText:e},n))},R=o.a.useCallback(function(){E("none")},[]),S=o.a.useCallback(function(e){if(function(e){return e.message&&e.message.indexOf("Loading chunk")>=0}(e))return a.Sentry.withScope(function(n){n.setLevel(a.Sentry.Severity.Debug),a.Sentry.captureException(e)}),void function(){var e=a.Sentry.getCurrentHub().getClient();if(e)return Promise.resolve(e.close(2e3));return Promise.resolve()}().then(function(){return window.location.reload()});Object(m.isApolloError)(e)&&Object(t.isNetworkUnreachableError)(e)?E("serviceUnreachable"):(a.Sentry.captureException(new p.VError(e,"Unhandled exception")),E("otherError"))},[]),$=o.a.useCallback(function(e,n){n?E("serviceUnreachable"):j(h.b._("Service problem"),o.a.createElement("div",null,g(h.b._("Unexpected error occured in communication with service."))))},[]),w=o.a.useCallback(function(){j(h.b._("Communication problem"),o.a.createElement("div",null,g(h.b._("Unexpected error occured while sending a request."))))},[]),k=o.a.useCallback(function(e){j(h.b._("Problems encountered"),o.a.createElement("div",null,e.map(function(e){return o.a.createElement("div",null,e)})))},[]),F=Object(f.useRouterContext)().history,T=o.a.useState(!0),L=Object(l.a)(T,2),B=L[0],N=L[1],x=o.a.useCallback(function(){N(!1),a.Sentry.showReportDialog({labelClose:h.b._("Close"),title:h.b._("Unexpected problem occurred")})},[]),M=Object(b.b)().business,_=o.a.useCallback(function(){N(!1),F.replace(M.routerBasePath),window.location.reload()},[]),G=function(){switch(I){case"serviceUnreachable":return o.a.createElement(O.a,{isOpen:B,headerText:h.b._("Service is temporarily unavailable")},o.a.createElement(s.Trans,{id:"Please try again in moment. We apologize for inconvenience."}),o.a.createElement(v.b,{onClick:R},o.a.createElement(s.Trans,{id:"Try now"})));case"otherError":return o.a.createElement(O.a,{isOpen:B,headerText:h.b._("Unexpected error has occurred")},o.a.createElement(s.Trans,{id:"If you like, please fill out feedback form so we can fix the problem faster. Restart the application otherwise."}),o.a.createElement("br",null),o.a.createElement(v.b,{onClick:_},o.a.createElement(s.Trans,{id:"Restart application"})),o.a.createElement(v.d,{onClick:x},o.a.createElement(s.Trans,{id:"Send feedback"})));default:return i}};if(u)n=o.a.createElement(a.SillyErrorBoundary,{onError:function(e){S(e)}},G());else{var U=r(904).DeveloperErrorBoundary;n=o.a.createElement(U,null,G())}return o.a.createElement(t.ApolloDefender,{onNetworkError:$,onOperationError:w,onUserErrors:k},o.a.createElement(o.a.Fragment,null,A,n))};var I=r(69),E=r(212),C=r.n(E),D=r(33),A=function(){var e=Object(b.b)().business;return Object(I.useObserver)(function(){return e.isValid?o.a.createElement(C.a,{title:"".concat(e.branch.brand.name," - ").concat(D.a.pageTitleSuffix)}):o.a.createElement(C.a,{title:D.a.pageTitleSuffix})})},P=r(70),j=r(14),R=function(){var e=Object(b.b)().auth;return o.a.useEffect(function(){return Object(j.autorun)(function(){var n=e.userId,r=e.token;a.Sentry.configureScope(function(e){e.setUser({id:n,username:"GUEST"}),e.setExtra("token",r)})})},[e]),null},S=function(e){Object(b.b)();return null},$=d.c.div.withConfig({displayName:"App__LandscapeMessage",componentId:"sc-1aqzt8o-0"})(["font-size:1.1rem;padding:3rem;vertical-align:center;"]),w=o.a.lazy(function(){return Promise.all([r.e(0),r.e(1),r.e(12)]).then(r.bind(null,1275))}),k=o.a.lazy(function(){return Promise.all([r.e(0),r.e(1),r.e(11)]).then(r.bind(null,1274))}),F=function(){return o.a.createElement(y,{prod:!0},o.a.createElement(R,null),o.a.createElement(A,null),o.a.createElement(P.a,null,o.a.createElement(w,null)),o.a.createElement(P.b,null,o.a.createElement(k,null)),o.a.createElement(P.c,null,o.a.createElement($,null,o.a.createElement(s.Trans,{id:"We know, you like space. Our app is optimised for desktop. Leave your phone in portrait for now."}))),o.a.createElement(S,null))},T=r(118),L=function(e){var n=e.children,r=Object(b.b)().business;return Object(I.useObserver)(function(){return r.isValid?o.a.createElement(T.a,{basename:r.routerBasePath,key:r.routerBasePath},n):null})},B=r(82),N=r(359),x=r(203),M=r(375),_=r(374),G=r.n(_),U=r(377),q=r(27),V=j.observable.box(navigator.onLine);window.addEventListener("offline",function(){return V.set(!1)}),window.addEventListener("online",function(){return V.set(!0)});var H=function(){return V.get()};var W=r(117),z=D.a.analytics;if(z){W.a.initialize(z,{debug:!1,gaOptions:{siteSpeedSampleRate:50}})}var Y=r(17),Q=r.n(Y),K=r(26),Z=r(50),J=r(15),X=r(145),ee=r.n(X),ne=D.a.persistenceKey;function re(e){return te.apply(this,arguments)}function te(){return(te=Object(K.a)(Q.a.mark(function e(n){var r,t,a,i;return Q.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(J.f)(n).name,t="".concat(ne,"_").concat(r),a=function(e){return ee.a.setItem(t,e)},e.prev=3,e.next=6,ee.a.getItem(t);case 6:if(null===(i=e.sent)){e.next=12;break}Object(J.a)(n,i),Object(q.g)("restored state %s",t),e.next=15;break;case 12:return e.next=14,a(Object(J.e)(n));case 14:Object(q.g)("initialized state %s",t);case 15:e.next=21;break;case 17:e.prev=17,e.t0=e.catch(3),Object(q.g)("persistence failed",e.t0),ee.a.removeItem(t);case 21:Object(J.g)(n,a);case 22:case"end":return e.stop()}},e,this,[[3,17]])}))).apply(this,arguments)}var ae=r(378),ie=r(47),oe=r.n(ie),ce=J.h.model().views(function(e){return{get log(){var n=Object(J.c)(e).trim()||Object(J.f)(e).name;return oe()("c2e:model/".concat(n))},get env(){return Object(J.b)(e)},get client(){return Object(J.b)(e).client},get root(){return Object(J.d)(e)}}}),ue=ce.named("Auth").props({token:J.h.maybeNull(J.h.string),userId:J.h.maybeNull(J.h.string)}).views(function(e){return{get isValid(){return Boolean(e.token&&e.token.length)}}}).actions(function(e){return{authenticate:function(n,r){e.token=n,e.userId=r,a.Sentry.addBreadcrumb({category:"Auth",level:a.Sentry.Severity.Info,data:{userId:r,token:n}})}}}).actions(function(e){var n,r=function(){var r=Object(K.a)(Q.a.mark(function r(){var t,a,i;return Q.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(n){r.next=9;break}return n=se(),r.next=4,n;case 4:t=r.sent,a=t.token,i=t.userId,e.authenticate(a,String(i)),n=null;case 9:return r.abrupt("return",n);case 10:case"end":return r.stop()}},r,this)}));return function(){return r.apply(this,arguments)}}(),t=Object(ae.a)(Object(K.a)(Q.a.mark(function n(){return Q.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(e.token){n.next=3;break}return n.next=3,r();case 3:return n.abrupt("return",{headers:{Authorization:"Bearer ".concat(e.token)}});case 4:case"end":return n.stop()}},n,this)})));return{attachAuthLinkToClient:function(e){e.link=t.concat(e.link)}}});function se(){return de.apply(this,arguments)}function de(){return(de=Object(K.a)(Q.a.mark(function e(){var n,r,t,a;return Q.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=D.a.endpoint){e.next=3;break}throw new Error("Missing endpoint in configuration.");case 3:return r="".concat(n,"/users/token?guest=true"),t={headers:{Accept:"application/json"}},e.next=7,fetch(r,t);case 7:return a=e.sent,e.abrupt("return",a.json());case 9:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}var le=r(25),fe=r(98),me=ce.named("Banner").props({branchId:J.h.identifier,closedAt:J.h.maybe(J.h.Date),installedAt:J.h.maybe(J.h.Date)}).views(function(e){return{get shouldBeVisible(){return!e.root.business.isMobileApp&&(!!(e.closedAt&&Object(fe.differenceInDays)(new Date,e.closedAt)>15)||(!!(e.installedAt&&Object(fe.differenceInDays)(new Date,e.installedAt)>90)||!Boolean(e.closedAt||e.installedAt)))}}}).actions(function(e){return{setInstalledNow:function(){e.installedAt=new Date},setClosedNow:function(){e.closedAt=new Date}}}),pe=r(12),be=r(13),he=r.n(be);function Oe(){var e=Object(pe.a)(["\n  query GBusinessLookup($code: String, $url: String) {\n    lookup: companyBranchLookUp(wac: $code, hostUrl: $url) {\n      branch: companyBranch {\n        ...GCompanyBranch\n      }\n      isBrand: isBrandWac\n      isMobileApp\n      knownBasePath\n      orderOrigin\n    }\n  }\n  ","\n"]);return Oe=function(){return e},e}function ve(){var e=Object(pe.a)(["\n  fragment GCompanyBranch on CompanyBranch {\n    id\n    code: wac\n    brand {\n      id\n      name\n      code: wac\n    }\n    company {\n      id\n    }\n    address {\n      country {\n        phonePrefix\n      }\n    }\n    phone\n  }\n"]);return ve=function(){return e},e}var ge=he()(ve()),ye=he()(Oe(),ge),Ie=ce.named("Business").props({code:J.h.maybeNull(J.h.string),banners:J.h.map(me)}).volatile(function(){return{isBrand:!1,isMobileApp:!1,branch:null,country:null,orderOrigin:le.k.Web,routerBasePath:""}}).views(function(e){return{get branchId(){return e.branch&&e.branch.id},get companyId(){return e.branch&&e.branch.company.id},get brandId(){return e.branch&&e.branch.brand.id},get brandOrBranch(){return{brandId:this.isBrand?this.brandId:void 0,branchId:this.isBrand?void 0:this.branchId}},get isValid(){return null!==e.branch},get requestedCode(){var n=Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_LOCAL_ENDPOINT:"https://be.dev.admin.c2e.deep-vision.cloud",REACT_APP_STAGE:"prod"}).REACT_APP_BUSINESS_CODE||null;n||(n=new window.URL(window.location.href).searchParams.get(Ee)||null||e.code);return n}}}).actions(function(e){return{updateFromLookup:function(n){var r=n.isBrand,t=n.isMobileApp,a=n.knownBasePath,i=n.orderOrigin,o=n.branch;o&&(e.isBrand=r,e.isMobileApp=t,e.branch=o,e.country=o.address.country||null,e.routerBasePath=a,e.orderOrigin=i,e.code=null)},mockBranchData:function(n){e.branch=n}}}).actions(function(e){return{queryBusiness:function(){var n=Object(K.a)(Q.a.mark(function n(){var r,t;return Q.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.client.query({query:ye,variables:{code:e.requestedCode,url:window.location.href}});case 2:if(r=n.sent,(t=r.data)&&t.lookup&&t.lookup.branch){n.next=8;break}return Object(q.d)("no business found, used code %s",e.requestedCode),Ce(),n.abrupt("return");case 8:e.updateFromLookup(t.lookup),a.Sentry.configureScope(function(n){n.setTag("orderOrigin",e.orderOrigin),n.setExtra("brandId",e.brandId),n.setExtra("requestedCode",e.requestedCode),n.setExtra("branchId",e.branchId),n.setExtra("companyId",e.companyId),n.setExtra("isBrand",e.isBrand)}),Object(q.d)("identified branch %s, brand %s; company %s, isBrand: %s",e.branchId,e.brandId,e.companyId,e.isBrand);case 11:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),ensureBannerForCurrentBranch:function(){var n=e.branchId;return e.banners.has(n)||e.banners.set(n,{branchId:n}),e.banners.get(n)}}}),Ee="wac";function Ce(){window.location.replace(D.a.redirectOnFail)}var De=ce.named("Config").props({orderItemsMax:50}),Ae=r(56),Pe=r(218),je=r(96),Re=ce.named("Location").props({latitude:J.h.maybe(J.h.number),longitude:J.h.maybe(J.h.number),searchValue:J.h.maybe(J.h.string),address:J.h.maybe(J.h.string)}).volatile(function(e){return{branchId:null,isOpen:!0,isResolved:!1,isStreetAddress:!1,inDeliveryLocation:!1,geolocationDisabled:!1,geolocationPoint:null,isResolving:!1}}).views(function(e){return{get isGeolocationAvailable(){return Boolean(e.env.geolocation&&!e.geolocationDisabled)},get hasLocation(){return void 0!==e.latitude||void 0!==e.longitude},get hasAddress(){return Boolean(e.address)},get isDeliveryAddress(){return e.isResolved&&e.isStreetAddress&&e.inDeliveryLocation},get hasFinishedSearch(){return(e.searchValue&&e.searchValue.length>0||e.address)&&!e.isResolving},get geoPoint(){return this.hasLocation?{latitude:e.latitude,longitude:e.longitude}:null},get resolutionTarget(){var n=e.root.business;return n.isBrand?{brandId:n.brandId}:{branchId:n.branchId}},get latLng(){return this.geoPoint?Object(je.a)(this.geoPoint):null}}}).actions(function(e){return{setLocation:function(n){var r=n.latitude,t=n.longitude;e.latitude=r,e.longitude=t}}}).actions(function(e){return{setResolutionResult:function(n){var r=n.finalAddress;r&&(e.address=Object(Pe.a)(r)),e.branchId=n.companyBranch?n.companyBranch.id:null,e.isResolved=n.isResolved,e.isStreetAddress=n.isValidAddress,e.inDeliveryLocation=n.inDeliveryLocation,n.isResolved?(e.setLocation(n.gpsCoordinates),e.log("resolved as %s",e.address)):e.log("not resolved")},setVolatileProps:function(n){Object.assign(e,n)},disableGeolocation:function(){e.geolocationDisabled=!1},clearAddress:function(){e.address=""},setIsResolving:function(n){e.isResolving=n}}}).actions(function(e){var n=function(){var n=Object(K.a)(Q.a.mark(function n(r){var t,a,i;return Q.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return e.setIsResolving(!0),t=Object(Ae.a)({},e.resolutionTarget,r),n.next=4,e.client.query({query:le.i,variables:t});case 4:a=n.sent,null!==(i=a.data)&&e.setResolutionResult(i.resolveLocation),e.setIsResolving(!1);case 8:case"end":return n.stop()}},n,this)}));return function(e){return n.apply(this,arguments)}}();return{validateUserLocation:function(){e.hasLocation&&(e.log("validating stored user location %s, %s",e.latitude,e.longitude),n({latitude:e.latitude,longitude:e.longitude}))},withUserAddress:function(r){e.searchValue=r,""===r?e.clearAddress():(e.log("resolving user address: %s",r),n({address:r}))},withUserLocation:function(r){e.log("with user location: %j",r),e.latitude=r.latitude,e.longitude=r.longitude,n(r)},useGeolocationResult:function(n){e.geolocationPoint=n},attemptGeolocation:function(){var n=this;e.log("geolocating..."),e.env.geolocation.getCurrentPosition(function(r){var t=r.coords,a=t.latitude,i=t.longitude;e.log("geolocated at coords %s, %s (acc: %s)",t.latitude,t.longitude,t.accuracy),n.useGeolocationResult({latitude:a,longitude:i})},function(n){e.log(new p.VError("failed geolocation",n)),e.disableGeolocation(),window.alert(h.b._("Your browser does not support geolocation."))},{enableHighAccuracy:!0,maximumAge:6e4})}}}),Se=49.8037633,$e=15.4749126,we=ce.named("Map").props({zoom:J.h.optional(J.h.number,16),latitude:J.h.optional(J.h.number,Se),longitude:J.h.optional(J.h.number,$e)}).volatile(function(e){return{mapRef:null,clickPoint:null}}).views(function(e){return{get isReady(){return null!==e.mapRef},get center(){return Object(je.a)(e)}}}).actions(function(e){return{setMapRef:function(n){e.mapRef=n},updateZoom:function(){e.mapRef&&(e.zoom=e.mapRef.getZoom())},updatePosition:function(){if(e.mapRef){var n=e.mapRef.getCenter();e.latitude=n.lat(),e.longitude=n.lng()}},panToLocation:function(n){arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.mapRef&&e.mapRef.panTo(Object(je.a)(n))},onClick:function(n){e.clickPoint=Object(je.b)(n.latLng)},clearClickPoint:function(){e.clickPoint=null}}}),ke=r(213),Fe=r(363),Te=r.n(Fe),Le="https://gate.gopay.cz/gp-gw/js/embed.js",Be="https://gw.sandbox.gopay.com/gp-gw/js/embed.js";function Ne(e){return xe.apply(this,arguments)}function xe(){return(xe=Object(K.a)(Q.a.mark(function e(n){return Q.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return Object(q.f)("GoPay init",n),e.next=3,_e(n);case 3:return e.abrupt("return",Ge(Me(n)));case 4:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function Me(e){return{gatewayUrl:e,inline:!0}}function _e(e){var n=e.includes("gw.sandbox.gopay.com")?Be:Le;return Object(q.f)("GoPay script url",n),new Promise(function(e){Te()(n,e)})}function Ge(e){return new Promise(function(n){Object(q.f)("GoPay checkout"),_gopay.checkout(e,function(e){Object(q.f)("GoPay result",e),n(e.id)})})}var Ue=r(146),qe=r(201),Ve=r(49),He=ce.named("Order").props({branchId:J.h.maybeNull(J.h.string),orderId:J.h.maybeNull(J.h.string),orderMethod:le.a.Messenger,payment:le.l.Gopay,deliverAt:J.h.maybe(J.h.Date),firstname:"",lastname:"",email:"",phone:"",phonePrefix:"",note:"",tips:""}).volatile(function(e){return{isSubmitting:!1,isGoPayChecking:!1,submitErrors:null,agreements:[],lastActiveRecipeId:null,isVamInitialized:!1,timePickerOpen:!1,shouldRefreshCart:!1,delayedOrderEnabled:!1}}).views(function(e){return{get hasOrder(){return null!==e.orderId},get fragmentOrderId(){return"Order-".concat(e.orderId)},get usingDeliveryOrderMethod(){return e.orderMethod===le.a.Messenger},get usingPickupOrderMethod(){return e.orderMethod===le.a.Pickup},get usingPaymentMethodWithTips(){return e.payment===le.l.Gopay},get hasErrors(){return Boolean(e.submitErrors&&e.submitErrors.length>0)},get defaultPhonePrefix(){return e.root.business.isValid&&e.root.business.country?e.root.business.country.phonePrefix:"+"},getSubmitVariables:function(n){return{orderId:e.orderId,customer:{firstName:n.firstname,lastName:n.lastname,emails:[{email:n.email}],phones:[{phone:"".concat(n.phonePrefix).concat(n.phone)}]},note:n.note,tips:n.tips.length?Number.parseInt(n.tips,10):0,paymentGate:n.payment,deliverAt:e.deliverAt&&Object(t.isoDate)(e.deliverAt),agreements:n.agreements.filter(Ue.a.propEq("isConfirmed",!0)).map(Ue.a.prop("id")).filter(Boolean)}}}}).actions(function(e){return{useOrderMethod:function(n){e.orderMethod=n},setPaymentMethod:function(n){e.payment=n},setBranch:function(n){e.branchId=n},orderCreated:function(n){e.orderId=n.id,e.branchId=n.companyBranch.id,e.deliverAt=void 0,Object(q.d)("order %s created for branch %s",e.orderId,e.branchId)},orderPaid:function(n){e.orderId!==n&&(e.orderId=n,Object(q.d)("order %s replaced by %s due to successful payment status"))},orderCancel:function(){(e.branchId||e.orderId)&&Object(q.d)("cancel order %s, was at branch %s",e.root.order.orderId,e.root.order.branchId),e.orderId=null,e.branchId=null},submitFinished:function(){e.isSubmitting=!1},submitFailed:function(n){e.isSubmitting=!1,e.submitErrors=n||[h.b._("Error during sending order. Please try again later.")]},vamFailed:function(){e.submitErrors=[h.b._("Internal error during sending order. Order can not be finished right now. Our team was notified and is working on fix. Thank you for your understanding.")],e.isVamInitialized=!1},clearErrors:function(){e.submitErrors=null},goPayStatusCheck:function(n){e.isGoPayChecking=n},useAgreements:function(n){Array.isArray(n)&&(e.agreements=n),e.isVamInitialized=!0},setUsedRecipeId:function(n){e.lastActiveRecipeId=n},openTimePicker:function(){e.timePickerOpen=!0},closeTimePicker:function(){e.timePickerOpen=!1},setCartRefresh:function(n){e.shouldRefreshCart=n},setTips:function(n){e.tips=n},setDeliverAt:function(n){e.deliverAt=n},enableDelayedOrder:function(){e.delayedOrderEnabled=!0},queryPaymentStatus:function(){var n=Object(K.a)(Q.a.mark(function n(){var r,t,a,i=arguments;return Q.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=i.length>0&&void 0!==i[0]?i[0]:e.orderId,t={orderId:r},n.prev=2,n.next=5,e.client.query({fetchPolicy:"no-cache",query:Ve.h,variables:t});case 5:return a=n.sent,n.abrupt("return",a.data.status);case 9:return n.prev=9,n.t0=n.catch(2),Object(q.f)("failed to verify payment status for order %s: ",r),n.abrupt("return",null);case 13:case"end":return n.stop()}},n,this,[[2,9]])}));return function(){return n.apply(this,arguments)}}(),rememberFormValues:function(n){e.root.user.shouldRememberForm?(e.firstname=n.firstname,e.lastname=n.lastname,e.email=n.email,e.phone=n.phone,e.phonePrefix=n.phonePrefix,e.note=n.note,e.tips=n.tips,e.payment=n.payment):(e.firstname="",e.lastname="",e.email="",e.phone="",e.phonePrefix="",e.note="",e.tips="",e.payment=le.l.Gopay)}}}).actions(function(e){return{createDeliveryOrder:function(){var n=Object(K.a)(Q.a.mark(function n(){var r,t,a,i,o,c,u;return Q.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(r=e.root,t=r.business,(a=r.location).geoPoint){n.next=3;break}return n.abrupt("return",null);case 3:return i=Object(Ae.a)({gps:a.geoPoint,orderOrigin:t.orderOrigin},t.brandOrBranch),n.next=6,e.client.mutate({fetchPolicy:"no-cache",mutation:Ve.d,variables:i});case 6:return o=n.sent,c=o.data,u=c.order,e.orderCreated(u),e.initVam(),n.abrupt("return",e.orderId);case 12:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),createPickupOrder:function(){var n=Object(K.a)(Q.a.mark(function n(r){var t,a,i,o,c;return Q.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.root.business,a={branchId:r,orderOrigin:t.orderOrigin},n.next=4,e.client.mutate({fetchPolicy:"no-cache",mutation:Ve.e,variables:a});case 4:return i=n.sent,o=i.data,c=o.order,e.orderCreated(c),e.initVam(),n.abrupt("return",e.orderId);case 10:case"end":return n.stop()}},n,this)}));return function(e){return n.apply(this,arguments)}}(),prefetchPickup:function(){var n=e.root.business;n.isBrand?e.client.query({query:qe.b,variables:{brandId:n.brandId}}):e.client.query({query:qe.a,variables:{branchId:n.branchId}})},prefetchFoodMenu:function(n){n&&e.client.query({query:le.m,variables:{branchId:n}})},prefetchFood:function(n){e.client.query({query:Ve.g,variables:{recipeId:n}})},addFromRecipe:function(){var n=Object(K.a)(Q.a.mark(function n(r){var t,a,i,o,c,u=arguments;return Q.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return t=u.length>1&&void 0!==u[1]?u[1]:[],a={orderId:e.orderId,recipeId:r,sideDishes:t},i=e.client.readFragment({id:e.fragmentOrderId,fragment:le.e,fragmentName:"FOrder"}),o=e.client.readFragment({id:"Recipe-".concat(r),fragment:le.h,fragmentName:"FRecipe"}),c={__typename:"Mutation",createOrderRecipe:Object(Ae.a)({},i,{countWares:i?i.countWares+1:1,items:[].concat(Object(ke.a)(i?i.items:[]),[{__typename:"OrderRecipe",id:"-1",price:{__typename:"PriceConverted",value:0,formattedValue:"---"},recipe:Object(Ae.a)({},o,{sideDishes:[]}),sideDishes:[],automatic:!1}])})},n.next=7,e.client.mutate({mutation:Ve.b,variables:a,optimisticResponse:c});case 7:case"end":return n.stop()}},n,this)}));return function(e){return n.apply(this,arguments)}}(),addFromRecipeMobile:function(){var n=Object(K.a)(Q.a.mark(function n(r){var t,a,i,o,c=arguments;return Q.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return t=c.length>1&&void 0!==c[1]?c[1]:[],a={orderId:e.orderId,recipeId:r,sideDishes:t},i=e.client.readFragment({id:e.fragmentOrderId,fragment:le.f,fragmentName:"FOrderMobile"}),o={__typename:"Mutation",createOrderRecipe:Object(Ae.a)({},i,{countWares:i?i.countWares+1:1,items:[].concat(Object(ke.a)(i?i.items:[]),[{__typename:"OrderRecipe",id:"-1",recipe:{__typename:"Recipe",id:r},automatic:!1}])})},n.next=6,e.client.mutate({mutation:Ve.a,variables:a,optimisticResponse:o});case 6:case"end":return n.stop()}},n,this)}));return function(e){return n.apply(this,arguments)}}(),updateItem:function(){var n=Object(K.a)(Q.a.mark(function n(r){var t,a,i=arguments;return Q.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return t=i.length>1&&void 0!==i[1]?i[1]:[],a={orderId:e.orderId,itemId:r,sideDishes:t},n.next=4,e.client.mutate({mutation:Ve.c,variables:a});case 4:case"end":return n.stop()}},n,this)}));return function(e){return n.apply(this,arguments)}}(),removeItemFromCart:function(n){var r={itemId:n},t=e.client.readFragment({fragment:le.e,fragmentName:"FOrder",id:e.fragmentOrderId});e.client.mutate({mutation:Ve.i,variables:r,optimisticResponse:{__typename:"Mutation",destroyOrderRecipe:Object(Ae.a)({},t,{countWares:t?t.countWares-1:0,items:t?t.items.filter(function(e){return e.id!==n}):[]})}})},initVam:function(){var n=Object(K.a)(Q.a.mark(function n(){var r,t;return Q.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r={input:{orderId:e.orderId,email:e.email,firstname:e.firstname,lastname:e.lastname,phone:e.phone}},n.prev=1,n.next=4,e.client.query({query:Ve.k,variables:r});case 4:(t=n.sent).data&&e.useAgreements(t.data.vamStatus),n.next=12;break;case 8:n.prev=8,n.t0=n.catch(1),e.vamFailed(),a.Sentry.withScope(function(e){Object.keys(r).forEach(function(n){e.setExtra(n,r[n])}),a.Sentry.captureException(new p.VError(n.t0,"VAM init failed"))});case 12:case"end":return n.stop()}},n,this,[[1,8]])}));return function(){return n.apply(this,arguments)}}(),updateVam:function(){var n=Object(K.a)(Q.a.mark(function n(r){var t,i,o,c,u,s;return Q.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return t="".concat(r.phonePrefix.trim()).concat(r.phone.trim()),i=r.email.trim(),o=r.firstname.trim(),c=r.lastname.trim(),u={input:{email:i,phone:t,firstname:o,lastname:c,orderId:e.orderId}},n.prev=5,n.next=8,e.client.query({query:Ve.k,variables:u});case 8:(s=n.sent).data&&e.useAgreements(s.data.vamStatus),n.next=16;break;case 12:n.prev=12,n.t0=n.catch(5),e.vamFailed(),a.Sentry.withScope(function(e){Object.keys(u).forEach(function(n){e.setExtra(n,u[n])}),a.Sentry.captureException(new p.VError(n.t0,"VAM update failed"))});case 16:case"end":return n.stop()}},n,this,[[5,12]])}));return function(e){return n.apply(this,arguments)}}(),submitOrder:function(){var n=Object(K.a)(Q.a.mark(function n(r){var t,i,o,c;return Q.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return e.isSubmitting=!0,e.rememberFormValues(r),n.prev=2,n.next=5,e.client.mutate({fetchPolicy:"no-cache",mutation:Ve.j,variables:e.getSubmitVariables(r)});case 5:t=n.sent,n.next=12;break;case 8:throw n.prev=8,n.t0=n.catch(2),e.submitFailed(),We(new p.VError("order submit mutation error: %j",n.t0));case 12:if(!(t.errors&&t.errors.length||!t.data)){n.next=15;break}throw e.submitFailed(),We(new p.VError("order submit graphql errors: %j",t.errors));case 15:if(!(i=t.data.finishOrder).userErrors||!i.userErrors.length){n.next=19;break}throw e.submitFailed(i.userErrors),new p.VError("Order user errors: %j",i.userErrors);case 19:if(r.payment!==le.l.Cash){n.next=22;break}return e.submitFinished(),n.abrupt("return");case 22:if(i.gopayUrl){n.next=25;break}throw e.submitFailed(),We(new Error("GoPay url missing from response"));case 25:return o=i.gopayUrl,a.Sentry.addBreadcrumb({category:"GoPay",message:"init payment",level:a.Sentry.Severity.Info,data:{gopayUrl:o}}),n.next=29,Ne(i.gopayUrl);case 29:return e.goPayStatusCheck(!0),n.next=32,e.queryPaymentStatus();case 32:if(c=n.sent,e.goPayStatusCheck(!1),!c){n.next=43;break}if(!c.isSuccess){n.next=39;break}e.submitFinished(),n.next=41;break;case 39:throw e.submitFailed(c.userErrors.length?c.userErrors:void 0),new p.VError("Payment failed: %j",c.userErrors);case 41:n.next=45;break;case 43:throw e.submitFailed(),We(new p.VError("No payment status returned"));case 45:case"end":return n.stop()}},n,this,[[2,8]])}));return function(e){return n.apply(this,arguments)}}()}}).actions(function(e){return{checkPaymentStatus:function(){var n=window.location.href.match(/orderId=(\d+)/i);if(n){var r=Object(l.a)(n,2)[1];Object(j.when)(function(){return e.root.auth.isValid},Object(K.a)(Q.a.mark(function n(){var t,i,o;return Q.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return a.Sentry.addBreadcrumb({category:"GoPay",message:"finish after redirect",level:a.Sentry.Severity.Info,data:{orderId:r}}),t=setTimeout(function(){return e.goPayStatusCheck(!0)},500),n.next=4,e.queryPaymentStatus(r);case 4:if(i=n.sent,clearTimeout(t),e.goPayStatusCheck(!1),!i||!i.isSuccess){n.next=12;break}e.orderPaid(r),window.location.replace("".concat(e.root.business.routerBasePath,"/finish")),n.next=16;break;case 12:return a.Sentry.captureMessage("GoPay status check failed",a.Sentry.Severity.Error),o=e.root.business.branch.phone,e.submitFailed([h.b._("We were unable to verify status of your payment. Please contact operator using number {phone}",{phone:o})]),n.abrupt("return");case 16:case"end":return n.stop()}},n,this)})))}}}}).actions(function(e){return{init:function(){a.Sentry.configureScope(function(n){n.setExtra("orderId",e.orderId)}),e.checkPaymentStatus()}}});function We(e){return a.Sentry.captureException(e),e}var ze=ce.named("User").props({rememberForm:J.h.maybeNull(J.h.boolean),showAppleBanner:J.h.optional(J.h.boolean,!0)}).volatile(function(e){return{closingTimeAlertHidden:!1,orderLimitAlertHidden:!0}}).actions(function(e){return{showClosingTime:function(){e.closingTimeAlertHidden=!1},hideClosingTime:function(){e.closingTimeAlertHidden=!0},showOrderLimit:function(){e.orderLimitAlertHidden=!1},hideOrderLimit:function(){e.orderLimitAlertHidden=!0},setFormRememberYes:function(){e.rememberForm=!0},setFormRememberNo:function(){e.rememberForm=!1},hideAppleBanner:function(){e.showAppleBanner=!1}}}).views(function(e){return{get shouldRememberForm(){return!1!==e.rememberForm}}}),Ye=ce.named("Root").props({auth:J.h.optional(ue,{}),business:J.h.optional(Ie,{}),config:J.h.optional(De,{}),map:J.h.optional(we,{}),order:J.h.optional(He,{}),location:J.h.optional(Re,{}),user:J.h.optional(ze,{})}).views(function(e){return{get persistedModels(){return[e.auth,e.user,e.business,e.location,e.order,e.map]}}}).actions(function(e){var n;return{afterCreate:function(){var r=Object(J.e)(e),t=(r.business,r.map,Object(Z.a)(r,["business","map"]));n=t},reset:function(){Object(q.a)(n),Object(J.a)(e,n)},init:function(){var r=Object(K.a)(Q.a.mark(function r(){return Q.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return e.auth.attachAuthLinkToClient(e.client),r.next=3,Promise.all(e.persistedModels.map(re));case 3:return r.next=5,e.business.queryBusiness();case 5:e.order.init(),n.business=Object(J.e)(e.business);case 7:case"end":return r.stop()}},r,this)}));return function(){return r.apply(this,arguments)}}()}});var Qe=Object(t.createDefaultApolloClient)(Object(M.a)({enabled:!1}),new U.a({delay:{initial:300,max:1/0,jitter:!0},attempts:{max:5,retryIf:function(e){return!!e}}}),function(){var e=new G.a;return Object(j.autorun)(function(){H()?(Object(q.b)("client is online"),e.open()):(Object(q.b)("client is offline"),e.close())}),e}(),new x.BatchHttpLink({uri:"".concat(D.a.endpoint,"/graphql"),credentials:"same-origin"})),Ke=function(e){var n=Ye.create({},{client:e,fetch:window.fetch,geolocation:navigator.geolocation});return n.init(),n}(Qe);u.a.render(o.a.createElement(function(){return function(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).reportPage&&W.a.pageview(window.location.href),W.a}({reportPage:!0}),Object(a.useSentryInit)(D.a.sentryDSN),o.a.createElement(o.a.Suspense,{fallback:o.a.createElement(B.a,null)},o.a.createElement(b.a,{value:Ke},o.a.createElement(t.ApolloProvider,{client:Qe},o.a.createElement(h.a,null,o.a.createElement(L,null,o.a.createElement(N.a,null,o.a.createElement(F,null)))))))},null),document.getElementById("root")),a.updateWorker.register({autoUpdate:!0,onUpdate:function(e){setTimeout(function(){window.confirm(h.b._("New version has been found. Do you want to reload application to apply it now?"))&&e.postMessage("apply-update")},5e3)}}),navigator.serviceWorker&&navigator.serviceWorker.addEventListener("message",function(e){"update-applied"===e.data&&location.reload()})},96:function(e,n,r){"use strict";r.d(n,"a",function(){return t}),r.d(n,"b",function(){return a});var t=function(e){return{lat:Number(e.latitude),lng:Number(e.longitude)}},a=function(e){return{latitude:Number(e.lat()),longitude:Number(e.lng())}}}},[[393,9,10]]]);
//# sourceMappingURL=main.e2a9708b.chunk.js.map