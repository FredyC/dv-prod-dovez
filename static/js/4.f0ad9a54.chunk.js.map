{"version":3,"sources":["app/MobileApp.tsx","segments/mobile/MobileHeader.tsx","segments/mobile/MobileConfirmView.tsx","common/ScrollToTop.tsx","segments/mobile/MobilePaymentMethod.tsx","segments/mobile/MobilePaymentButton.tsx","segments/mobile/MobileDeliveryView.tsx","segments/mobile/MobileFinishView.tsx","segments/mobile/MobileIntroView.tsx","segments/mobile/MobileShopIntro.tsx","segments/mobile/MobileShopIntro.graphql.ts","segments/mobile/MobileOrderView.tsx","segments/mobile/MobileCart.tsx","segments/mobile/MobileCartSummary.tsx","segments/mobile/MobileClosingTimeModal.tsx","segments/mobile/MobileClosingTimeModal.graphql.ts","segments/mobile/MobilePickupView.tsx","segments/mobile/MobilePickupList.tsx","segments/mobile/MobilePickupMap.tsx","segments/mobile/MobileSmartBanner.tsx","segments/mobile/MobileSmartBanner.graphql.ts"],"names":["_react","__webpack_require__","_reactRouterDom","_reactstrap","_MobileConfirmView","_MobileDeliveryView","_MobileFinishView","_MobileIntroView","_MobileOrderView","_MobilePickupView","_MobileSmartBanner","default","createElement","Fragment","Route","path","component","MobileSmartBanner","Container","fluid","exact","MobileIntroView","MobilePickupView","MobileDeliveryView","MobileOrderView","MobileConfirmView","MobileFinishView","_Buttons","text","buttonText","buttonRight","onButtonClick","leftButton","MobileHeaderButton","className","data-testid","onClick","rightButton","isConfirm","_react2","_interopRequireDefault","_ScrollToTop","_WithOrder","_i18n","_OrderAgreements","_OrderErrorModal","_OrderFormInputs","_OrderFormSetup","_OrderFormStorageNotice","_OrderGoPayModal","_MobileHeader","_MobilePaymentMethod","history","i18n","_","goBack","WithOrder","render","order","OrderFormSetup","form","ScrollToTop","OrderFormStorageNotice","OrderGoPayModal","OrderErrorModal","Trans","id","OrderFormInputs","OrderAgreements","MobilePaymentMethod","orderModel","onConfirm","submitForm","PureComponent","[object Object]","window","scrollTo","_types","_MobilePaymentButton","MobilePaymentButton","method","PaymentGateEnum","Gopay","toLocaleUpperCase","Cash","_reactForm","_SubmitSpinner","_a","disabled","children","props","__rest","observe","Field","field","fieldApi","SelectButtonThemed","_extends","selected","value","isSubmitting","setValue","_BaseMap","_WithRoot","_DeliveryMap","LocationDiscovery","WithRoot","root","location","hasLocation","BaseMap","model","map","DeliveryMap","push","rootModel","_ColStyle","_FinishViewFooter","_FinishViewLoader","_FinishViewOrder","_FinishViewSupport","Row","ColStyle","FinishViewLoader","result","FinishViewOrder","FinishViewSupport","branch","companyBranch","FinishViewFooter","finish","_BackgroundThemed","_OrderMethod","_ShopHeaderIcons","_MobileShopIntro","imageName","size","fixed","ShopHeaderIcons","MobileShopIntro","OrderMethod","onChange","usingDeliveryOrderMethod","usingPickupOrderMethod","_mobxReactLite","business","useRoot","useObserver","QueryMobileShopIntro","variables","branchId","renderLoading","headerText","_graphqlTag","_buildQuery","MobileShopIntroQuery","buildQuery","_AddToCartModal","_FoodMenuView","_MobileCart","_MobileClosingTimeModal","redirect","FoodMenuView","MobileCart","orderId","AddToCartModal","MobileClosingTimeModal","_classnames","_interopRequireWildcard","_reactRouter","_CartView","_OrderSubmitLine","_MobileCart2","_MobileCartSummary","MobileCartController","Component","this","state","isOpen","goConfirm","setOpen","setState","onToggle","isEmpty","prev","onSubmit","count","price","isLoading","Redirect","to","mobile__sliding__cart__open","MobileCartSummary","CartView","OrderSubmitLine","canSubmit","QueryMobileCart","loading","countWares","totalSum","formattedValue","_styledComponents","MobileCartSummaryCountThemed","div","withConfig","displayName","theme","secondary","MobileCartSummaryPriceThemed","span","primary","showContent","values","components","_ShopClosingTimeModal","QueryMobileShopStatus","ShopClosingTimeModal","status","_graph","_fragments","MobileShopStatusQuery","CompanyBranchStatusFragment","_ramda","_PickupMap","_MobilePickupList","_MobilePickupMap","renderQuery","match","params","isBrand","QueryPickupMapBrand","brandId","branches","find","RM","propEq","renderHeader","renderMap","renderList","QueryPickupMapBranch","createPickupOrder","name","onSelect","onSelectBranch","onShowMap","onPrefetch","prefetchFoodMenu","_ShopAddress","_ShopStatusDisplay","StatusDisplayPosition","key","ShopAddress","address","ShopStatusDisplay","SecondaryButton","pickupEnabled","PrimaryButton","onMouseEnter","toLocaleLowerCase","_reactGoogleMaps","_ButtonStripe","_gps","ButtonStripeContainerStyled","panToBranch","panToLocation","gps","latlng","gpsToLatLng","latitude","Number","longitude","undefined","Marker","position","_uaParserJs","_MobileSmartBanner2","SmartBannerContainer","getPlatformType","os","navigator","userAgent","getOS","MobilePlatformEnum","Ios","Android","platform","isValid","banner","ensureBannerForCurrentBranch","shouldBeVisible","QueryBanner","app","setClosedNow","style","backgroundImage","icon","title","href","url","setInstalledNow","BannerQuery"],"mappings":"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","file":"static/js/4.f0ad9a54.chunk.js","sourcesContent":["import React from 'react'\nimport { Route } from 'react-router-dom'\nimport { Container } from 'reactstrap'\n\nimport { MobileConfirmView } from '../segments/mobile/MobileConfirmView'\nimport { MobileDeliveryView } from '../segments/mobile/MobileDeliveryView'\nimport { MobileFinishView } from '../segments/mobile/MobileFinishView'\nimport { MobileIntroView } from '../segments/mobile/MobileIntroView'\nimport { MobileOrderView } from '../segments/mobile/MobileOrderView'\nimport { MobilePickupView } from '../segments/mobile/MobilePickupView'\nimport { MobileSmartBanner } from '../segments/mobile/MobileSmartBanner'\n\nconst MobileApp = () => (\n  <>\n    <Route path=\"/\" component={MobileSmartBanner} />\n    <Container fluid={true}>\n      <Route exact={true} path=\"/\" component={MobileIntroView} />\n      <Route path=\"/pickup/:branchId?\" component={MobilePickupView} />\n      <Route path=\"/delivery\" component={MobileDeliveryView} />\n      <Route path=\"/order\" component={MobileOrderView} />\n      <Route path=\"/confirm\" component={MobileConfirmView} />\n      <Route path=\"/finish\" component={MobileFinishView} />\n    </Container>\n  </>\n)\n\nexport default MobileApp\n","import './MobileHeader.css'\n\nimport React from 'react'\n\nimport { MobileHeaderButton } from '../../common/Buttons'\n\ninterface IProps {\n  text: string\n  buttonText: string\n  buttonRight?: boolean\n  onButtonClick(): void\n}\n\nconst MobileHeader: React.SFC<IProps> = ({\n  text,\n  buttonText,\n  buttonRight = false,\n  onButtonClick,\n}) => {\n  const leftButton =\n    buttonRight === false ? (\n      <MobileHeaderButton\n        className=\"mobile__header__button\"\n        data-testid=\"MobileHeaderButton__Left\"\n        // size=\"sm\"\n        onClick={onButtonClick}\n      >\n        {buttonText}\n      </MobileHeaderButton>\n    ) : null\n  const rightButton =\n    buttonRight === true ? (\n      <MobileHeaderButton\n        className=\"mobile__header__button\"\n        data-testid=\"MobileHeaderButton__Right\"\n        // size=\"sm\"\n        onClick={onButtonClick}\n        isConfirm={true}\n      >\n        {buttonText}\n      </MobileHeaderButton>\n    ) : null\n  return (\n    <div className=\"mobile__header\">\n      {leftButton}\n      <div className=\"mobile__header__text\">{text}</div>\n      {rightButton}\n    </div>\n  )\n}\n\nexport default MobileHeader\n","import './MobileConfirmView.css'\n\nimport { Trans } from '@lingui/react'\nimport React from 'react'\nimport { RouteComponentProps } from 'react-router'\n\nimport { ScrollToTop } from '../../common/ScrollToTop'\nimport { WithOrder } from '../../common/WithOrder'\nimport { i18n } from '../../i18n'\nimport { OrderAgreements } from '../orderForm/OrderAgreements'\nimport { OrderErrorModal } from '../orderForm/OrderErrorModal'\nimport { OrderFormInputs } from '../orderForm/OrderFormInputs'\nimport { OrderFormSetup } from '../orderForm/OrderFormSetup'\nimport { OrderFormStorageNotice } from '../orderForm/OrderFormStorageNotice'\nimport { OrderGoPayModal } from '../orderForm/OrderGoPayModal'\nimport MobileHeader from './MobileHeader'\nimport { MobilePaymentMethod } from './MobilePaymentMethod'\n\ninterface IProps extends RouteComponentProps<{}> {}\n\nexport const MobileConfirmView: React.SFC<IProps> = ({ history }) => (\n  <div className=\"mobile__confirm__view\">\n    <MobileHeader\n      text={i18n.t`Order confirmation`}\n      buttonText={i18n.t`Cancel`}\n      onButtonClick={() => history.goBack()}\n    />\n    <WithOrder\n      render={order => (\n        <OrderFormSetup\n          order={order}\n          render={form => (\n            <>\n              <ScrollToTop />\n              <OrderFormStorageNotice />\n              <OrderGoPayModal order={order} />\n              <OrderErrorModal />\n              <div className=\"mobile__confirm__view__form\">\n                <h3>\n                  <Trans>Where and to whom we deliver?</Trans>\n                </h3>\n                <OrderFormInputs />\n                <OrderAgreements />\n              </div>\n              <div className=\"mobile__confirm__view__submit\">\n                <h4>\n                  <Trans>Place order</Trans>\n                </h4>\n                <MobilePaymentMethod\n                  orderModel={order}\n                  onConfirm={form.submitForm}\n                />\n              </div>\n            </>\n          )}\n        />\n      )}\n    />\n  </div>\n)\n","import { PureComponent } from 'react'\n\ninterface IProps {}\n\nexport class ScrollToTop extends PureComponent<IProps> {\n  componentDidMount() {\n    window.scrollTo(0, 0)\n  }\n\n  render() {\n    return null\n  }\n}\n","import './MobilePaymentMethod.css'\n\nimport React from 'react'\n\nimport { PaymentGateEnum } from '../../graph/types'\nimport { i18n } from '../../i18n'\nimport { TOrderModel } from '../../models/OrderModel'\nimport { MobilePaymentButton } from './MobilePaymentButton'\n\ninterface IProps {\n  orderModel: TOrderModel\n  onConfirm(): void\n}\n\nexport const MobilePaymentMethod: React.SFC<IProps> = ({\n  orderModel,\n  onConfirm,\n}) => (\n  <div className=\"mobile__confirm__payment__method\">\n    <MobilePaymentButton\n      method={PaymentGateEnum.Gopay}\n      onClick={onConfirm}\n      data-testid=\"mobilePaymentMethodGoPay\"\n    >\n      <span className=\"flaticon-credit-card\">\n        {i18n.t`Pay by card`.toLocaleUpperCase()}\n      </span>\n    </MobilePaymentButton>\n    <MobilePaymentButton\n      method={PaymentGateEnum.Cash}\n      onClick={onConfirm}\n      data-testid=\"mobilePaymentMethodCash\"\n    >\n      <span className=\"flaticon-money\">\n        {i18n.t`Pay by cash`.toLocaleUpperCase()}\n      </span>\n    </MobilePaymentButton>\n  </div>\n)\n","import React from 'react'\nimport { Field } from 'react-form'\n\nimport { SelectButtonThemed } from '../../common/Buttons'\nimport SubmitSpinner from '../../common/SubmitSpinner'\nimport { WithOrder } from '../../common/WithOrder'\nimport { PaymentGateEnum } from '../../graph/types'\n\ninterface IProps {\n  method: PaymentGateEnum\n  disabled?: boolean\n  onClick(): void\n}\n\nexport const MobilePaymentButton: React.SFC<IProps> = ({\n  method,\n  disabled,\n  onClick,\n  children,\n  ...props\n}) => (\n  <WithOrder\n    observe={true}\n    render={order => (\n      <Field\n        field=\"payment\"\n        render={fieldApi => (\n          <SelectButtonThemed\n            selected={fieldApi.value === method}\n            disabled={disabled || order.isSubmitting}\n            onClick={() => {\n              fieldApi.setValue(method)\n              onClick()\n            }}\n            {...props}\n          >\n            {order.isSubmitting && fieldApi.value === method ? (\n              <SubmitSpinner />\n            ) : (\n              children\n            )}\n          </SelectButtonThemed>\n        )}\n      />\n    )}\n  />\n)\n","import './MobileMap.css'\n\nimport { History } from 'history'\nimport React from 'react'\nimport { RouteComponentProps } from 'react-router'\n\nimport { BaseMap } from '../../common/BaseMap'\nimport { WithRoot } from '../../common/WithRoot'\nimport { i18n } from '../../i18n'\nimport { DeliveryMap } from '../map/DeliveryMap'\nimport MobileHeader from './MobileHeader'\n\nconst LocationDiscovery = () => <i>{i18n.t`Finding location...`}</i>\n\ninterface IProps extends RouteComponentProps<{}> {\n  history: History\n}\n\nexport const MobileDeliveryView: React.SFC<IProps> = ({ history }) => (\n  <div>\n    <MobileHeader\n      text={i18n.t`Enter the address`}\n      buttonText={i18n.t`Back`}\n      onButtonClick={() => history.goBack()}\n    />\n    <div className=\"mobile__map__view\">\n      <WithRoot\n        render={root =>\n          root.location.hasLocation ? (\n            <BaseMap\n              model={root.map}\n              render={() => (\n                <DeliveryMap\n                  onConfirm={() => history.push('/order')}\n                  rootModel={root}\n                />\n              )}\n            />\n          ) : (\n            <LocationDiscovery />\n          )\n        }\n      />\n    </div>\n  </div>\n)\n","import '../finish/FinishView.css'\n\nimport React from 'react'\nimport { Row } from 'reactstrap'\n\nimport { ColStyle } from '../../common/ColStyle'\n\nimport { FinishViewFooter } from '../finish/FinishViewFooter'\nimport { FinishViewLoader } from '../finish/FinishViewLoader'\nimport { FinishViewOrder } from '../finish/FinishViewOrder'\nimport { FinishViewSupport } from '../finish/FinishViewSupport'\n\ninterface IProps {}\n\nexport const MobileFinishView: React.SFC<IProps> = ({}) => (\n  <Row className=\"justify-content-md-center\">\n    <ColStyle>\n      <div className=\"finish__view__mobile\">\n        <FinishViewLoader\n          render={result => (\n            <>\n              <FinishViewOrder order={result.order} />\n              <FinishViewSupport branch={result.companyBranch} />\n              <FinishViewFooter finish={result} />\n            </>\n          )}\n        />\n      </div>\n    </ColStyle>\n  </Row>\n)\n","import './MobileIntroView.css'\n\nimport React from 'react'\nimport { Route } from 'react-router-dom'\n\nimport BackgroundThemed from '../../common/BackgroundThemed'\nimport { OrderMethod } from '../destination/OrderMethod'\nimport { ShopHeaderIcons } from '../shop/ShopHeaderIcons'\nimport { MobileShopIntro } from './MobileShopIntro'\n\nexport const MobileIntroView: React.SFC = () => (\n  <div className=\"mobile__intro\">\n    <BackgroundThemed\n      className=\"mobile__intro__logo\"\n      data-testid=\"MobileIntroView__BackgroundThemed\"\n      imageName=\"storeLogoMobile\"\n      size=\"cover\"\n      fixed={false}\n    >\n      <ShopHeaderIcons />\n    </BackgroundThemed>\n    <div className=\"mobile__intro__info\">\n      <MobileShopIntro />\n      <Route>\n        {({ history }) => (\n          <OrderMethod\n            onChange={order => {\n              if (order.usingDeliveryOrderMethod) {\n                history.push('/delivery')\n              } else if (order.usingPickupOrderMethod) {\n                history.push('/pickup')\n              }\n            }}\n          />\n        )}\n      </Route>\n    </div>\n  </div>\n)\n","import { useObserver } from 'mobx-react-lite'\nimport React from 'react'\n\nimport { useRoot } from '../../common/WithRoot'\nimport { QueryMobileShopIntro } from './MobileShopIntro.graphql'\n\nexport const MobileShopIntro: React.FC = () => {\n  const { business } = useRoot()\n  return useObserver(() => (\n    <QueryMobileShopIntro\n      variables={{ branchId: business.branchId! }}\n      renderLoading={() => null}\n      render={({ companyBranch: { headerText } }) => (\n        <div data-testid=\"MobileShopIntro\">{headerText}</div>\n      )}\n    />\n  ))\n}\n","import gql from 'graphql-tag'\n\nimport { buildQuery } from '../../graph/buildQuery'\nimport { GMobileShopIntro } from '../../graph/types'\n\nexport const MobileShopIntroQuery = gql`\n  query GMobileShopIntro($branchId: ID!) {\n    companyBranch(id: $branchId) {\n      id\n      headerText\n    }\n  }\n`\n\nexport const QueryMobileShopIntro = buildQuery<\n  GMobileShopIntro.Query,\n  GMobileShopIntro.Variables\n>(MobileShopIntroQuery)\n","import './MobileOrderView.css'\n\nimport React from 'react'\n\nimport { WithOrder } from '../../common/WithOrder'\nimport { AddToCartModal } from '../cart/AddToCartModal'\nimport { FoodMenuView } from '../foodMenu/FoodMenuView'\nimport { MobileCart } from './MobileCart'\nimport { MobileClosingTimeModal } from './MobileClosingTimeModal'\n\nexport const MobileOrderView = props => (\n  <WithOrder\n    redirect={true}\n    render={order => (\n      <div className=\"mobile__order__view\">\n        <FoodMenuView />\n        <MobileCart orderId={order.orderId!} />\n        <AddToCartModal order={order} />\n        <MobileClosingTimeModal branchId={order.branchId!} />\n      </div>\n    )}\n  />\n)\n","import './MobileCart.css'\nimport './MobileSlidingCart.css'\n\nimport classNames from 'classnames'\nimport React, { Component } from 'react'\nimport { Redirect } from 'react-router'\n\nimport { CartView } from '../cart/CartView'\nimport { OrderSubmitLine } from '../orderForm/OrderSubmitLine'\nimport { QueryMobileCart } from './MobileCart.graphql'\nimport { MobileCartSummary } from './MobileCartSummary'\n\ninterface IProps {\n  count: number\n  price: string\n  isLoading: boolean\n}\n\ninterface IState {\n  isOpen: boolean\n  goConfirm: boolean\n}\n\nclass MobileCartController extends Component<IProps, IState> {\n  state = { isOpen: false, goConfirm: false }\n\n  setOpen = (isOpen: boolean) => {\n    this.setState({ isOpen })\n  }\n\n  static getDerivedStateFromProps({ count }: IProps, { isOpen }: IState) {\n    if (count === 0 && isOpen === true) {\n      return {\n        isOpen: false,\n      }\n    }\n    return null\n  }\n\n  // shouldComponentUpdate({ isLoading }: IProps) {\n  //   return !isLoading\n  // }\n\n  get isEmpty() {\n    return this.props.count === 0\n  }\n\n  onToggle = () => {\n    if (this.isEmpty) {\n      this.setOpen(false)\n    } else {\n      this.setState(prev => ({ isOpen: !prev.isOpen }))\n    }\n  }\n\n  onSubmit = () => {\n    this.setState({ goConfirm: true })\n  }\n\n  render() {\n    const { count, price, isLoading } = this.props\n    const { isOpen, goConfirm } = this.state\n\n    if (goConfirm) {\n      return <Redirect to=\"/confirm\" push={true} />\n    }\n\n    return (\n      <div\n        className={classNames('mobile__sliding__cart', {\n          mobile__sliding__cart__open: isOpen,\n        })}\n      >\n        <div className=\"mobile__cart__view\">\n          <MobileCartSummary\n            count={count}\n            price={price}\n            isLoading={isLoading}\n            onClick={this.onToggle}\n          />\n          {isOpen ? (\n            <>\n              <CartView />\n              <OrderSubmitLine\n                canSubmit={!this.isEmpty}\n                onClick={this.onSubmit}\n              />\n            </>\n          ) : null}\n        </div>\n      </div>\n    )\n  }\n}\n\nexport const MobileCart: React.SFC<{ orderId: ID }> = ({ orderId }) => (\n  <QueryMobileCart\n    variables={{ orderId }}\n    renderLoading={false}\n    render={({ order }, { loading }) => (\n      <MobileCartController\n        count={order ? order.countWares : 0}\n        price={order ? order.totalSum.formattedValue : '???'}\n        isLoading={loading || !order}\n      />\n    )}\n  />\n)\n","import './MobileCartSummary.css'\n\nimport { Trans } from '@lingui/react'\nimport React from 'react'\nimport styled from 'styled-components'\n\nimport { i18n } from '../../i18n'\n\ninterface IProps {\n  count: number\n  price: string\n  isLoading: boolean\n  onClick(): void\n}\n\nconst MobileCartSummaryCountThemed = styled.div`\n  background-color: ${({ theme }) => theme.secondary};\n`\n\nconst MobileCartSummaryPriceThemed = styled.span`\n  color: ${({ theme }) => theme.primary};\n`\n\nexport const MobileCartSummary: React.SFC<IProps> = ({\n  count,\n  price,\n  isLoading,\n  onClick,\n}) => {\n  const showContent = count > 0 || isLoading === true\n  return (\n    <div\n      className=\"mobile__cart__summary\"\n      data-testid=\"mobileCartSummary\"\n      onClick={onClick}\n    >\n      {showContent ? (\n        <div className=\"mobile__cart__summary__toggle\">\n          <span className=\"flaticon-chevron-up\" />\n        </div>\n      ) : null}\n\n      <div className=\"mobile__cart__summary__info\">\n        <span className=\"flaticon-cart\" />\n        {showContent ? (\n          <MobileCartSummaryCountThemed\n            className=\"mobile__cart__summary__count\"\n            data-testid=\"mobileCartSummary__Count\"\n          >\n            {count || '?'}\n          </MobileCartSummaryCountThemed>\n        ) : null}\n        {!showContent ? (\n          <span data-testid=\"cartIsEmpty\">{i18n.t`Cart is empty`}</span>\n        ) : (\n          <div\n            className=\"mobile__cart__summary__cart__with__price\"\n            data-testid=\"mobileCartSummary__Price\"\n          >\n            <Trans>\n              In the cart you have goods for\n              <MobileCartSummaryPriceThemed className=\"mobile__cart__summary__price\">\n                {price}\n              </MobileCartSummaryPriceThemed>\n            </Trans>\n          </div>\n        )}\n      </div>\n    </div>\n  )\n}\n","import React from 'react'\n\nimport { ShopClosingTimeModal } from '../shop/ShopClosingTimeModal'\nimport { QueryMobileShopStatus } from './MobileClosingTimeModal.graphql'\n\ninterface IProps {\n  branchId: ID\n}\n\nexport const MobileClosingTimeModal: React.SFC<IProps> = ({ branchId }) => (\n  <QueryMobileShopStatus\n    variables={{ branchId }}\n    render={({ branch }) => <ShopClosingTimeModal status={branch} />}\n  />\n)\n","import gql from 'graphql-tag'\n\nimport { buildQuery } from '../../graph'\nimport { CompanyBranchStatusFragment } from '../../graph/fragments.graphql'\nimport { GMobileShopStatus } from '../../graph/types'\n\nexport const MobileShopStatusQuery = gql`\n  query GMobileShopStatus($branchId: ID!) {\n    branch: companyBranch(id: $branchId) {\n      id\n      ...GCompanyBranchStatus\n    }\n  }\n  ${CompanyBranchStatusFragment}\n`\n\nexport const QueryMobileShopStatus = buildQuery<\n  GMobileShopStatus.Query,\n  GMobileShopStatus.Variables\n>(MobileShopStatusQuery)\n","import React, { Component } from 'react'\nimport { RouteComponentProps } from 'react-router'\n\nimport { WithRoot } from '../../common/WithRoot'\nimport { GPickupBranch } from '../../graph/types'\nimport { RM } from '../../helpers/ramda'\nimport { i18n } from '../../i18n'\nimport { TRootModel } from '../../models/RootModel'\nimport {\n  QueryPickupMapBranch,\n  QueryPickupMapBrand,\n} from '../map/PickupMap.graphql'\nimport MobileHeader from './MobileHeader'\nimport MobilePickupList from './MobilePickupList'\nimport MobilePickupMap from './MobilePickupMap'\n\ninterface IRouteParams {\n  branchId?: string\n}\n\ninterface IProps extends RouteComponentProps<IRouteParams> {}\n\nexport class MobilePickupView extends Component<IProps> {\n  onSelectBranch(branchId: ID, root: TRootModel) {\n    root.order.createPickupOrder(branchId, () =>\n      this.props.history.push('/order'),\n    )\n  }\n  renderHeader(branch: Maybe<GPickupBranch.Fragment>) {\n    return (\n      <MobileHeader\n        text={branch ? branch.name : i18n.t`Choose branch`}\n        buttonText={i18n.t`Back`}\n        onButtonClick={() => this.props.history.goBack()}\n      />\n    )\n  }\n  renderMap(branch: Maybe<GPickupBranch.Fragment>, root: TRootModel) {\n    return (\n      <MobilePickupMap\n        model={root.map}\n        branch={branch}\n        onSelect={() => branch && this.onSelectBranch(branch.id, root)}\n      />\n    )\n  }\n  renderList(\n    branches: ReadonlyArray<GPickupBranch.Fragment>,\n    root: TRootModel,\n  ) {\n    return (\n      <MobilePickupList\n        branches={branches}\n        onShowMap={({ id }) => this.props.history.push(`/pickup/${id}`)}\n        onSelect={({ id }) => this.onSelectBranch(id, root)}\n        onPrefetch={id => root.order.prefetchFoodMenu(id)}\n      />\n    )\n  }\n  renderQuery = (root: TRootModel) => {\n    const { branchId } = this.props.match.params\n    if (root.business.isBrand) {\n      return (\n        <QueryPickupMapBrand\n          variables={{ brandId: root.business.brandId! }}\n          renderLoading={!branchId}\n          render={({ branches }) => {\n            const branch =\n              (branches && branches.find(RM.propEq('id', branchId))) || null\n            return (\n              <>\n                {this.renderHeader(branch)}\n                {branch\n                  ? this.renderMap(branch, root)\n                  : this.renderList(branches, root)}\n              </>\n            )\n          }}\n        />\n      )\n    }\n    return (\n      <QueryPickupMapBranch\n        variables={{ branchId: root.business.branchId! }}\n        renderLoading={false}\n        render={({ branch }, { loading }) => (\n          <>\n            {this.renderHeader(branch)}\n            {this.renderMap(branch, root)}\n          </>\n        )}\n      />\n    )\n  }\n  render() {\n    return <WithRoot render={this.renderQuery} />\n  }\n}\n","import './MobilePickupList.css'\n\nimport React from 'react'\nimport styled from 'styled-components'\n\nimport { PrimaryButton, SecondaryButton } from '../../common/Buttons'\nimport { ShopAddress } from '../../common/ShopAddress'\nimport { GPickupBranch } from '../../graph/types'\nimport { i18n } from '../../i18n'\nimport { ShopStatusDisplay } from '../shop/ShopStatusDisplay'\n\ninterface IProps {\n  branches: ReadonlyArray<GPickupBranch.Fragment>\n  onSelect(site: GPickupBranch.Fragment): void\n  onShowMap(site: GPickupBranch.Fragment): void\n  onPrefetch(branchId: ID): void\n}\n\nconst StatusDisplayPosition = styled.div``\n\nconst MobilePickupList: React.SFC<IProps> = ({\n  branches,\n  onSelect,\n  onShowMap,\n  onPrefetch,\n}) => {\n  const renderBranch = (branch: GPickupBranch.Fragment) => {\n    return (\n      <div\n        className=\"mobile__pickup__list__item\"\n        data-testid=\"MobilePickupList\"\n        key={branch.id}\n      >\n        <div className=\"mobile__pickup__list__header\">{branch.name}</div>\n        <ShopAddress address={branch.address} />\n        <StatusDisplayPosition>\n          <ShopStatusDisplay status={branch} />\n        </StatusDisplayPosition>\n\n        <div className=\"mobile__pickup__list__buttons\">\n          <SecondaryButton onClick={() => onShowMap(branch)}>\n            <span className=\"flaticon-signs\">\n              {i18n.t`Show on map`.toLocaleUpperCase()}\n            </span>\n          </SecondaryButton>\n          {branch.pickupEnabled ? (\n            <PrimaryButton\n              onClick={() => onSelect(branch)}\n              onMouseEnter={() => onPrefetch(branch.id)}\n            >\n              <span className=\"flaticon-mark\">\n                {i18n.t`Choose`.toLocaleUpperCase()}\n              </span>\n            </PrimaryButton>\n          ) : (\n            <PrimaryButton disabled={true}>\n              <span className=\"flaticon-mark\">\n                {i18n.t`Delivery only`.toLocaleLowerCase()}\n              </span>\n            </PrimaryButton>\n          )}\n        </div>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"mobile__pickup__list\">\n      {branches && branches.map(renderBranch)}\n    </div>\n  )\n}\n\nexport default MobilePickupList\n","import React, { PureComponent } from 'react'\nimport { Marker } from 'react-google-maps'\nimport styled from 'styled-components'\n\nimport { BaseMap } from '../../common/BaseMap'\nimport { PrimaryButton } from '../../common/Buttons'\nimport ButtonStripe from '../../common/ButtonStripe'\nimport { GPickupBranch } from '../../graph/types'\nimport { gpsToLatLng } from '../../helpers/gps'\nimport { i18n } from '../../i18n'\nimport { TMapModel } from '../../models/MapModel'\n\ninterface IProps {\n  model: TMapModel\n  branch: Maybe<GPickupBranch.Fragment>\n  onSelect(): void\n}\n\nconst ButtonStripeContainerStyled = styled.div`\n  margin-top: 2rem;\n  z-index: 10;\n`\n\nclass MobilePickupMap extends PureComponent<IProps> {\n  componentDidMount() {\n    this.panToBranch()\n  }\n  componentDidUpdate() {\n    this.panToBranch()\n  }\n  panToBranch() {\n    const { model, branch } = this.props\n    if (branch) {\n      model.panToLocation(branch.gps)\n    }\n  }\n  render() {\n    const { model, branch, onSelect } = this.props\n    const latlng = branch\n      ? gpsToLatLng({\n          latitude: Number(branch.gps.latitude),\n          longitude: Number(branch.gps.longitude),\n        })\n      : undefined\n    return (\n      <div>\n        <div className=\"mobile__map__view\">\n          <BaseMap model={model} render={() => <Marker position={latlng} />} />\n        </div>\n        {branch && branch.pickupEnabled && (\n          <ButtonStripeContainerStyled>\n            <ButtonStripe>\n              <PrimaryButton\n                onClick={onSelect}\n                data-testid=\"mobilePickupMap__SubmitButton\"\n              >\n                {i18n.t`Choose branch`.toLocaleUpperCase()}\n              </PrimaryButton>\n            </ButtonStripe>\n          </ButtonStripeContainerStyled>\n        )}\n        {branch && !branch.pickupEnabled && (\n          <ButtonStripeContainerStyled>\n            <ButtonStripe>\n              <PrimaryButton\n                disabled={true}\n                data-testid=\"mobilePickupMap__SubmitButton\"\n              >\n                {i18n.t`Delivery only`.toLocaleLowerCase()}\n              </PrimaryButton>\n            </ButtonStripe>\n          </ButtonStripeContainerStyled>\n        )}\n      </div>\n    )\n  }\n}\n\nexport default MobilePickupMap\n","import './MobileSmartBanner.css'\n\nimport { Trans } from '@lingui/react'\nimport React from 'react'\nimport styled from 'styled-components'\nimport UAParser from 'ua-parser-js'\n\nimport { WithRoot } from '../../common/WithRoot'\nimport { MobilePlatformEnum } from '../../graph/types'\nimport { QueryBanner } from './MobileSmartBanner.graphql'\n\ninterface IProps {}\n\nconst SmartBannerContainer = styled.div`\n  border-bottom: 1px solid #8f8f8f;\n  height: 81px;\n  position: absolute;\n  z-index: 1;\n  top: 3rem;\n  width: 100%;\n`\n\nexport const MobileSmartBanner: React.SFC<IProps> = props => (\n  <WithRoot\n    observe={true}\n    render={({ business }) => {\n      const platform = getPlatformType()\n      if (!business.isValid || platform === null) {\n        return null\n      }\n      const banner = business.ensureBannerForCurrentBranch()\n      if (!banner.shouldBeVisible) {\n        return null\n      }\n      const wrapperClassName = `smartbanner smartbanner-ios smartbanner-top`\n      return (\n        <QueryBanner\n          variables={{\n            branchId: banner.branchId,\n            platform,\n          }}\n          render={({ app }) => {\n            return app ? (\n              <SmartBannerContainer>\n                <div className={wrapperClassName}>\n                  <div className=\"smartbanner-container\">\n                    <a\n                      className=\"smartbanner-close\"\n                      onClick={banner.setClosedNow}\n                    >\n                      &times;\n                    </a>\n                    <span\n                      className=\"smartbanner-icon\"\n                      style={{ backgroundImage: `url(${app.icon})` }}\n                    />\n                    <div className=\"smartbanner-info\">\n                      <div className=\"smartbanner-title\">{app.title}</div>\n                      <div className=\"smartbanner-description\">\n                        <Trans>Free</Trans>\n                      </div>\n                    </div>\n                    <div className=\"smartbanner-wrapper\">\n                      <a\n                        href={app.url}\n                        onClick={banner.setInstalledNow}\n                        className=\"smartbanner-button\"\n                      >\n                        <span className=\"smartbanner-button-text\">\n                          <Trans>Show app</Trans>\n                        </span>\n                      </a>\n                    </div>\n                  </div>\n                </div>\n              </SmartBannerContainer>\n            ) : null\n          }}\n        />\n      )\n    }}\n  />\n)\n\nexport function getPlatformType(): Maybe<MobilePlatformEnum> {\n  const agent = new UAParser(window.navigator.userAgent)\n  const os = agent.getOS()\n  if (os.name === 'iOS') {\n    return MobilePlatformEnum.Ios\n  } else if (os.name === 'Android') {\n    return MobilePlatformEnum.Android\n  }\n  return null\n}\n","import gql from 'graphql-tag'\n\nimport { buildQuery } from '../../graph'\nimport { GSmartBanner } from '../../graph/types'\n\nconst BannerQuery = gql`\n  query GSmartBanner($branchId: ID!, $platform: MobilePlatformEnum!) {\n    app: mobileApplicationSettings(\n      companyBranch: $branchId\n      platform: $platform\n    ) {\n      title\n      url\n      icon\n    }\n  }\n`\n\nexport const QueryBanner = buildQuery<\n  GSmartBanner.Query,\n  GSmartBanner.Variables\n>(BannerQuery)\n"],"sourceRoot":""}