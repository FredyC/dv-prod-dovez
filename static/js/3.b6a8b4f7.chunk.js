(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{1024:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FinishView=void 0,r(939);var a=s(r(1)),n=r(151),l=r(893),d=s(r(917)),o=r(943),u=r(944),i=r(945),c=r(946);function s(e){return e&&e.__esModule?e:{default:e}}t.FinishView=(({})=>a.default.createElement(a.default.Fragment,null,a.default.createElement(d.default,null),a.default.createElement(n.Row,{className:"justify-content-md-center"},a.default.createElement(l.ColStyle,null,a.default.createElement("div",{className:"finish__view"},a.default.createElement(u.FinishViewLoader,{render:e=>a.default.createElement(a.default.Fragment,null,a.default.createElement(i.FinishViewOrder,{order:e.order}),a.default.createElement(c.FinishViewSupport,{branch:e.companyBranch}),a.default.createElement(o.FinishViewFooter,{finish:e}))}))))))},1026:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ShopHeader=void 0;var a=r(152),n=y(r(1)),l=r(30),d=r(151),o=y(r(65)),u=r(893),i=r(1027),c=r(1028),s=r(940),m=r(941),f=r(1038),p=r(1039),h=r(1040),_=r(1041);function y(e){return e&&e.__esModule?e:{default:e}}const v=o.default.div.withConfig({displayName:"ShopHeaderStyled"})`
  display: flex;
  min-height: 200px;
`,E=o.default.div.withConfig({displayName:"ShopHeaderInfoStyled"})`
  display: flex;
  flex-direction: column;
  align-items: flex-start;
`;t.ShopHeader=(({branch:e,intro:t,isLoading:r})=>n.default.createElement("div",null,n.default.createElement(d.Row,{className:"justify-content-md-center"},n.default.createElement(m.ShopHeaderIcons,null)),n.default.createElement(d.Row,{className:"row-white justify-content-md-center"},n.default.createElement(u.ColStyle,null,n.default.createElement(v,{"data-testid":"shopHeader"},r||!e?null:n.default.createElement(n.default.Fragment,null,n.default.createElement(p.ShopLogo,{url:t?t.homepageUrl:null}),n.default.createElement(E,null,n.default.createElement(l.Route,{exact:!0,path:"/",render:()=>n.default.createElement(n.default.Fragment,null,n.default.createElement(_.Sticker,null,n.default.createElement(a.Trans,{id:"Choose your delivery option below"})),n.default.createElement(f.ShopIntro,{intro:t}))}),n.default.createElement(l.Route,{path:"/order",render:()=>n.default.createElement(n.default.Fragment,null,n.default.createElement(s.ShopClosingTimeModal,{status:e}),n.default.createElement(_.Sticker,{success:!0},n.default.createElement(i.OrderAddress,{address:e.address})),n.default.createElement(h.ShopOpeningHours,{branch:e}),n.default.createElement(f.ShopIntro,{intro:t}))}),n.default.createElement(l.Route,{path:"/finish",render:()=>n.default.createElement(n.default.Fragment,null,n.default.createElement(_.Sticker,{success:!0},n.default.createElement(a.Trans,{id:"Order was send"})),n.default.createElement(h.ShopOpeningHours,{branch:e}),n.default.createElement(f.ShopIntro,{intro:t}))})),n.default.createElement(c.ShopCloseAlert,{status:e})))))))},1027:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OrderAddress=void 0;var a,n=r(153),l=(a=r(1))&&a.__esModule?a:{default:a},d=r(918),o=r(52),u=r(158),i=r(82);t.OrderAddress=(({address:e})=>{const{order:t,location:r}=(0,o.useRoot)();return(0,n.useObserver)(()=>{switch(t.orderMethod){case u.DeliveryTypeEnum.Messenger:return l.default.createElement("span",null,i.i18n._("Order to address"),": ",l.default.createElement("b",null,r.address));case u.DeliveryTypeEnum.Pickup:return l.default.createElement("span",null,i.i18n._("Pickup at address"),":"," ",l.default.createElement("b",null,l.default.createElement(d.ShopAddress,{address:e})));default:return null}})})},1028:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ShopCloseAlert=void 0,r(1029);var a,n=r(152),l=(a=r(1))&&a.__esModule?a:{default:a},d=r(151),o=r(899);t.ShopCloseAlert=(({status:e})=>{const{decision:t,closingIn:r}=(0,o.useShopStatus)({status:e});return"ClosingSoon"===t?l.default.createElement(d.Alert,{className:"shop__header__alert"},l.default.createElement(n.Trans,{id:"Beware! We are {closingIn, plural, one {closing in 1 minute} other {closing in # minutes}} . Finish your order quickly.",values:{closingIn:r}})):null})},1029:function(e,t,r){},1038:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ShopIntro=void 0;var a=n(r(1));function n(e){return e&&e.__esModule?e:{default:e}}const l=n(r(65)).default.div.withConfig({displayName:"ShopIntroStyled"})`
  margin: 0.8rem 1rem 1rem 1.3rem;
`;t.ShopIntro=(({intro:e})=>a.default.createElement(l,{"data-testid":"headerText"},e?e.headerText:""))},1039:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ShopLogo=void 0;var a=o(r(1)),n=r(159),l=o(r(65)),d=r(920);function o(e){return e&&e.__esModule?e:{default:e}}const u=({url:e,children:t})=>e?a.default.createElement("a",{href:e},t):a.default.createElement(n.Link,{to:"/"},t),i=l.default.div.withConfig({displayName:"LogoContainerStyled"})`
  height: 200px;
  width: 400px;
  flex: 0 0 400px;
  & .shop__header__logo {
    height: 100%;
  }
`;t.ShopLogo=(e=>a.default.createElement(i,null,a.default.createElement(u,e,a.default.createElement(d.BackgroundThemed,{className:"shop__header__logo",imageName:"storeLogo",size:"cover"}))))},1040:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ShopOpeningHours=void 0;var a=i(r(1)),n=r(151),l=i(r(65)),d=r(341),o=r(157),u=r(942);function i(e){return e&&e.__esModule?e:{default:e}}const c=(0,l.default)(n.Container).withConfig({displayName:"ShopOpeningHoursContainer"})`
  margin: 0.4rem 0 0 0.1rem;
  display: flex;
`,s=l.default.div.withConfig({displayName:"ShopOpeningHoursTimes"})`
  padding-left: 2rem;
`,m=l.default.div.withConfig({displayName:"ShopOpeningHoursStatus"})`
  padding-left: 2rem;
`,f=l.default.div.withConfig({displayName:"ShopOpeningHoursIcon"})`
  margin: -0.2rem 0 0 -1rem;
  position: absolute;
`;t.ShopOpeningHours=(({branch:e})=>{const t=e.businessHours.filter(o.RM.propEq("closed",!1));return a.default.createElement(c,{fluid:!0},a.default.createElement(f,{className:"flaticon-clock"}),t.length>0&&a.default.createElement(s,null,t.map((e,t)=>a.default.createElement("div",{"data-testid":"openingHours",key:t},`${(0,d.formatTime)(e.openAt)} - ${(0,d.formatTime)(e.closeAt)}`))),a.default.createElement(m,null,a.default.createElement(u.ShopStatusDisplay,{status:e,deliveryTime:e.defaultDeliveryTime,pickupTime:e.defaultPickupTime})))})},1041:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sticker=void 0;var a=d(r(4)),n=d(r(1)),l=d(r(65));function d(e){return e&&e.__esModule?e:{default:e}}const o=l.default.div.withConfig({displayName:"StickerThemed"})`
  background: ${({theme:e})=>e.primary};
  color: white;
  margin-top: 1rem;
  padding: 0;
  border-radius: 0 0.7rem 0.7rem 0;
  white-space: nowrap;
  flex: none;

  & p {
    display: inline-block;
    margin: 0.6rem 1rem 0 0;
    vertical-align: top;
    white-space: nowrap;
  }
`,u=l.default.span.withConfig({displayName:"IconStyled"})`
  margin: 0.5rem 1rem 0 0.1rem;
  &:before,:after {
  font-size: 1.8rem;
  margin: 0 0 0 1rem;
  }
}
`;t.Sticker=(({success:e=!1,children:t})=>n.default.createElement(o,{className:(0,a.default)("right__sticker",{"order-method-unselected":!e,"order-method-selected":e})},n.default.createElement(u,{className:"flaticon-transport"}),n.default.createElement("p",null,t)))},1042:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QueryShopHeader=t.ShopHeaderQuery=void 0;var a,n=(a=r(21))&&a.__esModule?a:{default:a},l=r(160),d=r(31),o=r(1043);const u=n.default`
  query GShopHeader($brandId: ID, $branchId: ID!) {
    branch: companyBranch(id: $branchId) {
      id
      address {
        ...GAddress
      }
      ...GShopOpeningHours
      ...GCompanyBranchStatus
    }
    intro: applicationSettings(brand: $brandId, companyBranch: $branchId) {
      headerText
      homepageUrl
    }
  }
  ${d.AddressFragment}
  ${d.CompanyBranchStatusFragment}
  ${o.ShopOpeningHoursFragment}
`;t.ShopHeaderQuery=u;const i=(0,l.buildQuery)(u);t.QueryShopHeader=i},1043:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ShopOpeningHoursFragment=void 0;var a,n=(a=r(21))&&a.__esModule?a:{default:a},l=r(31);const d=n.default`
  fragment GShopOpeningHours on CompanyBranch {
    defaultDeliveryTime
    defaultPickupTime
    ...GCompanyBranchStatus
  }
  ${l.CompanyBranchStatusFragment}
`;t.ShopOpeningHoursFragment=d},1045:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MapView=void 0,r(1046);var a=r(336),n=c(r(1)),l=r(151),d=r(893),o=r(947),u=c(r(917)),i=r(1050);function c(e){return e&&e.__esModule?e:{default:e}}t.MapView=(()=>{const{history:e}=(0,a.useRouterContext)();return n.default.createElement(n.default.Fragment,null,n.default.createElement(u.default,null),n.default.createElement(l.Row,{className:"justify-content-md-center"},n.default.createElement(d.ColStyle,null,n.default.createElement("div",{className:"map__view"},n.default.createElement("div",{className:"map__view__header"},n.default.createElement(o.OrderMethod,null)),n.default.createElement(i.OrderMap,{onConfirm:()=>e.push("/order")})))))})},1046:function(e,t,r){},1050:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OrderMap=void 0;var a=r(153),n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};a.get||a.set?Object.defineProperty(t,r,a):t[r]=e[r]}return t.default=e,t}(r(1)),l=r(922),d=r(52),o=r(158),u=r(987),i=r(1206);const c={[o.DeliveryTypeEnum.Messenger]:(0,n.createFactory)(u.DeliveryMap),[o.DeliveryTypeEnum.Pickup]:(0,n.createFactory)(i.PickupMap)};t.OrderMap=(({onConfirm:e})=>{const{order:t,map:r}=(0,d.useRoot)();return(0,a.useObserver)(()=>n.default.createElement(l.BaseMap,{model:r},c[t.orderMethod]({onConfirm:e})))})},1206:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PickupMap=void 0,r(1207);var a=r(5),n=r(153),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};a.get||a.set?Object.defineProperty(t,r,a):t[r]=e[r]}return t.default=e,t}(r(1)),d=r(901),o=r(52),u=r(162),i=r(157),c=r(989),s=r(342),m=r(1209);var f=function(e,t,r,a){return new(r||(r=Promise))(function(n,l){function d(e){try{u(a.next(e))}catch(t){l(t)}}function o(e){try{u(a.throw(e))}catch(t){l(t)}}function u(e){e.done?n(e.value):new r(function(t){t(e.value)}).then(d,o)}u((a=a.apply(e,t||[])).next())})};t.PickupMap=(({onConfirm:e})=>{const{order:t,business:r,map:p}=(0,o.useRoot)(),[h,_]=(0,l.useState)(null);(0,n.useDisposable)(()=>(0,a.when)(()=>null!==r.branchId&&null===h,()=>{_(r.branchId)})),(0,l.useEffect)(()=>{h&&t.prefetchFoodMenu(h)},[h]);const y=(0,l.useCallback)(r=>f(void 0,void 0,void 0,function*(){t.setBranch(r),yield t.createPickupOrder(r),e()}),[e]),v=e=>l.default.createElement(d.Marker,{key:e.id,position:(0,u.gpsToLatLng)(e.gps),onClick:()=>_(e.id)},h===e.id?l.default.createElement(d.InfoWindow,{onCloseClick:()=>_(null),defaultOptions:{maxWidth:200}},l.default.createElement(m.PickupMapBranch,{branch:e,onConfirm:()=>{y(e.id)}})):null);return(0,n.useObserver)(()=>r.isBrand?l.default.createElement(s.QueryPickupMapBrand,{variables:{brandId:r.brandId},renderLoading:!1,render:({branches:e})=>{const t=e&&e.find(i.RM.propEq("id",r.branchId));return l.default.createElement(l.default.Fragment,null,l.default.createElement(c.MapPanning,{map:p,gps:t&&t.gps}),e&&e.map(v))}}):l.default.createElement(s.QueryPickupMapBranch,{variables:{branchId:r.branchId},renderLoading:!1,render:({branch:e})=>l.default.createElement(l.default.Fragment,null,l.default.createElement(c.MapPanning,{map:p,gps:e&&e.gps}),e&&v(e))}))})},1207:function(e,t,r){},1209:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PickupMapBranch=void 0;var a=r(152),n=c(r(1)),l=c(r(65)),d=r(334),o=r(918),u=r(899),i=r(82);function c(e){return e&&e.__esModule?e:{default:e}}const s=l.default.div.withConfig({displayName:"PickupMapHeaderStyled"})`
  background-color: ${({theme:e})=>e.primary};
  color: ${({theme:e})=>e.tertiaryText};
  text-align: center;
  padding: 0.4rem 0.2rem 0.2rem 0.2rem;
  height: 2rem;
  vertical-align: middle;
`;t.PickupMapBranch=(({branch:e,onConfirm:t})=>{const r=(0,u.useShopStatus)({status:e});return n.default.createElement("div",{className:"pickup__map"},n.default.createElement(s,{className:"pickup__map__header"},e.name),n.default.createElement("div",{className:"pickup__map__info"},n.default.createElement(o.ShopAddress,{address:e.address})),n.default.createElement(d.PrimaryButton,{color:"primary","data-testid":"submitPickupBranch",disabled:!e.pickupEnabled,onClick:t},e.pickupEnabled?function({decision:e,openingIn:t,closingIn:r}){switch(e){case"Closed":return n.default.createElement(a.Trans,{id:"Closed"});case"ClosingSoon":return n.default.createElement(a.Trans,{id:"{closingIn, plural, one {Closing in 1 minute} other {Closing in # minutes}}",values:{closingIn:r}});case"OpeningSoon":return n.default.createElement(a.Trans,{id:"{openingIn, plural, one {Opening in 1 minute} other {Opening in # minutes}}",values:{openingIn:t}});default:return i.i18n._("Pickup here").toLocaleUpperCase()}}(r):n.default.createElement(a.Trans,{id:"Delivery only"})))})},1210:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ShopOverview=void 0,r(1211);var a=_(r(1)),n=r(30),l=r(151),d=_(r(920)),o=r(893),u=_(r(349)),i=r(52),c=r(82),s=r(990),m=r(996),f=r(1002),p=r(1248),h=_(r(917));function _(e){return e&&e.__esModule?e:{default:e}}t.ShopOverview=(()=>{const{order:e}=(0,i.useRoot)();return e.hasOrder?a.default.createElement(u.default,{branchId:e.branchId},a.default.createElement(a.default.Fragment,null,a.default.createElement(h.default,null),a.default.createElement(l.Row,{className:"justify-content-md-center"},a.default.createElement(o.ColStyleLeft,null,a.default.createElement("div",{className:"shop__overview__column"},a.default.createElement(m.FoodMenuView,null))),a.default.createElement(o.ColStyleRight,null,a.default.createElement("div",{className:"shop__overview__column cart__column"},a.default.createElement("div",{className:"cart__column__header"},a.default.createElement("span",{className:"flaticon-cart cart__column__header__icon"}),a.default.createElement("h4",null,c.i18n._("Your order"))),a.default.createElement(d.default,{className:"cart__column__cart",imageName:"backgroundCart"},a.default.createElement(s.CartView,{orderId:e.orderId})),a.default.createElement(p.OrderFormView,{orderId:e.orderId}))),a.default.createElement(f.OrderFormStorageNotice,null)))):a.default.createElement(n.Redirect,{to:"/"})})},1211:function(e,t,r){},1248:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OrderFormView=void 0,r(1249);var a,n=(a=r(1))&&a.__esModule?a:{default:a},l=r(161),d=r(1004),o=r(1251),u=r(1003),i=r(1021),c=r(1022);t.OrderFormView=(({orderId:e})=>{const{data:t}=(0,l.useQuery)(u.OrderFormQuery,{suspend:!1,skip:!e,variables:{orderId:e}});return t&&t.order&&0!==t.order.countWares?n.default.createElement(n.default.Fragment,null,n.default.createElement(o.OrderForm,null),n.default.createElement(i.OrderGoPayModal,null),n.default.createElement(d.OrderErrorModal,null),n.default.createElement(c.OrderTimePicker,null)):null})},1249:function(e,t,r){},1251:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OrderForm=void 0;var a,n=(a=r(1))&&a.__esModule?a:{default:a},l=r(52),d=r(1005),o=r(1013),u=r(1015),i=r(1018),c=r(1273),s=r(1019);t.OrderForm=(()=>{const{order:e}=(0,l.useRoot)();return n.default.createElement(i.OrderFormSetup,{render:t=>n.default.createElement("div",{className:"order__form"},n.default.createElement("div",{className:"order__form__inner"},n.default.createElement(o.OrderFormAutoFill,{onFill:e=>t.setAllValues(e)}),n.default.createElement(u.OrderFormInputs,null),n.default.createElement(c.OrderPaymentMethod,null),n.default.createElement(d.OrderAgreements,null)),n.default.createElement(s.OrderSubmitLine,{onClick:t.submitForm,canSubmit:e.isVamInitialized}))})})},1273:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OrderPaymentMethod=void 0,r(1017);var a,n=(a=r(1))&&a.__esModule?a:{default:a},l=r(158),d=r(82),o=r(1274);t.OrderPaymentMethod=(()=>n.default.createElement("div",{className:"order__payment__method"},n.default.createElement(o.OrderPaymentButton,{method:l.PaymentGateEnum.Gopay,"data-testid":"orderPaymentMethod__GoPay"},d.i18n._("Pay by card").toLocaleUpperCase()),n.default.createElement(o.OrderPaymentButton,{method:l.PaymentGateEnum.Cash,"data-testid":"orderPaymentMethod__Cash"},d.i18n._("Pay by cash").toLocaleUpperCase())))},1274:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OrderPaymentButton=void 0;var a,n=(a=r(1))&&a.__esModule?a:{default:a},l=r(894),d=r(334);function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}var u=function(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var n=0;for(a=Object.getOwnPropertySymbols(e);n<a.length;n++)t.indexOf(a[n])<0&&(r[a[n]]=e[a[n]])}return r};function i({show:e}){return e?n.default.createElement("span",{className:"flaticon-mark order__payment__method__button__checked"}):n.default.createElement("div",{className:"order__payment__method__button__unchecked"})}t.OrderPaymentButton=(e=>{var{children:t,disabled:r,method:a}=e,c=u(e,["children","disabled","method"]);return n.default.createElement(l.Field,{field:"payment",render:e=>n.default.createElement(d.SelectButtonThemed,o({disabled:r,selected:e.value===a,onClick:()=>{e.setValue(a)}},c),n.default.createElement(i,{show:e.value===a}),t)})})},878:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,n=(a=r(1))&&a.__esModule?a:{default:a},l=r(159),d=r(151),o=r(1024),u=r(1045),i=r(1210);var c=()=>n.default.createElement(d.Container,{fluid:!0},n.default.createElement(l.Route,{exact:!0,path:"/",component:u.MapView}),n.default.createElement(l.Route,{path:"/order",component:i.ShopOverview}),n.default.createElement(l.Route,{path:"/finish",component:o.FinishView}));t.default=c},917:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ShopHeaderView=void 0;var a,n=r(153),l=(a=r(1))&&a.__esModule?a:{default:a},d=r(52),o=r(1026),u=r(1042);const i=()=>{const{order:e,business:t}=(0,d.useRoot)();return(0,n.useObserver)(()=>l.default.createElement(u.QueryShopHeader,{variables:Object.assign({},t.brandOrBranch,{branchId:e.branchId||t.branchId}),skip:!t.isValid,renderLoading:!1,render:({branch:e,intro:t},{loading:r})=>l.default.createElement(o.ShopHeader,{branch:e,intro:t,isLoading:r})}))};t.ShopHeaderView=i;var c=i;t.default=c}}]);
//# sourceMappingURL=3.b6a8b4f7.chunk.js.map